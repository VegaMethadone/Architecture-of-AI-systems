{
    "article_id": "728200",
    "article_name": "Как добиться эталонного качества передачи голоса через интернет",
    "content": "голосовой связь мы давно первый телефон изобретать еще конец 19го век мобильный  середина 20го начало 2000х начало набирать популярность еще способ связь  интернетзвонок идея суть тот  общаться расстояние еще просто дешево плюс онлайнзвонок давать дополнительный функция возможность видеть собеседник видеосвязь формат вместе смотреть кино находиться разный точка планета технология идти вперед менее снова снова переспрашивать слышно разбираться статья вопрос качество передача голос звонок например почему плохо слышно звонить автомобиль что особенность использование динамик вместо наушник происходить звук участник звонок плохой интернет измерять качество звук цифра  звать алексей шпагин десять год заниматься voipтелефонией руководить команда бэкенд vk звонок наш сервис  это бесплатный средство видеосвязь пользователь вконтакте день он проходить примерно шесть миллион онлайнвстреча количество одновременный звонок достигать 15000 рассказывать улучшать качество звук складываться качество звук собираться переговорный общаться коридор свой рабочий место никакой преграда разговор  каждый видно слышно последний время общение мигрировать онлайн совещание переходить сервис видеоконференция система видеосвязь нормально работать разговаривать человек жизнь ощущать эффект присутствие общение звонок мы чтото мешать эффект присутствие значит система недостаточно высокий качество требование передача звук система видеозвонок рассматривать требование звук система видеозвонок непрерывность звуковой поток  звук прерываться сильно искажаться  это некомфортный ощущение живой общение звук должный непрерывный минимальный latency  жизнь скорость распространение звук воздух достаточно высокий задержка который мочь замечать человек человек разделять электронный система неизбежно возникать некоторый отставание сказать услышать  это называться latency latency предел 200 мс незаметный задержка секунда делать общение режим диалог практически невозможный отсутствие артефакт звук   сохранение эффект присутствие система должный вносить какихто дополнительный щелчок треск клиппинг достаточный частотный диапазон  человек среднее воспринимать звук частотный диапазон 20 гц 20 кгц  теорема котельников  адекватный передача непрерывный сигнал частота дискретизация должный минимум раз верхний граница нужный диапазон поэтому vk звонок выбирать частота 48 кгц  использовать мы webrtc она поддерживать вид частотный диапазон исторически ipтелефонии применяться частота дискретизация 8 кгц частота аудио звучать очень добиваться эффект присутствие невозможный измерение качество передача речь работать качество разборчивость голос система аудио видеосвязь использовать оценка  mos mean opinion score  измерение качество звук это метрика 1 5 иллюстрация третий столбец показывать сколько усилие требоваться слушающий восприятие иной фрагмент речь максимальный качество звук нужно мало сила энергия расшифровка сказать минимальный качество понимать слово смысл становиться очень трудно однако mos равный 5 недостижимый  это кпд 100 система видеоконференция ipтелефонии аудиокодек сжимать данный потеря закодировать фрагмент аудио декодировать  потерять качество это еще интернет передавать методика алгоритм измерение качество речь классический вариант оценка mos основываться опрос человек который просить оценивать фрагмент запись пятибалльный шкала вкалывать робот автоматизированный алгоритм предсказывать сказать живой человек услышать иной отрывок речь рассматривать какой бывать алгоритм устраивать автоматический измерение качество речь первый вариант достаточно высококачественный  референсный сигнал  подаваться звонок выполняться процедура кодирование декодирование производиться передача интернет получаться искаженный сигнал референсный искаженный сигнал сравниваться алгоритм предсказывать оценка mos методика оценка качество речь основа референс второй вариант  это  безреференсный метрика  все примерно самый алгоритм работать искаженный сигнал пытаться оценивать качество использовать исходный сигнал безреференсный методика оценка качество реча вконтакте применять референсный метрика  visqol  безреференсный метрика  nisqa  специально комбинировать подход больший объективность оценка другой метрика  polqa   стандарт оценка качество звук система webrtc подобный этот закрывать вендорский решение  aqua   позиционироваться аналог polqa наш тест показывать определенный кейс aqua вести плохо polqa также упоминать  pesq   устаревать метрика который очень широко применяться voipтелефонии сожаление применимый 8 16 кгц частота дискретизация  мы это подходить методика оценка качество речь стенд измерение качество звук vk звонок устраивать наш стенд изменение качество звук слева пользователь  это разработчик qaинженер который хотеть измерять качество звук инженер запускать job teamcity teamcity дергать два бот  тестовый клиент облако первый бот делать звонок второй принимать звонок проходить наш сервис первый бот который делать звонок начинать проигрывать референсный файл сигнал проходить интернет vk звонок претерпевать какието искажение бот который принимать звонок записывать принимать искаженный сигнал затем референсный искаженный сигнал подаваться алгоритм оценка получать метрика попадать обратно teamcity который наш пользователь наблюдать результат измерение термин mos важный момент схема облачко обозначать интернет это действительно честный интернет тестовый клиент отделять сервис интернет находиться один датацентр ходить сервис локальный ipадресам тестирование стенд интернет проявляться связанный проблема пример проблема передача звук рассматривать два группа проблема связывать особенность передача данные интернет проблема акустический характер сетевой проблема данный сеть передаваться пакет получать звук микрофон пользователь нарезать небольшой кусочек правило 20 мс который пакетизироваться отправляться вид udpпакета ниже схема передатчик последовательно отправлять пакет p1 p2 p3 далее принцип передача голос сеть обращать внимание передатчик отправлять данные равномерно поэтому схема слева расстояние пакет одинаковый далеко пакет попадать интернет  приходить приемник гладко мы хотеться пакет мочь теряться схема пакет p4 помечать потерянный пакет мочь дрожать приходить неравный промежуток время например пакет р1 р2 практически слипаться р3 отставать р5 счет потерянный р4 отставать еще пакет мочь задерживаться меняться место например схема пакет р1 р2 переставлять место сначала приходить p2 использовать мобильный интернет проблема усиливаться хороший wifi перебой мало провод  еще поэтому качество связь интернетзвонка напрямую зависеть тип выбирать соединение компенсировать сетевой проблема первый самый базовый механизм  это  jitter buffer  jitter buffer выравнивать трафик накапливать некоторый количество пакет компенсировать дрожание подождать какойто пакет задерживаться переставлять место другой пакет далее нюанс слишком большой jitter buffer увеличивать задержка поэтому вынуждать держать баланс размер jitter buffer latency второй менее стандартный техника  это  nack negative acknowledgment  привыкать acknowledgmentам подтверждать данный получать случай каждый пакет обратный сторона отправляться acknowledgment однако realtime коммуникация мочь такой позволять это тормозить трафик бесконтрольно увеличивать latency вместо обычный ack применять nack  отправлять обратно запрос недосчитываться какогото пакет ниже схема иллюстрация механизм negative acknowledgment видеть схема передатчик последовательно идти пакет р1 р2 р3 р4 потеряться приемник понимать р4 потеряться получать следующий пакет р5 приемник получать р5 увидеть пробел последовательность отправлять nack время передатчик продолжать отправлять пакет р6 р7 р8 передатчик принимать nack понимать нужно заново отправлять p4 делать ретрансмит отличный схема работать короткий rtt возможно дождаться ретрансмит изза ограничение latency jitter buffer  мочь вечно ждать потерянный пакет третий технология  это  fec forward error correction  кодирование bitstream добавляться допо",
    "tags": [
        "качество звука",
        "mos",
        "вконтакте",
        "vk звонки",
        "fec",
        "nack",
        "webrtc"
    ]
}