{
    "article_id": "728560",
    "article_name": "Безопасный Wi-Fi в отеле для всей семьи на Raspberry Pi",
    "content": "все привет сегодня хотеть рассказывать свой семейный проект raspberrypi путешествовать мир постоянно сталкиваться потребность подключаться быстрый мало важно безопасный интернет  представлять ситуация въезжать отель свой семья пара часы решать вопрос размещение изрядно устав пытаться подключать весь семейство сеть ребенок требовать мультик супруга хотеть поискать близкий магазин пошопиться ты нужно просто поработать цеплять каждый устройство точка доступ отель надеяться сеть внедрять какието механизм защита типовой проблема открытый беспроводной сеть относиться возможность перехват трафик подделка ответ вебприложение dnsспуфинг сам сеть скомпрометировать поэтому любой публичный сеть нужно вести максимально осторожно хороший способ защищать свой трафик влияние извне  использовать свой vpn россия безопасность беспроводной сеть дело обстоять болееменее вдругой страна доводиться побывать все радужно давать использование свой vpn возможность подключать устройство семья разом интернет публичный сеть защищать трафик помощь vpn настройка собственный vpn отличный гайд  youtube  собственно идея новый  решать сделать небольшой travelроутер семья использовать готовый решение однако малинка внешний адаптер поэтому реализация мой задумка приходиться докупать плюс инструмент хранить флешка использовать семейный поездка остальной время малинка другой жизнь  решать подготовить пошаговый инструкция тот захотеть повторять опыт надеяться оказываться полезный вариант первый роутер основа openwrt суть схема подключение подымать один внешний wifi интерфейс малинка наш точка доступ который быть подключаться наш беспроводный клиент второй адаптер встраивать мой случай желание второй внешний использовать подключаться публичный wifi весь трафик наш беспроводный девайс идти наш vpnтуннель проект потребоваться 1 raspberry pi 4 2 адаптер питание  3 microsdкарта  4 ethernetкабель  5 внешний usb wifi адаптер недорогой aliexpress ac1200 чипсет mt7612u шаг первый заливать образ openwrt microsdкарту мы пригождаться следующий  raspberry pi imager  также корректный образ openwrt нужный образ ваш малинка находить  ссылка  итак запускать raspberry pi imager указывать путь файл прошивка openwrt выбирать наш microsdкарту нужно записывать файл жать write дожидаться окончание процесс запись проверка извлекать microsdкарту шаг второй вставлять microsdкарту наш малинка подключать питание далее подсоединять наш домашний роутер который подключать наш пк помощь ethernetкабеля важно дальнейший настройка наш малинка необходимо компьютер малинка находиться один подсеть вмоедать случай это 1921681024 умолчание установка свежий прошивка openwrt интерфейс малинка иметь ip1921681124 соответственно обеспечение сетевой связность необходимо ваш компьютер находиться тот подсеть шаг третий продолжать настройка наш будущий роутер необходимо подключаться он ssh рассматривать вариант gui однако мой случай использовать cli действие повторять графический интерфейс соответственно ssh root19216811 пускать пароль однако оставлять это быть сразу задавать секурный пароль passwd далее хороший решение забэкапивать файл который быть править случай чтото пойти план  cd etcconfig cp firewall firewallbk cp network networkbk cp wireless wirelessbk настраивать сетевой интерфейс vi etcconfignetwork config interface loopback  option device lo  option proto static  option ipaddr 127001  option netmask 255000  config globals globals  option ula_prefix fd27468f224c48  config device  option name brlan  option type bridge  list ports eth0  config interface lan  option device brlan  option proto static  option ipaddr 10101040  option netmask 2552552550  option ip6assign 60  option force_link 1  config interface wwan  option proto dhcp  option peerdns 0  option dns 8888 1111 также давать доступ интернет сегмент lan vi etcconfigfirewall мы нужно изменять один значение  зона wan option input выставлять accept перезагружать наш малинка подключаться изменять ipадресу наш случай это 10101040 далее мы нужно подключать адаптер wifi прежде мы нужно доустанавливать драйвер адаптер поэтому сначала подключать малинка наш домашний wifi  vi etcconfigwireless config wifidevice radio0  option type mac80211  option path platformsocfe300000mmcnrmmc_hostmmc1mmc10001mmc100011  option channel 7   option hwmode 11g   option htmode ht20   option disabled 0   option short_gi_40 0    config wifiiface default_radio0  option device radio0  option network lan   option mode ap   option ssid openwrt   option encryption none uci commit wireless wifi далее продолжать настройка gui https10101040 вводить тот самый логин пароль который логиниться ssh переходить настройка беспроводной сеть network  wireless нажимать scan подключаться домашний беспроводный сеть устанавливать драйвер наш wifi адаптер малинка появляться доступ интернет обновлять пакет openwrt ставить драйвер большинство адаптер однако следовать исходить следующий момент чипсет адаптер который должный совмещать openwrt какой чипсет данный момент поддерживаться проверять официальный сайт openwrt opkg update opkg install kmodmt76x2u kmodrt2800lib kmodrt2800usb kmodrt2x00lib kmodrt2x00usb kmodusbcore kmodusbuhci kmodusbohci kmodusb2 usbutils nano убеждаться внешний адаптер устанавливаться корректно lsusb ifconfig wlan1 up интерфейс подниматься значит верный путь далеко мы нужно подымать точка доступ необходимо отредактировать файл nano etcconfigwireless config wifidevice radio1  option type mac80211  option path scbfd500000pciepci000000000000000000001000usb2212110  путь сгенериться автомат трогать нужно  option channel 36  option band 5g  option htmode vht80  option disabled 0  забывать включать  config wifiiface default_radio1  option device radio1  option network lan  option mode ap  option ssid название сеть который быть подключать свой девайса   option encryption psk2  option key пароль сеть uci commit wireless wifi работать travelроутер подключать семья wifi малинка все интернет девайса достаточно подключаться публичный сеть примечание подключение wifi адаптер использовать usbразъем иной случай интерфейс стартануть однако ваш трафик попрежнему передаваться незащищенный канал поэтому нужно настраивать vpn мой случай быть настраивать подключение собственный vpnсерверу настройка другой vpnпровайдеров сильно отличаться наш малинка клиент который получение доступ интернет автоматически устанавливать соединение vpnсервером формировать защищать тоннель внутри который передаваться весь трафик устанавливать необходимый пакет наш vpn opkg update opkg install wireguardtools opkg install luciappwireguard далее заходить gui добавлять новый интерфейс network  interfaces  add new interface давать название интерфейс выбирать протокол wireguard vpn далее импортировать конфигурация добавление новый клиент который получать наш vpnсервера далеко мы нужно настраивать правило межсетевой экран следующий образ вкладка network  firewall добавлять новый зона выставлять параметр  input  reject output  accept forward  reject masquerading  checked mss clamping  checked интерфейс выбирать который относиться тоннель wireguard смотреть зона мы разрешать форвардинг далее выбирать save saveapply весь трафик ходить наш тоннель никак иначе дополнительно скорректировать правило межсетевой экранирование следующий образ заходить настройка зона lan выставлять параметр allow forward to destination zones такой образ сегмент lan доступ сегмент наш тоннель настройка роутер путешествие основа raspberypi завершать  далеко потребоваться новый место раздавать wifi весь семья нужно подключаться малинка зайти network  wireless подключаться новый сеть данный способ настройка travelроутера отличаться простота однако обладать высокий надежность позволять использовать основной преимущество открытый прошивка требовать настройка лишь далеко создавать образ пользоваться быстрый развертывание второй способ превращать малинка travelроутер поделиться следующий пост нагружать автор евгений артемьев консультант информационный безопасность инфосистема джет",
    "tags": [
        "роутер",
        "настройка wifi",
        "raspberry pi"
    ]
}