{
    "article_id": "727020",
    "article_name": "Как мы сделали кибериммунный продукт с использованием опенсорсной библиотеки: этапы, подводные камни, решения",
    "content": "помнить пандемия компания стремиться обеспечивать безопасный доступ периметр свой сотрудниковудаленщик особенно давать сверхважный  например бухгалтерский сведение корпоративный документ решение сложный громоздкий дорогой представлять насколько критичный это становиться звать сергей яковлев руководить проект kaspersky thin client построить база  наш собственный операционный система kasperskyos  thin client  это основной компонент virtual desktop infrastructure система доступ удалять рабочий стол статья пример такой клиент рассказывать сделать продукт безопасный притом коммерчески рентабельный какой этап сталкиваться проходить решать проблема поехать    такой kaspersky thin client внутри причем rdpклиент физически thin client тонкий клиент  это небольшой коробочка миникомпьютер который стоять наш программный продукт база kasperskyos позволять подключаться удалять рабочий стол сервер запускать windows linux  привычный юзер операционка внутри kaspersky thin client находиться микроядро kasperskyos модуль обеспечение безопасность kss который добавлять необходимый драйвер сервис красивый ui приложение  важный конкурентный особенность наш тонкий клиент заключаться благодаря kasperskyos обладать свойство кибериммунность  встроенный защищенность подавлять большинство тип кибератака нужный дополнительный налагать средство защита например антивирус  кибериммунитет обеспечиваться разделение itсистемы изолированный часть контроль взаимодействие они один такой ключевой компонент являться приложение который рассказывать  rdpклиент почему выбирать rdp позволять пользователь подключаться удалять рабочий стол протокол remote desktop microsoft протокол популярный известный кроме opensourceреализация freerdp сделать продукт нужно сооружать прототип  понимать насколько решение востребовать взлетать оно наш операционка поэтому взять опенсорсный реализация протокол rdp  библиотека freerdp клиентский часть серверный мы потребоваться клиентский  библиотека портировать kasperskyos добавлять необходимый компонент работать железка qt рисовать ui получаться небольшой прототип портировать freerdp kasperskyos freerdp  достаточно объемный библиотека около 400 тысяча строка код казаться портировать сложно вопервых сделать кроссплатформенный вовторых исходник доступный  опенсорс  сделать добавлять      новый платформа kasperskyos необходимо вписывать определение      наш операционка компилироваться правильно добавлять хватать наш      платформа функция некоторый тип данные получаться porting layer убирать точно поддерживать      kasperskyos например использование функция fork находить дефект пофиксить протестировать      функция стремиться покрытие 75 бранча  получаться примерно 30 небольшой коммит считать портировать легко просто pcsc цель сделать решение привлекательный бизнес добавлять один библиотека  pcsc позволять пробросить смарткарта токен удаленный рабочий сессия  это нужный пользователь вставлять токен железка который запускать наш продукт смочь работать удалять стол этот токен подключать прямо туда например подписывать документ портировать pcsc kasperskyos  портировать pcsc оказываться просто freerdp вообще говорить pcsc  библиотека скоро это компонент собираться линуксовый демон клиентский библиотека который встраиваться конкретный приложение  демон библиотека общаться друг друг api основа юникссокет демон работать usbподсистемой  смарткарта токен подключаться kaspersky thin client демон начинать работать приложение получать необходимый информация портировать взять      демон сделать сущность рамка kasperskyos оставлять api основа юникссокет получаться очень быстро мы приходиться модифицировать код основное обновлять скрипт сборка  архитектура протокол rdpклиента архитектура прототип rdpклиента центральный компонент  rdpклиент который встраивать библиотека rdp pcsc клиент общаться wayland compositor который заниматься вывод ui окно приложение монитор общаться клиент usbподсистемой очередь взаимодействовать флешка смарткарта мышь клавиатура далее pcscd  это наш демон связывать usb другой сущность большой сущность vfs  virtual file system обеспечивать работа файл сеть дополнительно обращать внимание наш клиент общаться pscs сокетный api vfs пунктирный стрелка  наш решение кибериммунный пока  создавать кибериммунный решение необходимо следовать специальный методология разработка происходить определенный алгоритм включать несколько обязательный этап  вопервый необходимо сформулировать цель предположение безопасность цель  это требование выполнение который должно обеспечиваться любой сценарий работа кибериммунный система учет предположение безопасность наш тонкий клиент быть обеспечивать целостность данные получать пользователь непосредственно работать устройство конфиденциальность целостность данные передаваемый rdpклиентом удаленный рабочий стол обновление прошивка тонкий клиент централизованный консоль управление kaspersky security center предположение безопасность  это дополнительный ограничение накладывать условие эксплуатация который мочь усложнять облегчать выполнение цель безопасность вырабатываться итог исследование общение бизнес проектный продуктовый команда наш случай выяснять защищать шлюз атака использование физический доступ устройство требоваться поскольку клиент стоять защищать контур  злоумышленник просто пропустить охрана также считать доверенный аппаратный платформа  основа цель безопасность разрабатываться архитектура решение определяться перечень домен безопасность состав взаимодействие они далее строиться модель угроза определяться риск безопасность составляться план митигация угроза ресерча определять наш цель безопасность учет предположение безопасность наиболее актуальный являться следующий угроза maninthemiddle  злоумышленник      встраиваться клиент сервер получать полный доступ то      делать пользователь подмена rdpсервера  пользователь подключаться вместо свой      рабочий стол стол злоумышленник например злоумышленник      уводить учетный запись пользователь rce  встраивание выполнение      код  широкий спектр действие кража данные      первый шаг осуществление другой атака далее физический      доступ тонкий клиент обход ос  например злоумышленник вставлять флешка linux загружать железка      получать доступ жесткий диск secure by design безопасность начинаться архитектура основной фишка кибериммунность  следование принцип secure by design наш цель просто митигировать конкретный риск применять налагать средство безопасность антивирус файрвол dpidlp далее сделать архитектура решение принцип позволять злоумышленник нарушать цель безопасность важно именно уязвимость позволять реализовать атака прогресс стоять место спустя некоторый время релиз мочь появляться новый эксплоит поэтому необходимо посмотреть наш архитектура критический взгляд скорректировать небезопасный место пойти компонент взламывать нужно изменять архитектура это приводить взлом устройство итак mvp который получать портировать freerdp базовый компонент kasperskyos первый итерация процесс кибериммунизация выявлять следующий архитектурный проблема сущность vfs объединять сетевой файловый стек поток      данные быть обрабатываться один сущность компрометация быть      скомпрометировать данный фактически весь система оказываться      удар злоумышленник получать возможность развивать атака любой      направление весь вытекать последствие сущность который      обрабатывать поток данные внешний сеть находиться близко периметр      вероятность атака высокий кроме сетевой стек      который достаточно сложный вполне содержать проблема который      должный повлиять цель безопасность       общение rdpклиентом pcscсущностью      также осуществляться большой сущность компрометация vfs      также быть скомпрометировать проходить данные tlsшифрование канал интегрировать      непосредственно rdpклиент это нехороший поскольку критически важный      компонент должный вынести отдельный домен безопасность      обеспечение доверенность иметь минимальный количество код кроме      вынесение tls отдельны",
    "tags": [
        "кибербезопасность",
        "кибериммунность",
        "кибериммунитет",
        "тонкий клиент",
        "rdp клиенты",
        "freerdp",
        "pcsc",
        "secure by design",
        "vfs",
        "thin client"
    ]
}