{
    "article_id": "726390",
    "article_name": "SQL инъекции для самых маленьких Часть 2. UNION запросы",
    "content": "это второй счет статься цикл sql инъекция данный статья вы рассматривать особенность sql инъекция использование команда union начало разбираться делать команда  union   ключевой слово  union  позволять выполнять несколько дополнительный запрос  select  добавлять результат исходный запрос например select a b from table1 union select c d from  table2 sqlзапрос вернуть набор результат два столбец содержать значение столбец a b таблица 1 столбец c d таблица 2 важно помнить 1  union  должный возвращать одинаковый количество столбец 2 тип давать каждый столбец должный совместимый отдельный запрос  осуществлять атака sqlинъекции  union  необходимо убеждаться ваш атака отвечать этот два требование обычно необходимо выяснивать сколько столбец возвращаться исходный запрос выполнение атака  union  sqlинъекции существовать эффективный метод определение количество столбец возвращать исходный запрос первый метод заключаться инъекция серия предложение  order by  увеличение индекс указанный столбец тот пора пока возникать ошибка например предполагать точка инъекция являться строка кавычка пункт  where  исходный запрос отправлять  order by 1  order by 2  order by 3 тд этот серия полезный нагрузка изменять исходный запрос упорядочивать результат различный столбец набор результат столбец предложение  order by  указывать индекс поэтому нужно знать имя столбец указанный индекс столбец превышать количество фактический столбец набор результат база данные выдавать ошибка например позиция  order by  номер 3 находиться вне диапазон количество элемент список выбор возвращать это потолок приложение действительно вернуть ошибка база данные свой httpответе оно вернуть общий ошибка просто выдавать никакой результат смочь обнаруживать разница ответ приложение смочь определять сколько столбец возвращаться запрос второй метод заключаться передача серия запрос  union select  который указываться разный количество нулевой значение  union select null  union select nullnull  union select nullnullnull тд количество нулевой значение совпадать количество столбец база данные возвращать ошибка приложение действительно вернуть этот сообщение ошибка просто вернуть общий ошибка отсутствие результат количество ноль совпадать количество столбец база данные возвращать дополнительный строка набор результат содержать нулевой значение каждый столбец влияние результирующий ответ http зависеть код приложение повезти увидеть ответ какоето дополнительный содержимое например дополнительный строка htmlтаблице противный случай нулевой значение мочь вызывать другой ошибка например nullpointerexception плохой случай ответ неотличимый который вызывать неправильный количество ноль делать метод определение количество столбец неэффективный  причина использование null качество значение возвращать инжектированный запрос  select  заключаться тип данный каждый столбец должный совместимый исходный инжектировать запрос поскольку null конвертироваться каждый часто использовать тип данные использование null максимизировать вероятность полезный нагрузка успешный счетчик столбец правильный oracle каждый запрос  select  должный использовать ключевой слово  from  указывать допустимый таблица oracle существовать встроенный таблица название dual который использовать цель такой образ инжектировать запрос oracle должный выглядеть следующий образ  union select null from dual описывать полезный нагрузка использовать последовательность комментарий двойной тир  закомментировать остаток исходный запрос точка инъекция mysql последовательность двойной тир должный следовать пробел качество альтернатива идентификация комментарий использовать хэшсимвол  поиск столбец полезный тип данные атака union sqlинъекции    причина выполнение атака  union  sqlинъекции заключаться иметь возможность получать результат вводить запрос правило интересный данные который хотеть получать быть строковый форма поэтому нужно находить несколько столбец результат исходный запрос тип данные который являться совмещать строковый данные определять количество необходимый столбец мочь проверять каждый столбец возможность хранение строковый данные выполнять серия запрос  union select  который помещать строковый значение каждый столбец очередь например запрос возвращать четыре столбец должный отправлять  union select anullnullnull  union select nullanullnull  union select nullnullanull  union select nullnullnulla тип данные столбец совместимый строковый данные инжектировать запрос вызывать ошибка база данные например преобразование значение varchar a тип данные int происходить сбой преобразование ошибка возникать ответ приложение содержать некоторый дополнительный содержимое включая вводить строковый значение значит соответствующий столбец подходить получение строковый данные  использование sqlинъекции union получение полезный данные     предполагать 1 исходный запрос возвращать столбец оба который мочь содержать строковый данные 2 точка введение являться строка кавычка предложение where 3 база данные содержать таблица users колонка username password  ситуация мочь получать содержимое таблица users выполнять ввод  union select username password from users решающий информация необходимый выполнение атака являться существовать таблица users два столбец username password информация приходиться пытаться угадывать имя таблица столбцы самый дело современный база данные предоставлять возможность исследовать структура база данные определять какой таблица столбец содержать  извлечение несколько значение один столбец     предыдущий пример предполагать запрос возвращать столбец мочь легко получать несколько значение вместе единственный столбец объединять вместе идеал включать подходящий разделитель который позволять различать объединять значение например oracle мочь вводить  union select username    password from users случай использоваться последовательность двойной разделитель  который являться оператор конкатенация строка oracle вводить запрос объединять значение поле имя пользователь пароль разделять символ  результат запрос позволять прочитывать имя пользователь пароль например administratoradmin user1pass1 user2pass2 обращать внимание разный база данные использовать разный синтаксис выполнение конкатенация строка  это 2 часть цикл статья sqlинъекции скоро выходить часть 3",
    "tags": [
        "pentest",
        "web",
        "sql injection",
        "sql",
        "pentesting",
        "security",
        "web security",
        "infosec",
        "information security"
    ]
}