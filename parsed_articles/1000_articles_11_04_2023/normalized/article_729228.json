{
    "article_id": "729228",
    "article_name": "Топ-11 ошибок при установке Kubernetes, которые не стоит допускать",
    "content": "автор делиться свой опыт установка kubernetes aws cloud использование ubuntu 2004 сталкиваться некоторый ошибка процесс установка смочь находить решение ошибка копирование дальнейший выполнение команда kubernetes официальный сайт продукт проблема ключ gpg установка kubectl linux проблема право доступ дисковый пространство выполнение команда sudo curl установка kubernetes linux выполнение команда kubectl apply возникать ошибка 404 not found url манифест flannel выполнение команда sudo kubectl apply возникать ошибка connection refused url flannel manifest устранять неполадка установка docker ядро поддерживать необходимый функция синтаксический ошибка файл список источник kubernetes ошибка запуск служба docker ubuntu 2004 служба kubelet запускаться выдавать ошибка адрес конечный точка запуск контейнер ubuntu контейнер kubeflannel запускаться ошибка результат который pod переходить состояние crashloopbackoff kubeadm находить ошибка sudo apt update hit1 httpapsouth1ec2archiveubuntucomubuntu focal inrelease hit2 httpapsouth1ec2archiveubuntucomubuntu focalupdates inrelease hit3 httpapsouth1ec2archiveubuntucomubuntu focalbackports inrelease hit5 httpsecurityubuntucomubuntu focalsecurity inrelease get4 httpspackagescloudgooglecomapt kubernetesxenial inrelease 8993 b err4 httpspackagescloudgooglecomapt kubernetesxenial inrelease   the following signatures couldnt be verified because the public key is not available no_pubkey b53dc80d13edef05 reading package lists done w gpg error httpspackagescloudgooglecomapt kubernetesxenial inrelease the following signatures couldnt be verified because the public key is not available no_pubkey b53dc80d13edef05 e the repository httpsaptkubernetesio kubernetesxenial inrelease is not signed n updating from such a repository cant be done securely and is therefore disabled by default n see aptsecure8 manpage for repository creation and user configuration details давать разбираться мочь решать проблема первый ошибка который сталкиваться связанный проблема соединение сервер kubernetes api сообщение ошибка соединение сервер localhost8080 отклонять показывать команда kubectl подключаться сервер kubernetes api это происходить разный причина например изза неправильный настройка сеть неверно сконфигурировать файл kubeconfig проблема сам apiсервером kubernetes устранять ошибка попробовать выполнять следующий действие убеждаться apiсервер kubernetes запускать проверять состояние сервер kubernetes api выполнять команда sudo systemctl status kubeapiserver служба запускать попробовать запускать выполнять команда sudo systemctl start kubeapiserver убеждаться apiсервер kubernetes доступный ваш компьютер проверять настраивать файл kubeconfig верный ipадресом имя хост сервер проверять настройка kubeconfig проверять убеждаться файл kubeconfig содержать правильный информация кластер kubernetes включая адрес сервер информация аутентификация переходить ко второй ошибка наш список сообщение ошибка the following signatures couldnt be verified because the public key is not available no_pubkey b53dc80d13edef05 указывать ваш система отсутствовать дрдключ репозиторий пакет kubernetes исправлять ошибка необходимо импортировать дрдключ репозиторий пакет kubernetes помощь следующий команда curl httpspackagescloudgooglecomaptdocaptkeygpg  sudo aptkey add  импорт ключ мочь снова запускать sudo apt update обновлять список пакет этот ошибка возникать выполнять данный команда имя обычный пользователь администратор напрямую добавлять apt when создание каталог sudo curl fsslo etcaptkeyringskubernetesarchivekeyringgpg httpspackagescloudgooglecomaptdocaptkeygpg ошибка sudo curl fsslo etcaptkeyringskubernetesarchivekeyringgpg httpspackagescloudgooglecomaptdocaptkeygpg curl 23 failed writing body 0  1210 решать проблема давать разбираться ошибка curl 23 failed writing body 0  1210 появляться команда curl записывать данные указанный файл изза ограниченный право доступ дисковый пространство решать ошибка мочь попробовать выполнять следующий действие проверять достаточно свободный место диск выполнять следующий команда df h этот команда должный показывать доступный дисковый пространство необходимость освобождать проверять достаточно правый запись указанный файл запускать следующий команда ls l etcaptkeyrings этот команда должный отображать разрешение каталог который записываться файл недостаточно правый попробовать выполнять команда право администратор проверять проблема сетевой подключение попробовать загружать файл помощь веббраузер следующий команда curl fssl httpspackagescloudgooglecomaptdocaptkeygpg o tmpkeygpg загрузка проходить успешно попробовать снова выполнять начальный команда загрузка удаваться возможно возникать проблема сеть который необходимо решать разбирать третий ошибка kubectl apply f httpsrawgithubusercontentcomcoreosflannelmasterdocumentationk8smanifestskubeflannelrbacyml выполнение команда kubectl apply возникать ошибка 404 not found url манифест flannel этот ошибка возникать заданный yamlфайл недоступный указывать url исправлять ошибка необходимый загружать файл локально затем применять помощь команда kubectl apply решение  загружать yamlфайл помощь следующий команда wget httpsrawgithubusercontentcomcoreosflannelmasterdocumentationk8smanifestskubeflannelrbacyml файл kubeflannelrbacyml ваш текущий каталог применять yamlфайл помощь следующий команда kubectl apply f kubeflannelrbacyml переходить четвертый ошибка sudo kubectl apply f httpsrawgithubusercontentcomcoreosflannelmasterdocumentationk8smanifestskubeflannelrbacyml соединение сервер localhost8080 прерывать  указывать правильный хост порт этот ошибка возникать kubectl подключаться apiсерверу kubernetes устранять ошибка мочь проверять состояние apiсервера конфигурация kubectl проверять состояние apiсервера kubernetes помощь следующий команда sudo systemctl status kubelet это отображать статус служба kubelet служба запускать мочь запускать помощь команда sudo systemctl start kubelet проверять конфигурация kubectl помощь данный команда kubectl config view это показывать ваш актуальный конфигурация kubectl убеждаться поле server устанавливать правильный url apiсервера необходимо обновлять конфигурация kubectl указывать верный apiсервер kubernetes изменение конфигурация использовать команда kubectl config например kubectl config setcluster mycluster serverhttpsmykubernetesapiserver6443 kubectl config setcontext mycontext clustermycluster kubectl config usecontext mycontext заменять mycluster mycontext необходимый имя  httpsmykubernetesapiserver6443  заменять url ваш apiсервера обновление конфигурация мочь снова выполнять команда kubectl apply время пятый ошибка возникать вызов данный команда aptget update aptget install apttransporthttps apt install y dockerio sudo systemctl status docker сам ошибка  dockerservice  docker application container engine      loaded loaded libsystemdsystemdockerservice enabled vendor preset enabled      active active running since sun 20230312 071257 utc 1min 12s ago triggeredby  dockersocket        docs httpsdocsdockercom    main pid 4277 dockerd       tasks 8      memory 231m      cgroup systemslicedockerservice              4277 usrbindockerd h fd containerdruncontainerdcontainerdsock  mar 12 071257 master dockerd4277 time20230312t071257234538017z levelwarning msgyour kernel does not support cpu realtime scheduler mar 12 071257 master dockerd4277 time20230312t071257234813472z levelwarning msgyour kernel does not support cgroup blkio weight mar 12 071257 master dockerd4277 time20230312t071257234920598z levelwarning msgyour kernel does not support cgroup blkio weight_device mar 12 071257 master dockerd4277 time20230312t071257235173251z levelinfo msgloading containers start mar 12 071257 master dockerd4277 time20230312t071257373408785z levelinfo msgdefault bridge docker0 is assigned with an ip address 172170016 daemon option bip can be used to set a preferred ip address mar 12 071257 master dockerd4277 time20230312t071257430371512z levelinfo msgloading containers done m",
    "tags": [
        "kubernetes",
        "k8s",
        "it инфраструктура",
        "образование",
        "devops",
        "ошибки программистов",
        "kubernetesdocker",
        "kubernetes operator"
    ]
}