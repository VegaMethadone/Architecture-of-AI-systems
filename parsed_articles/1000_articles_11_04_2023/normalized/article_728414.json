{
    "article_id": "728414",
    "article_name": "Prometheus + Grafana: 4 golden signals и другие подходы к мониторингу",
    "content": "мониторинг корабль успех оба случай зависеть название потопать важно помнить базовый вещь старт статья хотеть подробно разбирать подход мониторинг посмотреть стек prometheus grafana материал помогать расширять ваш кругозор недавно начинать собираться работать мониторинг мы мониторинг прежде говорить конкретный инструмент давать давать определение мониторинг версия книга site reliability engineering надежность безотказность google мониторинг  это сбор обработка агрегирование отображение количественный показатель система реальный время пока понятно система собирать показатель  количество ошибка количество запрос потреблять память угодно далее это визуализировать смотреть основа получать данные делать вывод мы это нужно правило мониторинг весь инфраструктура observability логирование трейсинг стоить деньги бывать весь инфраструктура мониторинг стоить дорого продаксить требовать поддержка обновление улучшение плюс возможный ложный срабатывание система мониторинг подымать пять утро изза какойнибудь один ошибка недостаток перечислять бесчисленный множество первый самый важный мониторинг давать мы понимание вести приложение продакшн среда самый дело ответ подходить любой вопрос вид нужный какойто конкретный кусок  observability  тип трейсинг логирование такой образ мониторинг повышать уровень прозрачность  понимать вести приложение прод   сколько трафик проходить сколько ресурс потреблять ошибка какой хороший система мониторинг оповещать проблема  идеальный делать это они сталкиваться наш реальный пользователь бизнес понести репутационный финансовый потеря мониторинг раскрывать мы аналитический возможность  это долгосрочный ретроспективный анализ первый случай  это всяческий история capacity planning понимать наш приложение наш система расти мы далеко масштабироваться случай ретроспектива смочь отвечать вопрос почему система всетака упасть пойти вести метрика инцидент ошибка мониторинг отвечать вопрос сколько podов нужно добавлять kubernetes становиться предоставлять достаточный количество информация вопрос отвечать сам такой образ мониторинг делать наш система надежно счет повышение прозрачность происходить система быстро восстанавливаться падение своевременно реагировать проблема подход глобально подход мониторинг делиться два группа свой принцип схожий метод тестирование whitebox  наблюдение доступный внутри система показатель это технический метрика который пользователь система мочь увидеть снаружи blackbox  наблюдение поведение сторона пользователь пример blackbox мониторинг пробер который 30 секунда проверять доступный сайт открываться страница какой время это делать открываться открываться очень долго звонить оповещать проблема нужно понимать звонить blackbox мониторинг ваш пользователь скоро сталкиваться проблема поэтому чинить нужно безотлагательно blackbox мониторинг часто незаслуженно забывать призывать делать хотя сегодня оставлять скобка реализовывать whitebox далее подход разбиваться принцип ответ вопрос  какой метрика мы собирать популярный подход сбор метрика     4 golden signals  состоять четыре показатель  latency задержка время выполнение http запрос зависимость приложение  traffic объем трафик какойто объем нагрузка который обрабатывать прямо обычно это rps rpm тд  errors частота ошибка количество ошибка это мочь некорректный код ответ исключение приложение тд  saturation загруженность насыщенность этот метрика помогать отвечать вопрос сколько загружать наш приложение допускать оно обрабатывать 150 запрос секунда мочь обрабатывать 200 250 загружать 100 получаться отмечать многий приложение система деградировать сильно saturation достигать 100 red облегченный вариант 4 golden signals  rate аналог трафик  errors который говорить высоко  duration анализ latency use  метод направлять мониторинг инфраструктура ее физический показатель  utilization использование какогото критический ваш приложение ресурс  saturation версия use это какойто объем работа который стоять очередь упираться полк utilization какаято работа который мочь взять кончаться ресурс  errors этот подход использоваться чистый вид правило применять комбинация плюс сверху добавляться другой метрика правило бизнесов зависимость домен возникать логичный вопрос  подход чистый вид применять вообще нужный причина два  подход взять основа строить система мониторинг ноль переделывать база который мочь стартовать постепенно наращивать подобный подход снимать когнитивный нагрузка sreинженеров девопс админ разработчик работать система который каждый компонент отдавать 3  4 унифицировать одинаковый метрика какуюто остальной специфика гораздо просто расследовать тюнивать проблема такой подход гораздо легко  взять подход раскидывать отрезок один сторона который blackbox сторона другой whitebox близко blackbox ложиться red метрика наш реальный пользователь мочь видеть кроме оценка нагрузка объем трафик whitebox близко буде use пользователь доступ технически метрика расход память нагрузка носитель тд они максимально комплексный ложиться  4 golden signals подход latency частый камень преткновение человек свой график наблюдать поведение свой приложение условный температура луна начало давать представлять какаято система мониторинг написать мы коленка 30 секунда ходить главный страница наш сервис замеривать latency класть какоето собственный хранилище допускать 5 проба образовываться следующий временной ряд решаться это визиуализация сколько запрос какой тайминг выпадать помощь мониторинг отвечать вопрос сколько запрос укладываться 200 ms 300 ms 500 ms тд давать переходить сухой теория конкретный инструмент который помогать собирать визуализировать метрика    первый самый очевидный мысль оценивать latency  взять средний наблюдать разбивать endpoint тд происходить взять средний средний 5 запрос получаться 400 ms самый быстрый сайт самый приятный response time жить самый страшный 400 ms абсолютно скрывать  секундный спайк  мы кажется наш сервис нормально момент делать нужно поэтому стандартно latency браться квантиль открывать определение квантиль гденибудь википедия это показываться ужасный закрывать история туда вернуться давать разбираться такой квантиль простой слово квантиль q  это некий величина который укладываться определенный процент ваш измерение говорить 99й квартиль response time 200 ms это значит 99 наш запрос выполняться время который мало либо равный 200 ms соответственно самый 95 50 тд какойто процент наш запрос response time укладываться какоето количество миллисекунда взять временной ряд посчитать квантиль 99 q наш случай 972 ms 95 q  860 ms это выглядеть хороший повод задумываться посмотреть происходить приложение считать квантиль вручную обязательно сделать система мониторинг самый дело квантиль идеальный минимум два распространенный проблема первый звучать обычно удав толстый хвост например вы говорить квантиль 95 99 тд явно покрывать весь процент запрос какойто кусочек оставаться непокрытый вы знать происходить этот остаток компенсироваться это правило просто мониторить несколько квантилей помнить проблема второй проблема менее тривиальный  знать распределение тайминг запрос внутри квантиль говорить наш 99 q  500 ms знать мочь оценивать внутри распределять запрос лежать внутри этот 500 ms оно смещать близко нижний граница 0 ms верхний 500 ms мочь пропускать момент деградация наш сервис хотя квантиль поменяться это видно пример вернуться тот система мониторинг допускать единственный response time 200 ms остальной улетать 700 наш сервис плохо наш квантить сильно поменяться против прошлое пример точка зрение пользователь сервис становиться работать гораздо медленно наш запрос внутри квантиль смещаться тысяча решаться это визиуализация сколько запрос какой тайминг выпадать помощь мониторинг отвечать вопрос сколько запрос укладываться 200 ms 300 ms 500 ms тд давать переходить сухой теория конкретный инструмент который помогать собирать визуализировать метрика prometheus  grafana схема работа prometheus пара grafana основание мониторинг лежать prometheus сервер инструмент ответстве",
    "tags": [
        "мониторинг",
        "grafana",
        "prometheus monitoring",
        "prometheus grafana",
        "prometheus",
        "it инфраструктура",
        "карьера в it индустрии",
        "образование онлайн"
    ]
}