{
    "article_id": "728206",
    "article_name": "Исследование https-трафика мобильного приложения",
    "content": "промт котхакер исследовать трафик мобильный приложение обычно такой непотребство незаниматься уважать частный жизнь приложение однако надень доводиться исследовать один мобильный приложение написать индус вметро подios азатем адаптированный подandroid пьяный студент комната раздумье действие выполняться сцель дебаг понимание оптимальный условие дляработа сам приложение анализировать небыть ноподготовить среда дляпроведение исследование этот статья непровзлом неисследование безопасность статья хотеть помогать разработчик клиентский приложение немного углубляться вматчасть передача данные поверх https оценивать риск всвоих приложение самый главный проблема исследование httpsтрафика смобильный приложение это флаг который сообщать система чтонесобираться доверять всякий пользовательский центр сертификация второй проблема являться нежелание игнорирование настройка прокси приложение всякий случай наandroid 911так ибыло длячий это понадобиться например убеждаться чтоприложение неотправляетлишний данные овас чтоособенно интересно безопасник аеща дляреверсинжиниринг структура api понимание какможно интегрироваться илиавтоматизировать какието процесс нахабер юрист специализироваться наит поэтому обращаться кним уточнять законность тот илиин действие самый главное мочь исследовать собственный приложение напредмет чтоони работать корректно итак приступать матчасть каждый приложение вandroid илиios иметь возможность отправлять некоторый запрос вapi кэп ноедать нюанс почему все мало разработчик поддерживать старый версия ос андроид все чтостарый 7ой версия дело втом чтоты появляться возможность указывать вманифест пакет чтоименный этот приложение небыть доверять центр сертификация который пользователь вносить вручную содин сторона это защищать пользователь отвзлом например банковский приложение становиться невозможно перехватывать токен авторизация запрос выводить деньги насвои офшор илизко это защищать пользователь отнедобросовестный сотрудник иб который быть лезть впереписка вмессенджер ноедать другой сторона медаль пользователь терять контроль свой трафик становиться недоступный некоторый возможность кешировать прокси итп вцелое мобильный операционный система позволять настраивать проксисервер длябольшинство подключение конкретно вandroid это настраиваться внутри подключение кwifi бескакихто сложность однако настройка применимый длячасть приложение такой какchrome подобный единственный способ который заставлять приложение отправлять трафик нанужный подконтрольный сервер это vpn один изпричина почему надобывать аккуратно сvpn простой пользователь возможность делать свашимый трафик все чтоугодно поэтому предупреждать свой несмыслить всеть протокол друг чтоиспользование банковский приложение поверх vpn подключение который неконтролировать зло вчистый вид проводить mitmатаку нужно собирать достаточно пакет перехватывать ключ который сервер склиент обмениваться вмомент рукопожатие tls весь дальнейший трафик соединение считаться скомпрометировать немного плавать это план http11 проявлять хороший сторона соединение устанавливаться большинство случай каждый запрос keepalive считаться https работать такой принцип устанавливаться tcpсоединение сервер клиент обмениваться поверх асимметричный шифрование ключ симметричный шифрование делаться обмен данные зашифровывать симметричный ключ закрываться соединение симметричный ключ протухать  http2 отличие http11 подразумевать сохранение соединение цель экономия время рукопожатие tls мочь утверждать достаточно глубоко разбираться вопрос давать экспертный оценка просто изучать вопрос знать научать комментарий пруф стандарт протокол нона самый дело это очень сложный процесс сперехват вычленение данный спомощь некоторый магия один переменная окружение заставлять браузер писать ключ симметричный шифрование вфайл ноэто неподходить длямобильный приложение самый простой способ являться возможность внедрять свой сертификат центр сертификация всписок системный рутованый телефон открывать свой чресла инструментарий самый главный инструмент наш исследование  это любой mitmпрокси поддерживать socks5 удобно использовать  charles proxy  некоторый проблема mitmproxy смочь подбирать оптимальный настройка конкретный приложение плюс встречать баг связывать tls изза который просто взять cp подбирать инструмент смочь настраивать мочь удобно смотреть трафик главное получать драйв проделывать работа мучить заточка инструмент второй инструмент  любой android доступ root цель исследование устанавливать  android 9 x86  виртуальный машина qemu вполне подходить попадать cliинтерфейс достаточно зажимать altf1 завертывать трафик андроид ваш машина подход usbподключение включать режим отладка завертывать весь трафик свой комп проект  gnirehtet  предварительно настраивать маршрутизация proxy помощь  tun2proxy  это какойто особенный способ извращение вполне рабочий плюшка  смотреть весь трафик помощь wireshark http поставлять  tun2socks  playmarket завертывать весь трафик vpn подключение который оборачивать трафик socks5 проксить минус доступ прокси должный пересекаться остальной маршрут больший нужно исследователь также мы понадобиться сертификат центр сертификация который сделать системно доверенный openssl задавать правильный имя система charles proxy вполне подходить ее стандартный сертификат находить  charlescacharlesproxysslproxyingcertificatecer  сгенирировать свой должный обладать весь необходимый флаг очень трудно ленивый  мамкин хацкер  исследователь безопасность также пригождаться любой версия python модуль http быстро подымать свой httpсервер любой сервер статика настройка окружение процесс установка андроид виртуалка описывать быть мы нужно устанавливать приложение исследование tun2socks наш устройство должно вызывать проблема сеть мочь настраивать простой nat система виртуализация сертификат необходимо подготовить система должный иметь имя соответствующий  subject_hash_old0  это сделать целевой машина android инструментарий openssl находить openssl x509 inform pem subject_hash_old in charlescacharlesproxysslproxyingcertificatecer  head n 1 первый строка ваш output нужный информация копировать файл любой директория переименование cp v charlescacharlesproxysslproxyingcertificatecer mitmtest32a6d5290 директория подымать webсервер статика принцип кроме файл мы понадобиться далее заходить наш android переходить консоль мы необходимо перемонтировать системный раздел режим запись выкачивать наш сертификат директория сертификат такой уродливый название назначать необходимый право перемонтироваться назад спасибо добрый человек который подсказывать это  правильный делать  mount o rwremountrw system cd systemetcsecuritycacerts wget httpмойсерверip800032a6d5290 chown rootroot systemetcsecuritycacerts chmod 644 systemetcsecuritycacerts chcon uobject_rsystem_files0 systemetcsecuritycacerts mount o roremountro system написать нужно делать reboot зарабатывать далее запускать наш прокси указывать какой адрес необходимо подменивать сертификат запускать tun2socks tun2socks указывать адрес наш прокси порт нажимать start connect подымать vpn соединение сам сам приложение транслировать трафик прокси интерфейс tun2socks пробовать расшифровывать весь трафик очень адрес просто понимать сертификат надлежащий образ сформировывать угождать все невозможно также это гарантировать конкретный пакет прописывать исключительный сертификат который доверять приложение поэтому куча ошибка открывать приложение посмотреть какой запрос оно сгенерировать подписывать точка вход затем перезайти приложение доступный действие  завертывать такой образ трафик мочь делать следующий расшифровывать запрос посмотреть заголовок body каждый запрос подменивать запрос сервер подставлять какието отличный данные подменивать содержимое ответ сервер повторять запрос помощь curl система иметь адрес android это исчерпывать список возможность достаточно полный понимать насколько становиться уязвимый устройство который подкидывать ненадежный сертификат центр сертификация однако это позволять заглядывать траф",
    "tags": [
        "charlesproxy",
        "charles proxy",
        "android",
        "android development",
        "tun2socks",
        "https",
        "мамкин хакер",
        "kandinsky art"
    ]
}