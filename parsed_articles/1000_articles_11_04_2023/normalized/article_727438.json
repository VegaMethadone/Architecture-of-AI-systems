{
    "article_id": "727438",
    "article_name": "Как ChatGPT помогла мне исправить баг в far2l, turbo и wxWidgets",
    "content": "работать проект  far2l  порт far manager linux наткнуться очень красивый баг который итог удаваться починять помощь нейросеть  chatgpt  причем баг оказываться столько самый far2l сколько кроссплатформенный ui библиотека  wxwidgets  бесплатный версия chatgpt 35 задача справляться смочь платный 4 таки справляться сегодня поделиться вы рассказ это что заключаться баг консольный текстовый редактор  turbo  сделать современный адаптация фреймворок turbo vision интересный поддерживать перенос слово  блокнот windows html textarea поэтому нужно работать консоль длинный текст подходить идеально редактор запускать изпод встроенный терминал far2l горячий клавиша altлатинскаябуква работать русский раскладка ожидать неприятный это починять шаг первый вообще передавать терминал состояние клавиша привязывать текущий раскладка клавиатура стандартный средство скажем gnome terminal ответ комбинация altф слать символ x1b xd1 x84 тот esc номер символ unicode far2l иметь свой специальный режим расширенный поддержка клавиатурный ввод far2l terminal extensions поле virtual key code протокол основывать  формат  описание клавиатурный событие windows значение который привязывать раскладка клавиатура просить автор turbo добавлять поддержка протокол писать прототип просто это шаг первый баг оставаться место шаг второй смотреть приходить turbo сам расширенный протокол видеть поле virtual key code комбинация altрусскаябуква  ноль почему происходить изучать код far2l выяснять 0 качество код символ приходить такой событие  wxwidgets  который сделать графический версия far2l почему шаг третий собирать демоприложение keyboard wxwidgets windows gtk сравнивать поведение пробовать нажимать alt русский буква поведение правда отличаться gtkверсии key_code событие keyupdown такой случай нулевой windows версия латинский буква соответствовать нажимать клавиша событие onchar gtk версия такой комбинация выстреливать вовсе wx вести windows это самый значение латинский буква использовать заполнение поле virtual key code взять учитывать api gtk который wxwidgets работать linux api x11 толком знать похоже решать наш задачка использовать api такто просто тикет проблема нулевой код клавиша висеть багтрекер wxwidgets год еще это все работать wayland шаг четвертый выходить мы както научать wxwidgets догадываться латинский буква соответствовать нажимать клавиша русский раскладка очевидный способ голова приходить gtk wxwidgets приходить называть код символ соответствовать кириллический буква raw сканкод x11 который сопоставлять латинский буква хардкодить таблица преобразование хотеться wx хак едва принимать латинский буква соответствующий нажимать русский раскладка клавиша api gtk отдавать стадия зависать примерно год тикет проблема wx открывать январь 2022го шаг пятый обсуждать chatgpt решать поэкспериментировать поставлять задачка получать код латинский буква сканкод x11 посмотреть спрашивать пока еще бесплатный версия 35 please write a code sample how to get the latin character corresponding to the known key code from x11 event record if the latin keyboard layout is not installed in the system using x11 c language api общаться chatgpt английский оно онаумный все быть приводить русский перевод наш переписка русскоязычный читатель выделять курсив  пожалуйста написать пример код получать латинский символ соответствовать известный код клавиша запись событие x11 система устанавливать латинский раскладка клавиатура использовать x11 api язык си  ответ выдавать вполне рабочий пример код увы  возвращать символ текущий раскладка вовсе латинский include stdioh include x11xlibh include x11xutilh include x11keysymh  int main      display display     window window     xevent event     int screen      display  xopendisplaynull     if display  null          fprintfstderr cannot open displayn         return 1           screen  defaultscreendisplay     window  xcreatesimplewindowdisplay rootwindowdisplay screen 10 10 500 300 1                                   blackpixeldisplay screen whitepixeldisplay screen      xselectinputdisplay window exposuremask  keypressmask     xmapwindowdisplay window      while 1          xnexteventdisplay event          if eventtype  expose               redraw window content          else if eventtype  keypress              char buffer20             keysym keysym             xcomposestatus compose              int len  xlookupstringeventxkey buffer sizeofbuffer keysym compose             if len  0  keysym  xk_space  keysym  xk_asciitilde                  printflatin character cn buffer0                                 xclosedisplaydisplay     return 0   несколько эксперимент попытка объяснять нейронка она сдаваться часть предлагать вариант компилироваться другой возвращать пустота третий возвращать символ текущий раскладка системный раскладка умолчание однако некоторый время друг уговаривать попробовать тот самый задачка платный версия четвертый утверждать гораздо гораздо умный полтора тысяча рубль вполне потратить статья развлечение поехать  мой первый попытка попросить самый 4 версия все выдавать код возвращать символ текущий раскладка опускать экономия время читатель очень похожий пример код высоко окей просить переделывать your sample will get the character code in the current keyboard layout that may be not latin but i need to get it for the english layout even if its not in enabled keyboard layout list твой пример получать код символ текущий раскладка клавиатура это латиница нужно получать английский раскладка она среди установленный раскладка клавиатура ответ выдавать новый версия include stdioh include x11xlibh include x11xutilh include x11keysymh include x11xkblibh  int main      display display     window window     xevent event     int screen      display  xopendisplaynull     if display  null          fprintfstderr cannot open displayn         return 1           screen  defaultscreendisplay     window  xcreatesimplewindowdisplay rootwindowdisplay screen 10 10 500 300 1                                   blackpixeldisplay screen whitepixeldisplay screen      xselectinputdisplay window exposuremask  keypressmask     xmapwindowdisplay window       create temporary english us keyboard layout     xkbdescptr xkbdesc  xkbgetkeyboarddisplay xkballcomponentsmask xkbusecorekbd     if xkbdesc          fprintfstderr failed to get keyboard layoutn         xclosedisplaydisplay         return 1          xkbapplycompatmaptokeyxkbdesc xkbdescmin_key_code xkbdescmax_key_code  xkbdescmin_key_code  1      while 1          xnexteventdisplay event          if eventtype  expose               redraw window content          else if eventtype  keypress              keysym keysym             keysym  xkbkeycodetokeysymdisplay eventxkeykeycode 0 0  group 0 and shift level 0              if keysym  xk_space  keysym  xk_asciitilde                  printfenglish us character cn charkeysym                                 xkbfreekeyboardxkbdesc xkballcomponentsmask true     xclosedisplaydisplay     return 0   сразу видно это все еще попытка получать код символ текущий раскладка еще компилироваться то годиться doesnt group zero mean the default keyboard layout on the system it doesnt have to be english нулевой группа означать раскладка клавиатура установленный система умолчание обязательно должный английский ответ include stdioh include x11xlibh include x11xutilh include x11keysymh include x11xkblibh  xkbdescptr create_us_keymapdisplay display      xkbrulenamesrec rule_names           rules  evdev         model  pc105         layout  us         variant  null         options  null          xkbcomponentnamesrec component_names           keycodes  evdev         types  complete         compat  complete         symbols  pcusinetevdev           xkbdescptr xkbdesc  xkbgetkeyboardbynamedisplay xkbusecorekbd rule_names xkbgbn_allcomponentsmask xkbgbn_allcomponentsmask false      if xkbdesc          fprintfstderr failed to create english us keyboard layoutn         return null           return xkbdesc   int main      di",
    "tags": [
        "far manager",
        "far",
        "far2l",
        "linux",
        "file manager",
        "wxwidgets",
        "ai",
        "chatgpt",
        "chatgpt 4"
    ]
}