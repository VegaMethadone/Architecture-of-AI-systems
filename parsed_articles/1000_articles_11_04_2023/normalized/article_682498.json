{
    "article_id": "682498",
    "article_name": "Настройка Пошаговой Отладки JLink+Eclipse",
    "content": "классический ситуация записывать интерфейс swd прошивка происходить heartbeat led мигать boot лог uartе появляться cli отвечать вероятно прошивка гдето сваливаться hard fault handler причем прямо инициализация запуск супер цикл внутри функция main обращаться несуществующий память делать понимать ошибка принимать мера  включать исключать сборка кусок программа прошивать пока выяснять тот проблемный функция это занимать очень время целый день эффективный способ выручать пошаговый gdb отладка настраивать запускать gdb сервер gdb клиент пошаговый отладка консоль отдельный пост   однако пошаговый отладка консоль показываться утомительный просто пошаговый отлаживаться прямо текстовый редактор например eclipse оборудование оборудование назначение кабель usba usb micro подключение программатор nettop pc отладочный плата например nrf5340dk пошаговый отладка прошивка микроконтроллер программатор jlink пошаговый отладка микроконтроллер laptop запуск утилит софтвер утилита назначение jvm   виртуальный машина прокрутка текстовый редактор eclipse jlinkgdbserverexe gdb сервер nrfjprogexe   утилита прошивать микроконтроллер семейство nrf armnoneeabigdbexe gdb клиент eclipseexe текстовый редактор фаза 1 устанавливать gnu toolchain arm embedded подробно это  прописывать переменный path путь arm toolchainу препроцессор компилятор ассембрер компоновщик binutilsам отладчик   cprogram files x86gnu arm embedded toolchain10 202110bin проверять корректность установка gnu toolchain   выполнять команда  armnoneeabigcc version  консоль windows фаза 2 запускать gdb сервер отладка качество сервер отладка использовать утилита jlinkgdbserverexe cprogram files x86seggerjlinkjlinkgdbserverexe накропать простенький скрипт настраивать каждый мышка настройка jlink gdb serverа   echo off cls set gdbserveropt  select usb device nrf5340_xxaa_app endian little if swd speed 400 ir localhostonly logtofile log cprojectscode_base_workspacecode_base_firmwaretoolgdbserverlogtxt  set gdbserverdircprogram files x86seggerjlink set gdbserverpathgdbserverdirjlinkgdbserverexe cd gdbserverdir call gdbserverpath gdbserveropt  настройка jlink gdb serverа проверять интерфейс соединение плата данный плата это usb проверять интерфейс соединение программатор целевой микроконтроллер данный схемотехника это swd проверять выбирать нужный процессорный ядро данный случай это nrf5340_xxaa_app все верно нажимать ока   jlink gdb server переходить режим ожидание подключение gdb клиент примерный лог успешный подключение запуск gdb клиент фаза 3 настройка gdb клиент открывать меню debug configuration создавать конфигурация указывать путь elf файл вкладка debugger указывать путь gdb клиент armnoneeabigdbexe прописывать полный путь gdb клиент  cprogram files x86gnu arm embedded toolchain10 202110binarmnoneeabigdbexe настраивать вкладка startup ставить останавливаться функция main настраивать вкладка common показывать скриншот достаточно нажимать кнопка debug производить пошаговый отладка получаться такой схема взаимодействие утилит кстати скрипт перо прошивка микроконтроллер nrf5340 перо прошивать утилита nrfjprogexe echo off cls  set project_namenrf5340_dk_nortos_decadriver_m set project_dircd set workspace_dircd set tool_dircdtool echo project_dirproject_dir set artefact_hexproject_dirbuildproject_namehex echo artefact_hexartefact_hex set flashtoolcprogram files x86nordic semiconductornrfcommandlinetoolsbinnrfjprogexe set flashtoolnrfjprog  call project_dirrecoverbat  set optionsiface usb family nrf53 coprocessor cp_application program artefact_hex  log chiperase verify reset  call flashtool options echo workspace_dirworkspace_dir echo tools_dirtools_dir call tool_dirlaunch_terminalbat 10 460800 nrf5340_dk_nortos_decadriver_m  вывод говорить честный все требоваться пошаговый gdb отладка это максимум отлаживать запуск полнодуплексный uart далее просто  подключаться интерфейс командный строка  весь последующий отладка идти uartcli clishell возможность прицельно вычитывать кусок данный физический память регистр ram flash искать адрес значение аналог утилита art money читать дергать gpio пулять пакет spi i2c перезагружать ядро запускать конкретный функция знать адрес map файл вообще делать все душа пожелать   словарь акроним расшифровка cli commandline interface uart universal asynchronous receivertransmitter led   lightemitting diode risc  reduced instruction set computer jvm   java virtual machine   pc personal computer unix uniplexed information computing system arm advanced risc machine swd  serial wire debug usb universal serial bus gnu  gnus not unix gdb  gnu debugger   ссылка httpsbitknittingwordpresscom20150711usingeclipsetoprogramthenrf51822   httpsdevpx4iov110_noredirectendebugeclipse_jlinkhtml   httpseclipseembedcdtgithubiodebugjlink   httpshabrcomrucompanyrainbowblog251053   httpshabrcomrupost215483   httpshabrcomrupost578830   httpshabrcomrupost673522httpshabrcomrupost694708httpshabrcomrupost694408httpshabrcomrupost681280   httpskaribecoke201403debuggingarmfreescalemicrocontrollerswithjlinkgdbserverandgnuarmtoolchaingdbwithsemihostinginlinux   httpsmcuoneclipsecom20190922eclipsejtagdebuggingtheesp32withaseggerjlink   httpsmcuoneclipsecom20220716gettingstartedraspberrypipicorp2040witheclipseandjlink",
    "tags": [
        "nrf5340",
        "gdb",
        "gdbserver",
        "gdbclient",
        "jlink",
        "swd",
        "arm",
        "eclipse",
        "cortex m33",
        "risc"
    ]
}