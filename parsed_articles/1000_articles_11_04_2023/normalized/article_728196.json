{
    "article_id": "728196",
    "article_name": "История учебы Васи и конечный автомат на SQL",
    "content": "выступление pgconf2023 общение профессионал база данные выходной появляться время реализация идея реализовать логика конечный автомат sql postgresql идея применимый любой субд поддерживать агрегатный функция определять пользователь скоро сказка сказываться скоро дело делаться жить вася устой общество жила описывать помощь конечный автомат  конечный автомат мудрость    finitestate machine   fsm  задавать вид таблица переход tsv формат записывать летописец житие  вид таблица  tab separated value формат загружать postgresql  create table life name text age int desire_to_learn boolean exams text constraint pk_life primary key nameage   d life                     table publiclife      column        type    collation  nullable  default    name             text                not null    age              integer             not null    desire_to_learn  boolean                         exams            text                           indexes     pk_life primary key btree name age   copy life from state_machine_examplesrcmainresourceslifetxt   select  from life                name  age  desire_to_learn              exams                 вася    1  t                  вася    2  t                  вася    3  t                  вася    4  t                  вася    5  t                  вася    6  t                  вася    7  t                  вася    8  t                  вася    9  t                  вася   10  t                  вася   11  t                  вася   12  t                  вася   13  t                  вася   14  t                  вася   15  t                выпускной экзамен 9 класс  вася   16  t                  вася   17  t                выпускной экзамен 11 класс  вася   18  t                вступительный экзамен вуз  вася   19  t                  вася   20  t                  вася   21  t                  вася   22  t                защита диплом  вася   23  t                  вася   24  t                  вася   25  t                  вася   26  t                  вася   27  f                  вася   28  f                  вася   29  f                  вася   30  f                 хотеться современник василий расписывать состояние каждый год учеба жизнь добавлять life один колонка state который становиться ясно какой состояние статус учеба каждый момент время любопытный посмотреть выглядеть автомат state diagram uml написать небольшой программа java package comgithubisuhorukovstatemachine  import javaniofilefiles import javaniofilepaths import javautillist import javautilobjects import javautilset import javautilstreamcollectors import javautilstreamstream  public class statemachinegenerator         public static void mainstring args throws exception         setstring states         liststring transitions         string statemachinesource  statemachinegenerator2classgetresourceeducationstatemachinegetfile         try streamstring lines   fileslinespathsgetstatemachinesource             listdualvalue parsingvalue  linesmapline   a   b   state_name   transition_rule                 string parts  linesplitt                 string statevalue  state   parts2   as state  parts1                 if partslength  4                      return new dualvaluestatevalue null                                  final int state  integerparseintparts0                 string transitionvalue  state  parts0    state  parts1      parts3                 return new dualvaluestatevalue transitionvalue             collectcollectorstolist             states  parsingvaluestreammapdualvalue  dualvaluestatecollectcollectorstoset             transitions  parsingvaluestreammapdualvalue  dualvaluetransition                     filterobjectsnonnullcollectcollectorstolist                  systemoutprintlnstartumln  stringjoinn states  n                                              stringjoinn transitions  nenduml          private static class dualvalue          string state         string transition          public dualvaluestring state string transition              thisstate  state             thistransition  transition                помощь программа получать текст формат plantuml конечный автомат мудрость startuml state ученик старший класс as state5 state ученик средний школа as state3 state основной общий образование as state4 state средний общий образование as state6 state аспирант as state11 state появляться свет as state0 state претендент ученый степень as state12 state средний профессиональный образование as state8 state учащийся институт as state9 state кандидат наука as state13 state обучаться as state14 state ходить детсадик as state1 state оканчивать высокий образование as state10 state ученик начальный школа as state2 state учащийся техникум as state7 state0  state1  age3 and desire_to_learn state1  state2  age7 and exams is null and desire_to_learn state2  state3  age11 and exams is null and desire_to_learn state3  state4  age15 and examsвыпускные экзамен 9 класс state4  state5  age15 and desire_to_learn state5  state6  age17 and examsвыпускные экзамен 11 класс state4  state7  age16 and examsвступительные экзамен техникум and desire_to_learn state7  state8  age18 and examsзащита диплом state6  state9  age18 and examsвступительные экзамен вуз and desire_to_learn state8  state9  age18 and examsвступительные экзамен вуз and desire_to_learn state9  state10  age22 and examsзащита диплом and desire_to_learn state10  state11  age22  and examsэкзамены аспирантура and desire_to_learn state11  state12  age24 and examsкандидатский минимум and desire_to_learn state12  state13  age25 and examsзащита диссертация and desire_to_learn state4  state14  notdesire_to_learn state6  state14  notdesire_to_learn state8  state14  notdesire_to_learn state10  state14  notdesire_to_learn state13  state14  notdesire_to_learn enduml этот описание легко превращаться графический предстваление помощь плагин визуализация путем кодогенерация конечный автомат мудрость получать текст функция конечный автомат sql postgresql create or replace function fsm_transition   state smallint   transition hstore  returns smallint as  select case  when state0 then появляться свет case when transitionst0_1true  age3 and desire_to_learn then 1 ходить детсадик else state end  when state1 then ходить детсадик case when transitionst1_2true  age7 and exams is null and desire_to_learn then 2 ученик начальный школа else state end  when state2 then ученик начальный школа case when transitionst2_3true  age11 and exams is null and desire_to_learn then 3 ученик средний школа else state end  when state3 then ученик средний школа case when transitionst3_4true  age15 and examsвыпускные экзамен 9 класс then 4 основной общий образование else state end  when state4 then основной общий образование case when transitionst4_5true  age15 and desire_to_learn then 5 ученик старший класс when transitionst4_7true  age16 and examsвступительные экзамен техникум and desire_to_learn then 7 учащийся техникум when transitionst4_14true  notdesire_to_learn then 14 обучаться else state end  when state5 then ученик старший класс case when transitionst5_6true  age17 and examsвыпускные экзамен 11 класс then 6 средний общий образование else state end  when state6 then средний общий образование case when transitionst6_9true  age18 and examsвступительные экзамен вуз and desire_to_learn then 9 учащийся институт when transitionst6_14true  notdesire_to_learn then 14 обучаться else state end  when state7 then учащийся техникум case when transitionst7_8true  age18 and examsзащита диплом then 8 средний профессиональный образование else state end  when state8 then средний профессиональный образование case when transitionst8_9true  age18 and examsвступительные экзамен вуз and desire_to_learn then 9 учащийся институт when transitionst8_14true  notdesire_to_learn then 14 обучаться else state end  when state9 then учащийся институт case when transitionst9_10true  age22 and examsзащита диплом and desire_to_learn then 10 оканчивать высокий образование else s",
    "tags": [
        "final state machine",
        "sql",
        "postgresql",
        "java",
        "uml"
    ]
}