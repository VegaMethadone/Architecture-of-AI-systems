{
    "article_id": "726194",
    "article_name": "Изучаем язык запросов программы Velociraptor",
    "content": "это второй статьяпервый   velociraptor программа выполнение задача threat hantingа dfira  наверное знать velociraptor неплохой инструмент сбор информация конечный устройство ключевой элемент программа являться собственный язык запрос который называться velociraptor query language vql специфический язык запрос  спрашивать это причина подход позволять добиваться необходимый гибкость разработка адаптация меняться требование пользователь вы статья познакомить базовый понятие структура vql быть стараться подкреплять теоретический часть пример получать знание достаточно чувствовать комфортно изменение существующий создание собственный запрос    использоваться vql этот часть статья самый короткий быстрый ответ  везде писать это центральный элемент программа наверное весь взаимодействие исполнять файл velociraptor внешний мир происходить формат vql запрос  ответ приводить несколько пример клиент получать инструкция выполнениюартефакт формат vql web gui использовать vql взаимодействие сервер получение данный api также необходимо использовать vql offline коллектор использовать артефакт работа следовательно использовать vql получаться хотеть успешный работа velociraptor нужно познакомиться язык запрос  среда выполнение запрос прежде начинать изучение теоретический часть давать разбираться какой образ вообще возможно выполнять vql запрос помиио это выполнение происходить использование артефакт существовать следующий путь   выполнение непосредственно командный строка пример мочь запускать следующий команда  velociraptorexe query select  from info   выводить общий информация ваш хост    выполнение api например мочь использовать jupyter notebook вместе библиотека  pyvelociraptor  комфортный написание запрос сохранение результат работа использование notebooks встроенный velociraptor механизм основной рамка статья поэтому останавливаться он подробно   раздел notebooks velociraptor основное создавать проведение анализ собранный данные такой notebookах удобно хранить запрос который мочь помогать проведение расследование поиск подозрительный активность также мочь давать доступ свой notebookу весь пользователь velociraptor помогать совместный работа инцидент    notebooks состоять ячеекcells тип такой ячейка  markdown vql назначение каждый тип понятно название markdown описание vql выполнение запрос vql запрос определенный notebooks выполняться  velociraptor сервер статья это ваш рабочий станция либо фильтрация ограничение это делать notebookи хороший инструмент изучение разработка vql запрос давать создавать notebook выполнять он первый vql запрос запускать velociraptor  velociraptorexe gui datastore temp  переходить web gui левый часть окно переходить раздел  notebooks  нажимать кнопка    создавать новый notebook появляться окно указывать название нажимать кнопка  submit  notebook создавать переходить панель новый notebooka добавлять ячейка vql помощь кнопка    начинать редактировать ячейка нажимать иконка карандаш создание notebook готовый создавать свой первый запрос написать ячейка  select  from info  сохранять запросиконка дискетка сохранение запрос выполняться увидеть строка информация ваш хост мочь переходить теория написание запрос vql основа синтаксис язык запрос vql создаваться идея максимально простой понятный собственно говорить запрос осуществляться следующий образ синтаксис запрос vql ключевой слово  select  стоять первый идти секция выбор столбец далее идти слово  from  который указывать плагин источник который быть получать данный закрывать запрос слово  where  который идти условие фильтрация получать источник данные   знакомый select запрос sql должно возникать сложность первый отличие который мочь замечать этот слово from вместо название таблица идти название плагин этап думать останавливаться подробно velociraptor существовать вид сущность который выполнять тот иной функция исполнение запрос это plugin  выступать роль источник данные вместо таблица вызов плагин  возвращать последовательность строка  ключевой слово  from  зачастую идти название плагин мочь использовать плагин гдеть запрос часто плагин мочь принимать входить параметр такой параметр мочь обязательный например получение список процесс мочь использовать плагин  pslist  также принимать параметр  pid  получение информация конкретный процесс случай форма запись следующий  select  from pslistpid4  обращать внимание  значение передаваемый параметр типизировать  передавать параметр значение string  например  select  from pslistpid4  запрос выполнять function  производить преобразование данные реализовать дополнительный логика функция  возвращать единственный значение  этот значение список строка отражать один ячейка таблица функция мочь использоваться везде необходимо производить операция данные например преобразование параметр плагин следующий запрос выполнять успешно  select  from pslistpidatoistring4 информация существующий функция плагин мочь находить  официальный документация  кроме работа notebook мочь использовать знак вопрос вывести информация доступный функция плагин параметр    вкладывать запрос  vql запрос мочь вкладывать другой запрос являться параметр плагин давать разбираться пример запрос  select  from pslistpidgetpid  использовать плагин  pslist  качество параметр  pid  принимать функция  getpid  который возвращать process id процесс velociraptor выполнение запрос вернуть таблица один строка набор столбец давать оставлять интересный мы столбец  select pid ppid name from pslistpidgetpid  плагин pslist возвращать информация имя родительский процесс parent pid ppid   получать имя необходимо сделать запрос такой образ запрос который отображать имя дочерний родительский процесс выглядить select pid        ppid        name         вложенный запрос                  select name          from pslistpidppid         as pname from pslistpidgetpid вкладывать запрос находиться внутри фигурный скобка      секция выбор столбец результат таблица один строка количество степень вложенность такой запрос неограничивать черезмерный использование делать запрос трудный понимание локальный переменный функция vql поддерживать создание локальный переменный функция называться локальный существовать время выполнение запрос создание переменная использоваться ключевой слово  let  несколько пример  мочь создавать переменный содержать простой значение let i  4 let s  world   содержать запрос let q  select pid name from pslistpidgetpid   функция let to_strinteger  formatformatv is a string hello  argsinteger   это использовать выполнение запрос  select to_strintegeri  s as greeting name pid from q select  запрос сохранять переменной6ая строка  выполняться момент вызов  подход позволять создавать сложный запрос оставлять доступный чтение понимание  давать модифицировать запрос который выполнять увидеть использовать сохранять запрос рассматривать следующий пример    let pname  select name from pslistpidppid  select pid        ppid        name         использовать сохранять запрос        pname0name as pname    необходимо указывать индекс 0 тк плагин возвращать список строка список элемент   from pslistpidgetpid  такой запись удобный особенно количество вложенный запрос  сохранять запрос использовать пространство имя основный запрос который производить вызов поэтому запись  from pslistpidppid  являться коррктный несмотря значение  ppid  несуществовать момент создание переменная    важно различать обычный материализовать переменный первый создаваться показывать выше  let    второй  let    синтаксический разница оператор     простой      материализовать смысловой материализовать производить выполнение запрос момент объявление переменная следующий пример быть использовать функция log который выводить сообщение лог запрос выполнение  сохранять запрос выполнять let one  select  logmessagerun from  from info   материализовать запрос выполнять создание переменная let two  select  logmessagerun from  from info выполнение второй запрос происходить отсутствие основной  select  запрос который должный вывести информация экран  ",
    "tags": [
        "dfir",
        "threat hunting",
        "cybersecurity",
        "information security"
    ]
}