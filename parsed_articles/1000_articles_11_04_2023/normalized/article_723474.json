{
    "article_id": "723474",
    "article_name": "Starting Electronics: руководство по веб-серверам на Arduino. Часть 9. Работа с изображениями",
    "content": "переводчик  сегодня легкий урок мочь расслабляться просто следовать объяснение автор внимательно ознакомляться предыдущий статья уяснять принцип работа вебсервер файл sd карта память занятие все должно понятно  просто добавлять один строка код страница немного модернизировать скетч прошлое урок    несмотря легкость сегодняшний занятие оно давать мы важный умение  добавлять изображение вебстраница сервер делать страница красивый информативный         работа изображение  вебстраница находиться sd карта arduino сервер мочь содержать изображение урок рассказываться вставлять jpeg картинка html страница отправлять она браузер вебсервер получать соответствующий http запрос    качество оборудование урок использоваться arduino uno плата ethernet shield microsd карта память    этот видео демонстрировать действие реализовать пример урок             html код отображение картинка  html тег  img  использоваться вставка изображение вебстраница взять файл  indexhtm   предыдущий часть  руководство немного изменять добавление изображение     doctype html html     head         titlearduino sd card web pagetitle     head     body         h1arduino sd card page with image and linkh1         img srcpicjpg          pgo to a hrefpage2htmpage 2ap     body html   вышеприведенный html код изображение содержаться файл  picjpg  добавляться вебстраница помощь строка     img srcpicjpg    атрибут src использоваться указание имя отображать файл картинка     исходный код  работа этот пример нужно скопировать файл microsd карта память который затем вставлять ethernet shield     sd_card_imagezip  82 кб  архив содержать html фал вебстраница indexhtm page2htm файл картинка picjpg использовать урок         http запрос  подключение arduino вебсервер браузер сначала отправлять http запрос вебстраница браузер получать запрашивать страница обнаруживать содержать изображение загрузка изображение браузер отправлять сервер еще http запрос         скетч ардуино  низко представлять arduino скетч урок это модифицировать версия скетч предыдущий часть руководство        скетч      eth_websrv_sd_image    описание  arduino вебсервер sd карта память возможность работа изображение      оборудование контроллер arduino uno плата ethernet shield microsd карта память 2 гб отформатировать fat16                    программный обеспечение среда разработка arduino ide требоваться наличие файл indexhtm page2htm picjpg microsd карта память      ссылка      webserver example by david a mellis and modified by tom igoe      sd card examples by david a mellis and tom igoe      ethernet library documentation httparduinoccenreferenceethernet      sd card library documentation httparduinoccenreferencesd    дата создание         7 март 2013   изменять     17 июнь 2013     автор       wa smith httpstartingelectronicsorg   include spih include etherneth include sdh   размер буфер http запрос define req_buf_sz   20  byte mac   0xde 0xad 0xbe 0xef 0xfe 0xed  ipaddress ip192 168 0 20  ipадрес нужно изменять актуальный ваш сеть ethernetserver server80 file webfile char http_reqreq_buf_sz  0  http запрос сохранять null terminated строка char req_index  0  индекс http_req буфер  void setup       выключение ethernet чип     pinmode10 output     digitalwrite10 high          serialbegin115200           инициализация sd карта     serialprintlninitializing sd card     if sdbegin4          serialprintlnerror  sd card initialization failed         return          serialprintlnsuccess  sd card initialized      поиск файл indexhtm     if sdexistsindexhtm          serialprintlnerror  cant find indexhtm file         return          serialprintlnsuccess  found indexhtm file          ethernetbeginmac ip     serverbegin   void loop      ethernetclient client  serveravailable      if client          boolean currentlineisblank  true         while clientconnected              if clientavailable                  char c  clientread                  оставлять последний элемент массив 0 null terminate строка                 if req_index  req_buf_sz  1                      http_reqreq_index  c  сохранять символ http запрос                     req_index                                  serialprintc  печатать http запрос serial                 if c  n  currentlineisblank                       открывать запрошенныйые файл                     if strcontainshttp_req get    strcontainshttp_req get indexhtm                          clientprintlnhttp11 200 ok                         clientprintlncontenttype texthtml                         clientprintlnconnnection close                         clientprintln                         webfile  sdopenindexhtm                                          else if strcontainshttp_req get page2htm                          clientprintlnhttp11 200 ok                         clientprintlncontenttype texthtml                         clientprintlnconnnection close                         clientprintln                         webfile  sdopenpage2htm                                          else if strcontainshttp_req get picjpg                          webfile  sdopenpicjpg                         if webfile                              clientprintlnhttp11 200 ok                             clientprintln                                                                    посылать вебстраница клиент                     if webfile                          whilewebfileavailable                              clientwritewebfileread                                                  webfileclose                                           обнулять буфер                     req_index  0                     strclearhttp_req req_buf_sz                     break                                  if c  n                      currentlineisblank  true                                   else if c  r                      currentlineisblank  false                                end if clientavailable           end while clientconnected         delay1         clientstop       end if client    обнулять массив void strclearchar str char length      for int i  0 i  length i          stri  0         искать совпадение запрос char strcontainschar str char sfind      char found  0     char index  0     char len      len  strlenstr          if strlensfind  len          return 0          while index  len          if strindex  sfindfound              found             if strlensfind  found                  return 1                               else              found  0                  index           return 0    скетч работать скетч предыдущий урок исключение следующий участок код который обрабатывать запрос изображение формат jpeg      else if strcontainshttp_req get picjpg      webfile  sdopenpicjpg     if webfile          clientprintlnhttp11 200 ok         clientprintln         код проверять запрашивать браузер jpeg изображение файл picjpg    запрос изображение получать файл картинка присутствовать sd карта браузер посылаться стандартный http ответ ok затем сам jpeg картинка    предыдущий часть код пример специально максимально упрощать хороший понимание принцип работа пример обрабатывать случай ресурс html файл файл изображение находить sd карта также рассчитать работа файл picjpg    практический применение выделять запрашивать имя html страница файл изображение http запрос затем пытаться находить sd карта память сервер также должный предусматривать обработка случай запрашивать файл находить sd карта         переводчик 9й часть   говорить простой слово настраивать скетч выдача ответ запрос браузер картинка находиться файл picjpg вариант наш вебсервер выдавать один картинка определять заранее файл picjpg    вариант вебсервер неприменимый практика подходить цель обучение это легко исправлять  достаточно добавлять обработка любой название файл расширение популярный графический формат файл png gif тд  наш сервер становиться универсальный начинать выдавать красивый вебстраница картинка точно это делать взрослый сервер интернет     часть 1   часть 2   часть ",
    "tags": [
        "timeweb_статьи_перевод",
        "микроконтроллеры",
        "программирование",
        "arduino",
        "iot",
        "туториал",
        "руководство",
        "уроки",
        "веб сервер",
        "server",
        "starting electronics",
        "images",
        "img"
    ]
}