{
    "article_id": "727502",
    "article_name": "Файловая система BTRFS. Кэширование",
    "content": "тема  продолжать  рассмотрение файловый система btrfs рассматривать такой сложный неоднозначный тема кэширование типичный проблема который пытаться решать пользователь этот использование больший дисковый объем сохранение скорость мочь купить ssd диск стоимость хранение 1 гигабайт такой диск существенно стоимость хранение гигабайт обычный hdd зато ssd быстро это любить диск задача заключаться постараться совмещать скорость hdd стоимость хранение hdd посмотреть помогать btrfs какой подводный камень такой решение качество пример быть разворачивать кэширование ssd диск помощь bcache хотеться напоминать прежде начинать выполнять какиелибо действие изменение файловый система забывать сделать полный бэкап bcache итак познакомиться bcache суть это кеш блочный уровень ядро linux давать механизм позволять один несколько быстрый диск например ssd выступать качество кеш один несколько медленный жесткий диск один сторона жесткий диск дешевый большой твердотельный накопитель быстрый маленький дорога аналогия l2arc zfs bcache ядро linux позволять использовать твердотельный накопитель кэширование другой блочный устройство умолчание bcache кэшировать последовательный вводвывод случайный операция чтение запись который твердотельный накопитель работать достаточно быстро свой ресурс автор bcache амбициозный заявлять цель разработка  обеспечивать такой скорость ssd кэшировать устройство учет попадание данные кеш допустимый погрешность заявление автор такой действительно возможный особенно выполнение случайный запись стоять отмечать bcache предусматривать защита сбой аналогичный использование независимый источник питание raid контроллер кеш вернуть запись завершать тот пора пока быть выполнять необходимый действие размещение стабильный хранилище запись рассматриваться частично завершать плохо отсутствующий случай сбой питание  случай ошибка вводавывод данные ssd попытаться восстанавливаться путем чтение диск аннулирование запись кеш неустранимый ошибка сбой метаданные грязный данные кэширование автоматически отключаться кеш присутствовать грязный данный сначала отключаться кэширование обратный запись ожидаться сброс грязный давать грязный быть называть данные который кеш который отсутствовать соответствовать сохранять диск кэширование обратный запись означать сначала записываться данные кеш ssd основной устройство хранение отправляться данный полностью записывать кеш ssd думать теория  маркетинг  bcache достаточно самый время приступать установка настройка данный система традиция обновлять репозиторий устанавливать bcachetools  aptget update  aptget install bcachetools далее использовать разделs devsdb devsdc devsdd создание устройство кеш makebcache c devsdd b devsdb devsdc флаг c указываться устройствокэш флаг b указываться кэшировать устройство сделать один команда сразу получаться мы нужно раздел hdd кеш ssd мой случай кеш использоваться devsdd диск быть кэшироваться devsdb devsdc результат создание устройство кеш посмотреть помощь следующий команда bcachesupershow devsdd самый время вспомнить файловый система btrfs развертывать наш кэшировать устройство мы нужно получать значение csetuuid который присутствовать предыдущий скришот сделать это помощь следующий команда bcachesupershow devsdd  grep csetuuid мой случай этот значение равный baa1f31a9c6c444fa951372ee50582e2 соответственно помещать этот значение специальный текстовый файл echo baa1f31a9c6c444fa951372ee50582e2  sysblockbcache0bcacheattach затем собственно создавать btrfs раздел mkfsbtrfs devbcache0   мой случай использоваться диск интернет находить множество пример использование btrfs raid кэшировать диск  далее мы оставаться подмонтировать btrfs раздел mount devbcache0 mnt готовый рискнуть мочь включать кэширование помощь команда недостаток завершение поговорить немного недостаток bcache прежде процесс читать большой файл вместе это часто обращаться мелкий файл  частый мелкий операция чтение скоро попадать кеш хотя мочь серьезно ускорять работа также простор интернет находить публикация bcache иметься проблема надежность частность изза ошибка один версия ядро линукс возможный сбой работа bcache однако данный публикация датировать преимущественно 2017 год текущий уязвимость давно исправлять  недостаток bcache который стоить обращать внимание это сложность присоединение кеш существовать раздел данные bcache требовать специально подготовить раздел свой работа перенести давать существовать раздел необходимый раз больший объем дисковый пространство выполнение длительный перемещение данные деактивировать активировать кэширование данный обстоятельство необходимо учитывать планирование использование bcache заключение завершать цикл статья посвящать работа btrfs рассматривать основной принцип работа данный файловый система также рассматривать работа различный тип raid массив поддерживать данный фс завершение поговорить возможность использование bcache совместно btrfs ускорение работа дисковый подсистема  напоминать сегодня состояться бесплатный вебинар  тема минилаборатория vagrant рамка вебинар поговорить сделать тестовый стенд свой локальный компьютер какой компонент понадобиться обсуждать разница контейнеризация виртуализация посмотреть какой система виртуализация контейнеризация существовать также рассматривать работа инструмент автоматизация vagrant  особенность принцип работа зарегистрироваться бесплатный вебинар",
    "tags": [
        "btrfs",
        "bcache",
        "linux"
    ]
}