{
    "article_id": "729144",
    "article_name": "Анонимные пространства имен vs. static в пространстве имен",
    "content": "содержание единица трансляция анонимный пространство имя static static пространство имя пример хороший анонимный пространство имя целесообразный статический пространство имя заключение единица трансляция соответствие  стандарт   ссылка waybackmachine  единица трансляция  это базовый единица компиляция c состоять содержимое один файл исходный код плюс содержимое любой заголовочный файл прямо косвенно включать минус строка код который проигнорировать помощь условный оператор препроцессор анонимный пространство имя один фич c являться возможность создавать анонимный безымянный пространство имя например namespace      int invisible_to_others_translation_unit      пространство имя анонимный пространство имя  доступный  единица трансляция который определять неявный usingспецификатор  unnamednamespacedefinition  вести подобно следующий код inline namespace unique   пустой тело   using namespace unique  namespace unique  namespacebody  член встроенный пространство имя вести член родительский пространство имя static namespacestatic ключевой слово  static  использоваться объявление переменный функция глобальный область видимость global scope  переменный функция область видимость пространство имя namespace scope  переменный функция область видимость класс class scope  переменный функция локальный область видимость local scope  переменный статический время жизнь означать объект переменный создавать запуск программа уничтожать завершение программа связь  это видимость символ компоновщик обработка файл внешний связь external linkage  присущий вещь который должный существовать предел конкретный единица трансляция другой слово доступный рамка весь программа внутренний связь internal linkage  присущий все находиться исключительно рамка один конкретный единица трансляция умолчание объект переменный определенный глобальный пространство имя иметь статический время жизнь  внешний связь  однако объявлять переменный функция область видимость файл глобальный ииль область видимость пространство имя ключевой слово  static  указывать переменный функция иметь  внутренний связь  глобальный область видимость пространство имя  int i          extern умолчание const int ci      static умолчание extern const int eci  явно extern static int si      явно static   самый функция глобальный константный функция  int foo        extern умолчание static int bar    явно static const  переменный умолчание обладать внутренний связь объявлять  extern  статический членыданныефункциичленыанонимный классыименованный классыперечисление класс область видимость пространство имя иметь тип связь заключать класс тип связь шаблон класс самый внутренний заключать класс пространство имя который объявлять специализация шаблон явный неявный иметь внутренний связь отличаться остальной специализация другой единица трансляция пример namespace test static int i  5  internal linkage definition is here внутренний связь определение прямо  никакой повторный определение  удалять  static  скоро возникать ошибка повторный определение vs namespace  int i  5  внутренний связь умолчание недостижимый другой  единица трансляция class invisible_to_others    хороший анонимный пространство имя 1 пространство имя работать все анонимный пространство имя превосходить ключевой слово  static  первый очередь изза ключевой слово  static  применимый объявление переменный функция определяемымпользователь тип следующий код допускать c допустимый код static int sample_function   тело функция   static int sample_variable код допускать  недопустимый код static class sample_class   тело класс   static struct sample_struct   тело структура   такой образ очевидный решение заключаться использование анонимный пространство имя именно допустимый код namespace  class sample_class   тело класс   struct sample_struct   тело структура    2 static слишком значение a namespacestatic  внутренний связь b localstatic  продление жизнь локальный переменная c memberstatic  метод класс 3 однородность согласованность пространство имя обеспечивать единообразный непротиворечивый способ контроль видимость глобальный область видимость нужно использовать разный инструмент достижение один тот цель 4 аргумент шаблон c позволять использовать тип указателиссылка объект функция внутренний связь статический качество параметр шаблон целесообразный статический пространство имя 1 специализация шаблон анонимный пространство имя мочь специализировать шаблон предел namespaceблока ключевой слово  static  заставлять каждый единица трансляция который включать заголовок интерфейс содержать объявление пространство имя иметь внутренний копия статический переменнойфункция фактически резервировать место следовательно получать ошибка повторный определение самый верный  const  предшествовать  extern  который определять переменный внутренний связь 2 лаконичный глобальный таблица символ static  предотвращать попадание имя глобальный таблица символ узкий смысл это оптимизация очень важный практический точка зрение имя анонимный пространство имя это похвастаться мочь однако функция анонимный пространство имя правило добавляться таблица символ помечаться internal mangled фактически недоступный такой образ общий случай программа использовать  static  свой  translationunitlocal namespacelevel  функция генерировать мало работа компоновщик потенциально выполняться быстро эквивалентный программа использовать анонимный пространство имя заключение работать заголовок нужно избегать решение предполагать анонимный пространство имя изза внутренний связь умолчание каждый единица трансляция определять свой собственный уникальный экземпляр член анонимный пространство имя приводить неожиданный результат раздувание итоговый исполнять файл непреднамеренный вызов  неопределенный поведение  изза нарушение правило один определение odr утверждение переменный определенный анонимный пространство имя неявно являться статический корень  неверный   static   бесполезный  пространство имя общий говорить следующий гайдлайн предпочитать обычный функция тип анонимный пространство имя заголовочный файл использовать  static  необходимо специализировать метод шаблон класс оптимизация компоновщик являться серьезный проблема  static   это хороший вариант анонимный пространство имя предназначать защита локальность предоставление интерфейс бонусный вопрос 1 namespace  class a      void foo  a   _z3foon12_global__n_11ae    символ функция повидеть ссылаться имя a который являться член пространство имя уникальный имя каков тип связь  foo  ответ время имя foo технически иметь внешний связь мочь ссылаться другой единица трансляция записывать название тип параметр foo возможно ссылка связь функция параметр безымянный пространство имя dcl59cpp определять анонимный пространство имя заголовочный файл  материал подготовить рамка  онлайнкурс c developer professional",
    "tags": [
        "c++",
        "static",
        "пространство имен",
        "namespaces"
    ]
}