{
    "article_id": "725986",
    "article_name": "«Таков путь» — или изучаем путь пользователя по диаграмме Сенки в UX Rocket",
    "content": "Таков путь\nВременами так хочется отвлечься от рутины технической документации и посмотреть что-то новое.  \nК счастью, вселенная меня услышала. Прошлым летом я публиковал обзор на решение для продуктовой аналитики \nUX Rocket\n. \nНе то чтобы с тех пор “много воды утекло”, но проект знатно доработали, поэтому я с радостью решил еще раз примерить на себя роль юного исследователя поведения пользователей. \nСегодня мы с вами:\nПосмотрим, что было доработано за последние месяцы.\nУстановим скрипт сервиса на движок WordPress с плагином интернет-магазина WooCommerce и построим диаграмму Сэнки (Sankey) с помощью UX Rocket.\nОглавление:\nВведение\nОбзор доработок\nДизайн и эргономика\nСбор данных из Google BigQuery и Яндекс.Директ\nНовая СУБД\nРекомендации\nРекомендации кампании\nСегменты в воронке\nСессии\nОбещанные доработки\nSDK для мобильных устройств\nКонструктор отчетов\nУстановка скрипта в WooCommerce (WordPress)\nДиаграмма Сэнки (Sankey diagram)\nСоздаем первую диаграмму\nБалуемся с настройками\nЗаключение\nВведение\nНачать стоит с небольшого \nдисклеймера\n:\nЯ далек от продуктовой аналитики, поэтому не стоит полагаться на материал статьи, как на истину в последней инстанции.\nЕсли вы читали мои публикации про NanoCAD и Canny, то уже знаете, что я благосклонно отношусь к отечественным разработкам, которые пытаются конкурировать с иностранными решениями. Поэтому сегодня я могу быть чуть более субъективен чем обычно.\nАбзацы, написанные курсивом это мои “лирические отступления”, если вы сегодня настроены серьезно, то их смело можно пропустить.\nОбзор доработок\nНе смотря на все доработки в целом концепция продукта не изменилась, поэтому  чтобы не раздувать статью я оставлю ссылку на \nпрошлый обзор UX Rocket\n.  Сегодня мы посмотрим, как развивался продукт и что удалось сделать из обещанного ранее.\nДизайн и эргономика\nВ стране, где люди готовы использовать операционную систему написанную их одноклассником, потому что у \nWindows скучные обои\n, совершенно не стоит недооценивать роль графического дизайна.\nИнтересных обоев я вам не обещаю, но в целом дизайн стал продуманнее, где-то лого добавили, где-то цвета поменяли и т.п.\nВ моей песочнице данных кот наплакал, поэтому я немножко воспользовался данными другого проекта, в связи с чем здесь и далее я старался размывать все критичные данные, вы уж не обессудьте.\nДизайн старой и новой версий\nТакже изменилось содержание некоторых разделов, но это вызвано не только соображениями эргономики, но и расширением функционала.\nСбор данных из Google BigQuery и Яндекс.Директ\nТеперь в UX Rocket появилась возможность интегрировать данные не только со своего счетчика, но и мигрировать данные из весьма распространенных на рынке сервисов Яндекс.Директ и Google BigQuery.\nПричем если Яндекс Директ, как я понимаю сделали “чтобы было”, то интеграция с Google BigQuery в условиях санкций может быть весьма актуальна. \nИбо сейчас у многих пользователей Google BigQuery как в присказке Винни Пуха: “странный предмет, он как бы есть, но его как бы нет”. \nНа сколько я знаю. сейчас у некоторых пользователей данные находятся в режиме только для чтения. Теперь их можно интегрировать в UX Rocket, чтобы с ними нормально работать.\nК сожалению, мне забирать данные неоткуда поэтому просто оставлю одинокий скриншот с формой для интеграции.\nИнтеграция с Google BigQuery \nНовая СУБД\nСо слов разработчиков, сервис переехал с PostgreSQL на ClickHouse. Скорость фильтрации данных выросла в 5 раз и скорость загрузки в целом тоже.\nПо идее это звучит похоже на правду, но мне не на чем было проверить.\nРекомендации\nРекомендации кампании\nПосле достижения в компании по A / B тестированию определенных критериев (количество показов или статистическая значимость), система может выдать рекомендации, о том, что пора кампанию сворачивать или наоборот раскатывать на основную аудиторию.\nРекомендации по итогом кампании\nСегменты в воронке\nДанный раздел позволяет провести анализ ранее созданных воронок.\nМожно собрать ключевые атрибуты, например браузер, тип юзера, тип устройства, настроить показатели, например минимальную долю сегмента и отклонения. По полученным сегментам можно посмотреть в каких случаях, определенная группа пользователей отклоняется от среднестатистического значения и потом, что-то докрутить на вашем сайте (в приложении).\nПри этом статистика собирается по сегментам в разных комбинациях. Допустим у нас выбрано три параметра, если пролистать все страницы отчета, то можно будет увидеть разные сегменты. Например, тип пользователя и тип устройства, но без браузера. \nАналогично с шагами воронки вначале показаны все, но дальше будут выборки и по конкретным шагам.\nПо резким отклонениями конверсии можно находить трудноуловимые при тестировании проблемы в отдельно взятых версиях браузеров или ОС на отдельно взятых шагах воронки.\nЧтобы все стало понятнее просто взгляните на скриншот.\nСегменты воронки\nСессии\nВ разделе Сбор данных -> Сессии появилась возможность агрегировать данные в рамках одной сессии по набору атрибутов.\nСессии\nКстати, еще одно из приятных нововведений — это возможность выгрузить данные в файл.\nОбещанные доработки\nВ заключительной части \nпрошлой статьи\n разработчики UX Rocket поделились планами на развитие продукта, я решил свериться с фактическим ходом дел.\nSDK для мобильных устройств\nТут мне писать особо нечего, сам SDK я в руках не крутил, но он неоднократно упоминается в пользовательской документации.\nВозможно будет повод в однажды покрутить его в руках и написать еще статейку.\nПравда для смартфонов я ничего сложнее приложений с парой кнопок не писал\n.\nКонструктор отчетов\nЕсли в прошлой версии сервиса можно было только настроить воронку, то теперь возможности по настройке сильно расширились. \nВо-первых появилась возможность настройки диаграммы Сэнки.\nВ части диаграмм Сэнки по моим ощущениям разница — “небо и земля”, но сами диаграммы мы разберем ниже в отдельном разделе.\nВо-вторых на страницу “Сводка” теперь можно смело добавить кучу разных отчетов.\nСводная страница с отчетами\nОкно добавления отчета\nCDP почти готов, но не был представлен в той версии к которой у меня был доступ. Совместно с CDP разрабатывается offline сбор данных и конструктор коммуникаций. Пример работы с UX Rocket - диаграмма Сэнки.\nВ качестве примера работы мы рассмотрим магазин WooCommerce на движке WordPress (v 6.1.1). Безусловно, UX Rocket предназначен для чего-то большего, но у меня под рукой было только это.\nУстановка скрипта в WooCommerce (WordPress)\nУстановка скрипта предельно, проста. Если вы не администратор, то вам наверняка передали код скрипта. Ну а пользователь с правами администратора, может самостоятельно скопировать код на странице Настройки -> Общие скрипты. \nСкрипт надо просто вставить на страницу. В идеале в хедер. Если на странице есть код Яндекс метрики и Google Analytics, то скрипт UX Rocket нужно установить после них.\nПроцедура установки кода в WordPress, тоже не очень сложная. Нам надо всего лишь тем или иным образом изменить код темы.\nВы можете поправить файл functions.php, но мы сегодня не будем ковырять код, а используем еще более простой путь — установку кода через плагин.\nУ WordPress множество плагинов для вставки кода в хедер сайта. Я использовал совместимый с текущей версией плагин Woody snippets.\nЧтобы его установить войдите в панель управления WordPress -> плагины -> добавить новый и найдите его с помощью поля поиска.\nПосле установки плагина, у вас появится соответствующий пункт меню. Перейдите в него и добавьте новый HTML сниппет\nСоздание сниппета для кода счетчика\nЗадайте скрипту какое-нибудь название (можете как у меня). Выберите авто-размещение в шапке и вставьте код скрипта.\nНастройки сниппета с кодом счетчика\nЗатем нажмите “Опубликовать”\nПубликация сниппета\nВот и все. Наш код установлен на сайте и уже шлет запросы в систему.\nДемонстрация запросов к API UX Rocket\nДиаграмма Сэнки (Sankey diagram)\nЕще немного из личного. Лет 15 назад, когда я был WEB-мастером в очень бюджетном сегменте, я знать не знал о таких вещах как диаграмма Сэнки. Возможно, если бы я что-то такое посоветовал заказчикам, то их дела пошли бы успешнее. \nСоздаем первую диаграмму\nПрежде чем создавать диаграмму Сэнки давайте убедимся, что наш код работает. \nПосетите пару страниц вашего сайта, а потом перейдите на вкладку “Сырые данные” в ЛК UX Rocket\nНа странице прямо бросается в глаза, то что я совсем недавно положил в корзину товар “Кот в мешке”.\nЕсли вам вдруг не бросается, дам подсказку — это вторая сверху строка.\nСырые данные для примера\nОтлично, теперь мы можем перейти в раздел Отчеты -> Сэнки и создать нашу первую диаграмму.\nНажмите кнопку “Добавить” откроется диалог параметров диаграммы, такой же диалог потом можно будет открыть при редактировании уже созданной диаграммы.\nДобавление диаграммы\nПараметры диаграммы\nМаленький лайфхак если у вас пуст список событий, можно впечатать туда что-нибудь, например косую черту или адрес существующей страницы.\nВыбор основного события\nПока не будем задумываться, над неочевидными значениями полей, я объясню их немного позже.\nДавайте сохраним диаграмму и скорей пойдем смотреть, что получилось.\nПервый взгляд на диаграмму Сэнки\nВот мы получили схему. Пока ничего не понятно, но очень интересно. \nКстати диаграмму можно скачать в формате png.\nПромежуточная цель выполнена, давайте углубимся в настройки.\nБалуемся с настройками\nДавайте вернемся на экран редактирования диаграммы (вкладка “Параметры”) и разберем поля.\nНаименование диаграммы — под каким названием она будет везде отображаться\nОсновное событие — страница на которой побывает 100% посетителей из выборки. Шаги до — количество шагов до того, как пользователь придет к основному событию.\nПосле — количество шагов в диаграмме после наступления основного события\nКоличество событий в шаге — сколько пунктов (строк) будет в каждом столбце диаграммы, без учета разделов  “ушедшие” и  “другие” (если не поняли не переживайте, ниже будет пример).\nГруппа — функционал ролевой модели, например если в страховой компании есть два продукта КАСКО и ОСАГО, то менеджерам каждого из направлений можно показать только диаграммы связанные с их продуктом.\nОписание диаграммы - просто пометка для коллег или для вас в будущем.\nДавайте наглядно посмотрим комбинации полей, а потом перейдем к фильтрам.\nВ прошлый раз в поле “Основное событие” мы поставили корень сайта “/”. \nДавайте для наглядности укажем другую страничку. У меня специально заготовлена для этого страница test2.html.  Другие параметры менять не будем.\nИзменение основного события\nСмотрим результат. Теперь у нас 100% пользователей побывали на странице test2.html\nРезультат изменения основного события\n.Мы видим, что большинство пользователей, пришедших на страницу test2.html, перешли на test1.html. Как ни странно, эта статистика весьма согласуется с реальностью.\nПотому что страница test2.html выглядит вот так:\nСкриншот тестовых страниц сайта\nДавайте поменяем еще что-нибудь.\nДля начала вернем посещение корня сайта как основное действие “/” и поиграемся с шагами.\nВведите:\n“Шагов до” - 2\n“после” - 3\n“Количество событий в шаге” - 4\nИзменение шагов диаграммы\nПосмотрим результат:\nРезультат изменения шагов диаграммы\nТеперь вся диаграмма строится так, чтобы пользователь из выборки сделал 2 действия на сайте, а потом вернулся на главную.\nВ данном случае у нас половина пользователей пришла на главную, потом перешла еще на одну страницу и снова вернулась на главную.\nПосле чего на нашей диаграмме показаны еще 3 последующих шага пользователей.\nКак вы уже обратили внимание, в диаграмме есть еще одно отличие, а именно теперь проценты в столбике детализированы по 4 событиям.\nПо каждому событию в столбце можно посмотреть детальную информацию.\nЕсли бы у нас были реальные данные, то можно было бы выдвигать какие-то гипотезы.\nНапример, что 20% пользователей, которые часто возвращаются на главную, возможно пытаются и не могут найти раздел магазин (это гипотеза “с потолка”, тут лучше обратится к профессионалам). \nДавайте добавим какой-нибудь фильтр на страницу с диаграммой.\nПусть это будет “DeviceType”. Название полю фильтра можно дать любое.\nДобавление фильтра\nУ нас всего два разных типа устройств, давайте выберем мобильные телефоны\nВключение фильтра\nПоскольку я почти не пользовался мобильным телефоном для просмотра сайта, то данные поменялись кардинально.\nРезультат добавления фильтра\nВ данном случае применяя фильтры на реальных данных, мы могли бы понять основной путь пользователей на смартфонах, чтобы потом выдвинуть гипотезу и проверить её с помощью кампании A/B тестирования.\nВпрочем, это уже совсем другая история.\nНа этом наше знакомство с базовым функционалом диаграммы Сэнки будем считать законченным.\nЗаключение\nВ комментариях к прошлой статье спрашивали о стоимости UX Rocket.\nЯ уточнил этот вопрос у разработчиков. К сожалению, конкретную стоимость я назвать не смогу. Продукт ориентирован на корпоративный сектор, и кастомизация платформы производится под каждого конкретного заказчика, а значит и стоимость - индивидуальная.\nВ целом продукт развивается, что не может не радовать.  \nПонравились какие-то мелкие оптимизации, как-то неуловимо стало удобнее пользоваться. Диаграммы Сэнки так и вовсе изменилось до неузнаваемости в лучшую сторону. \nПонравилось, что к продукту появилась более детальная документация. Полистал пару клиентских инструкций и оценил работу коллег по цеху — написано нормально. Правда сам материал с акцентом на менеджеров. Мне было бы интереснее почитать про технические особенности.\nВ целом продукт не без мелких шероховатостей, но они присуще и более крупным веб сервисам в любой сфере, не только в продуктовой аналитике.\nНо поскольку разработчики свое дело знают, да и прогресс со времени прошлой итерации очевиден, думаю за судьбу  проекта можно не переживать.\nТем более, что как я понял в ближайших планах государственная аккредитация UX Rocket, а значит у нас будет чем заменить уходящих из России участников рынка продуктовой аналитики.\nНе удивлюсь если я через какое-то время еще раз взгляну на продукт и набросаю статейку на Хабр.\nСпасибо всем, кто дочитал до конца, надеюсь вам было интересно.\n \n ",
    "tags": [
        "Продуктовая аналитика",
        "визуализация данных",
        "a/b-тестирование",
        "сегментация",
        "продвижение",
        "диаграмма",
        "Сэнки",
        "Sankey",
        "wordpress",
        "импортозамещение"
    ]
}