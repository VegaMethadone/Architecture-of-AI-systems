{
    "article_id": "728158",
    "article_name": "–ï—Å–ª–∏ –≤—ã –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π, —Ç–æ —Ç–µ–ø–µ—Ä—å —É –≤–∞—Å —Ç—Ä–∏ –ø—Ä–æ–±–ª–µ–º—ã",
    "content": "\r\n–ò–∑–≤–µ—Å—Ç–Ω–∞—è —à—É—Ç–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ –≥–ª–∞—Å–∏—Ç, —á—Ç–æ –µ—Å–ª–∏ —Ä–µ—à–µ–Ω–∏–µ –≤–∞—à–µ–π –ø—Ä–æ–±–ª–µ–º—ã –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –ø–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, —Ç–æ —Ç–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –¥–≤–µ –ø—Ä–æ–±–ª–µ–º—ã. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã, –ø—Ä–æ—á–∏—Ç–∞–≤ —à—É—Ç–∫—É, —Ä–µ—à–∞—é—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏–Ω–æ–π –ø–æ–¥—Ö–æ–¥. –í–æ–∑–º–æ–∂–Ω–æ, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –Ω–µ —Ç–∞–∫ —É–∂ –Ω—É–∂–Ω—ã. –í–æ–∑–º–æ–∂–Ω–æ, –∑–∞–¥–∞—á—É –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ø—Ä–æ—Å—Ç—ã–º split —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ —á–µ–º-—Ç–æ –ø–æ–¥–æ–±–Ω—ã–º. –û–¥–Ω–∞–∫–æ –¥—Ä—É–≥–∏–µ –º–æ–≥—É—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è –Ω–µ–º–Ω–æ–≥–æ –≥–ª—É–±–∂–µ –∏ –∑–∞–¥–∞—Ç—å—Å—è –≤–æ–ø—Ä–æ—Å–æ–º: ¬´–ê –µ—Å–ª–∏ —è —Å–¥–µ–ª–∞—é –Ω–µ—á—Ç–æ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –¥–µ—Ä–∑–∫–æ–µ, —á—Ç–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á—É —Ç—Ä–∏ –ø—Ä–æ–±–ª–µ–º—ã?¬ª –ú–æ–π –ø–æ—Å—Ç –Ω–∞–ø–∏—Å–∞–Ω –≤ —Ç–∞–∫–æ–º –¥—É—Ö–µ!\n\r\n\n\r\n–í –Ω—ë–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–¥ –Ω–∞ Python, –æ–¥–Ω–∞–∫–æ –µ–≥–æ –ª–µ–≥–∫–æ –º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –ª—é–±–æ–π —è–∑—ã–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–π –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞.\n\r\n\n\r\n\n‚ñç –≠–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã\n\r\n–ï—Å–ª–∏ –≤—ã –∑–∞–¥—É–º–∞–µ—Ç–µ—Å—å –æ –ø–∞—Ä—Å–∏–Ω–≥–µ, —Ç–æ –ø–æ–π–º—ë—Ç–µ, —á—Ç–æ –≤–æ –º–Ω–æ–≥–æ–º –æ–Ω —Å–≤—è–∑–∞–Ω —Å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –î–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –≤—ã–ø–æ–ª–Ω—è—é—â—É—é —ç—Ç—É –∑–∞–¥–∞—á—É:\n\r\n\n\r\n\ndef shift(inp):\n    return bool(inp) and (inp[0], inp[1:])\n\r\n–ü–æ–ª—É—á–∞—è –≤—Ö–æ–¥–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å \ninp\n, –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç \ninp[0]\n –∏ –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã \ninp[1:]\n. –ï—Å–ª–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ –±—ã–ª–æ, –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç \nFalse\n. –§—É–Ω–∫—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Å—Ç—Ä–∞–Ω–Ω–æ, –Ω–æ –≤–æ—Ç –∫–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—à–∞–≥–æ–≤–æ –¥–ª—è —Å–∏–º–≤–æ–ª–æ–≤ —Å—Ç—Ä–æ–∫–∏:\n\r\n\n\r\n\n>>> shift('bar')\n('b', 'ar')\n>>> shift('ar')    # –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –æ—Å—Ç–∞–≤—à–∏–º—Å—è —Å–∏–º–≤–æ–ª–∞–º 'ar'\n('a', 'r')\n>>> shift('r')\n('r', '')\n>>> shift('')\nFalse\n>>>\n\r\n–í—Å–µ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω–æ –±—ã–≤–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞—Ç–Ω—É—é –µ–π —Ñ—É–Ω–∫—Ü–∏—é. –ü–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, —ç—Ç–æ–º—É —è –Ω–∞—É—á–∏–ª—Å—è, —Ä–∞–±–æ—Ç–∞—è –Ω–∞–¥ –ü–û –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á—ë—Ç–æ–≤. –ß—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö? –†–∞–∑—É–º–µ–µ—Ç—Å—è, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –î–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é:\n\r\n\n\r\n\ndef nothing(inp):\n    return (None, inp)\n\r\n\nnothing()\n –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É. –û–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç \nNone\n –¥–ª—è –ª—é–±—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–∂–µ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π).\n\r\n\n\r\n\n>>> nothing('bar')\n(None, 'bar')\n>>>\n\r\n\nnothing()\n –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∞ –ø—Ä–æ—Å—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã —Ä–µ—à–∏–ª–∏ \n–ù–ï\n –¥–µ–ª–∞—Ç—å –Ω–∏—á–µ–≥–æ —Å –∏–º–µ—é—â–∏–º–∏—Å—è –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.\n\r\n\n\r\n–û–±–µ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏–º–µ—Ä–∞–º–∏ —Ç–æ–≥–æ, —á—Ç–æ —è –±—É–¥—É –Ω–∞–∑—ã–≤–∞—Ç—å ¬´–ø–∞—Ä—Å–µ—Ä¬ª. –ü–∞—Ä—Å–µ—Ä ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º–∞—è —Å–≤–æ–µ–π —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π –≤—ã–∑–æ–≤–∞ –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º –æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –ø–∞—Ä—Å–µ—Ä ‚Äî —ç—Ç–æ –ª—é–±–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –∫–∞–∫–∏–µ-—Ç–æ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (\ninp\n), –∞ –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –∫–æ—Ä—Ç–µ–∂ \n(value, remaining)\n, –≥–¥–µ \nvalue\n ‚Äî —ç—Ç–æ –Ω–µ–∫–æ–µ –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ \nremaining\n ‚Äî –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å. –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –ø–∞—Ä—Å–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç \nFalse\n.\n\r\n\n\r\n–•–æ—Ç—è —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ç–∞–∫ –∫–æ—Ä–æ—Ç–∫–∏–µ, –º–æ–∂–Ω–æ –µ—â—ë –±–æ–ª—å—à–µ –∏—Ö —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ \nlambda\n:\n\r\n\n\r\n\nshift   = lambda inp: bool(inp) and (inp[0], inp[1:])\nnothing = lambda inp: (None, inp)\n\r\n–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ \nlambda\n –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º –∏ –Ω–∞–≥–ª—è–¥–Ω—ã–º. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–Ω–∞ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ø—ã—Ç–∞—Ç—å—Å—è –¥–æ–±–∞–≤–ª—è—Ç—å –∑–Ω–∞—á–∏–º—ã–µ –∏–º–µ–Ω–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏–ª–∏ type hint –∫ —Ç–æ–º—É, —á—Ç–æ –±—É–¥–µ—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ.\n\r\n\n\r\n–ö—Å—Ç–∞—Ç–∏, \nlambda\n ‚Äî —ç—Ç–æ —Ç—Ä–µ—Ç—å—è –ø—Ä–æ–±–ª–µ–º–∞. –°–¥–≤–∏–≥, –Ω–∏—á–µ–≥–æ –∏ –ª—è–º–±–¥–∞ ‚Äî —ç—Ç–æ —Ç—Ä–∏ –ø—Ä–æ–±–ª–µ–º—ã. –î–∞–≤–∞–π—Ç–µ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ.\n\r\n\n\r\n\n‚ñç –°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞\n\r\n–¢–æ, —á—Ç–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞. –ö–∞–∫ –∏ —É –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Å–∏—Å—Ç–µ–º—ã, —É –Ω–µ—ë –µ—Å—Ç—å –ø—Ä–∞–≤–∏–ª–∞. –í —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–∞ –∏–º–µ—é—â–∏—Ö—Å—è –ø–∞—Ä—Å–µ—Ä–∞ (\nshift\n –∏ \nnothing\n). –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å \nlambda\n –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤ –∏–∑ –∏–º–µ—é—â–∏—Ö—Å—è. –í–æ—Ç –∏ –≤—Å—ë.\n\r\n\n\r\n\n‚ñç –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø–∞—Ä—Å–µ—Ä–æ–≤\n\r\n–î–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º –ø—Ä–∞–≤–∏–ª–æ, –ø—Ä–∏–º–µ–Ω—è—é—â–µ–µ –ø—Ä–µ–¥–∏–∫–∞—Ç –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –ø–∞—Ä—Å–µ—Ä–∞:\n\r\n\n\r\n\nfilt = lambda predicate: (\n         lambda parser:\n           lambda inp: (m:=parser(inp)) and predicate(m[0]) and m)\n\r\n–¢—Ä–∏ –ª—è–º–±–¥—ã?!? –ú–æ—Ä–∂–æ–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä? –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ –∫—Ä–∞—Ç–∫–æ–π —Å—Ö–µ–º–µ? –ß—Ç–æ –∑–∞ —É–∂–∞—Å –∑–¥–µ—Å—å —Ç–≤–æ—Ä–∏—Ç—Å—è? –î–∞, —è –º–æ–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —á–µ—Ç—ã—Ä–µ –ª—è–º–±–¥—ã:\n\r\n\n\r\n\nfilt = lambda predicate: (\n         lambda parser:\n           lambda inp:\n             (lambda m: m and predicate(m[0]) and m)(parser(inp)))\n\r\n–û–¥–Ω–∞–∫–æ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –≤–∞–∂–Ω–∞. –ö —Ç–æ–º—É –∂–µ ‚Äî –±–æ–≥ –ª—é–±–∏—Ç —Ç—Ä–æ–∏—Ü—É. –¢—Ä–∏ –ø—Ä–æ–±–ª–µ–º—ã. –¢—Ä–∏ –ª—è–º–±–¥—ã. –¢—Ä–∏ –±–∏–≤–Ω—è. –ù–µ —á–µ—Ç—ã—Ä–µ –ª—è–º–±–¥—ã –∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ –±–∏–≤–Ω—è.\n\r\n\n\r\n–§—É–Ω–∫—Ü–∏—è \nfilt()\n –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥–µ –ø—Ä–µ–¥–∏–∫–∞—Ç –∏ –ø–∞—Ä—Å–µ—Ä –∏ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –∏—Ö, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä. –≠—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ–º–Ω–æ–≥–æ —Å—Ç—Ä–∞–Ω–Ω–æ, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ö–æ–∂–µ —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º. –í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:\n\r\n\n\r\n\n>>> digit = filt(str.isdigit)(shift)\n>>> letter = filt(str.isalpha)(shift)\n>>> digit('456')\n('4', '56')\n>>> letter('456')\nFalse\n>>>\n\r\n–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ \nFalse\n –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª. –¢–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ \nshift()\n –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç \nFalse\n, –∫–æ–≥–¥–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ \nfilt()\n –ø–∞—Ä—Å–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç \nFalse\n, –µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É –ø—Ä–µ–¥–∏–∫–∞—Ç—É.\n\r\n\n\r\n–ó–∞–±–∞–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ \nfilt()\n –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–≤–∞—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–∏–∫–∞—Ç—ã. –í–æ—Ç —Ñ–∏–ª—å—Ç—Ä –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ª–∏—Ç–µ—Ä–∞–ª—É:\n\r\n\n\r\n\nliteral = lambda value: filt(lambda v: v == value)\n\r\n–í–æ—Ç —Ñ–∏–ª—å—Ç—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—Ä–∞—Ç—å—Å—è –∏–∑ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:\n\r\n\n\r\n\nmemberof = lambda values: filt(lambda v: v in values)\n\r\n–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫ –∏–º–µ—é—â–µ–º—É—Å—è –ø–∞—Ä—Å–µ—Ä—É:\n\r\n\n\r\n\n>>> dot = literal('.')(shift)\n>>> even = memberof('02468')(digit)   # –î–∞, digit, –Ω–µ shift.\n>>> dot('.456')\n('.', '456')\n>>> dot('45.6')\nFalse\n>>> even('456')\n('4', '56')\n>>> even('345')\nFalse\n>>>\n\r\n–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—Å—ë —É–ø—Ä–æ—â–∞—Ç—å. –ß—Ç–æ–±—ã –≤—ã—è–≤–ª—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–∏–º–≤–æ–ª–∞–º, –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:\n\r\n\n\r\n\nchar = lambda v: literal(v)(shift)\n\r\n\n>>> dot = char('.')\n>>> dot('.456')\n('.', '456')\n>>>\n\r\n–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ç–æ–º—É, —á—Ç–æ –∑–∞–¥–∞—á–∞ \nfilt()\n –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –∫–∞–∫–æ–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ. –ü–æ—ç—Ç–æ–º—É, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–æ–¥–∞, –Ω–∞–º –Ω—É–∂–Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–∞—è —Å–∏–ª–∞. –î–∞–≤–∞–π—Ç–µ –Ω–∞–∑–æ–≤—ë–º —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é \nfmap()\n:\n\r\n\n\r\n\nfmap = lambda func: (\n         lambda parser:\n           lambda inp: (m:=parser(inp)) and (func(m[0]), m[1]))\n\r\n\nfmap()\n –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥–µ —Ñ—É–Ω–∫—Ü–∏—é –∏ –ø–∞—Ä—Å–µ—Ä –∏ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞. \nfmap()\n –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä:\n\r\n\n\r\n\n>>> ndigit = fmap(int)(digit)\n>>> ndigit('456')\n(4, '56')\n>>> tenx = fmap(lambda x: 10*x)\n>>> tenx(ndigit)('456')\n(40, '56')\n>>> tenx(digit)('456')\n('4444444444', '56')\n>>>\n\r\n\n–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:\n \nmap\n –∏ \nfilter\n ‚Äî –∏–º–µ–Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ Python –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏. –Ø –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∏—Ö, –µ—Å–ª–∏ –±—ã —ç—Ç–æ –Ω–µ –∑–∞–ø—É—Ç—ã–≤–∞–ª–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –∏–º—ë–Ω. –ü–æ—ç—Ç–æ–º—É —è –≤—ã–±—Ä–∞–ª \nfmap\n –∏ \nfilt\n. –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ –Ω–∞—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–ª—É–∂–∞—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ —Å—Ö–æ–∂–µ–π —Ü–µ–ª–∏.\n\r\n\n\r\n\n‚ñç –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ\n\r\n–ü–æ–∫–∞ –Ω–∞—à–∏ –ø–∞—Ä—Å–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å –æ–¥–∏–Ω–æ—á–Ω—ã–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –ß—Ç–æ–±—ã –¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –≤–µ—â–∏, –Ω—É–∂–Ω–æ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –∏—Ö —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä –∏–ª–∏ –±—É–∫–≤. –ë—ã–ª–æ –±—ã –∑–¥–æ—Ä–æ–≤–æ, –µ—Å–ª–∏ –±—ã –º—ã —Å–º–æ–≥–ª–∏ –∑–∞–¥–∞—Ç—å –Ω–µ—á—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ:\n\r\n\n\r\n\ndigits = one_or_more(digit)\n\r\n–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏, –∑–∞–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–∫—É—Ä—Å–∏—é. –û–¥–Ω–∞–∫–æ —Å–∫–∞–∂–µ–º –Ω–∞–ø—Ä—è–º—É—é ‚Äî Python —É–∂–∞—Å–Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —Ä–µ–∫—É—Ä—Å–∏–µ–π –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º ¬´–ø—Ä–∏—á–∏–Ω–∞–º¬ª, –º–µ–Ω—å—à–µ–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —è–≤–ª—è–µ—Ç—Å—è –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–∏. –≠—Ç–æ–≥–æ –º—ã –¥–µ–ª–∞—Ç—å –Ω–µ –±—É–¥–µ–º. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤–¥–æ—Ö–Ω–æ–≤–∏–º—Å—è —Ç–µ–∞—Ç—Ä–æ–º –∏ ¬´—Å–ª–æ–º–∞–µ–º —á–µ—Ç–≤—ë—Ä—Ç—É—é —Å—Ç–µ–Ω—É¬ª, –ø–æ–≤–µ—Ä–Ω—É–≤—à–∏—Å—å –∫ –∑—Ä–∏—Ç–µ–ª—è–º –∏ –ø—Ä–∏–∑–Ω–∞–≤, —á—Ç–æ –º—ã –≤—Å—ë-—Ç–∞–∫–∏ –ø–∏—à–µ–º –∫–æ–¥ –Ω–∞ Python. –õ–∞–¥–Ω–æ, –¥–∞ –±—É–¥–µ—Ç —Ç–∞–∫:\n\r\n\n\r\n\ndef one_or_more(parser):\n    def parse(inp):\n        result = [ ]\n        while (m:=parser(inp)):\n            value, inp = m\n            result.append(value)\n        return bool(result) and (result, inp)\n    return parse\n\r\n–î–∞, —Ü–∏–∫–ª \nwhile\n –Ω–µ —Å–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º–æ–π –ª—è–º–±–¥. –û–¥–Ω–∞–∫–æ –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç—Ç–æ ¬´pythonic¬ª –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –Ω–µ –ª–æ–º–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–∏, –ø–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º —Ç–∞–∫. –ö–∞–∫ –∏ –¥—Ä—É–≥–∏–µ –Ω–∞—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏, \none_or_more()\n –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥–µ –ø–∞—Ä—Å–µ—Ä –∏ —Å–æ–∑–¥–∞—ë—Ç –Ω–∞ –≤—ã—Ö–æ–¥–µ –Ω–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä. –û–Ω –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä, –ø–æ–∫–∞ –±–æ–ª—å—à–µ –Ω–µ –Ω–∞–π–¥—ë—Ç—Å—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π. –°–ø–∏—Å–æ–∫ —Å–æ–∑–¥–∞–Ω.\n\r\n\n\r\n\n>>> digit = filt(str.isdigit)(shift)\n>>> digits = one_or_more(digit)\n>>> digits('456')\n(['4','5','6'], '')\n>>> digits('1abc')\n(['1'], 'abc')\n>>> digits('abc')\nFalse\n>>>\n\r\n–ï—Å–ª–∏ –≤–∞–º –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è, —á—Ç–æ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ —Å–ø–∏—Å–æ–∫, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ \nfmap\n, —á—Ç–æ–±—ã —Å–Ω–æ–≤–∞ —Å–æ–µ–¥–∏–Ω–∏—Ç—å –∏—Ö:\n\r\n\n\r\n\n>>> digits = fmap(''.join)(one_or_more(digit))\n>>> digits('456')\n('456', '')\n>>>\n\r\n–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –µ—â—ë –æ–¥–Ω—É \nfmap\n:\n\r\n\n\r\n\n>>> value = fmap(int)(digits)\n>>> value('456')\n(456, '')\n>>>\n\r\n\n–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:\n –µ—Å–ª–∏ –≤—ã –ø–æ–∫–∞–∂–µ—Ç–µ —Å–≤–æ–∏–º –∫–æ–ª–ª–µ–≥–∞–º —Ñ—É–Ω–∫—Ü–∏—é \none_or_more()\n, —Ç–æ –æ–Ω–∏, –≤–µ—Ä–æ—è—Ç–Ω–æ, —Ä–∞—Å—Å–µ—Ä–¥—è—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã –Ω–µ —Å–æ–±–ª—é–¥–∞–µ—Ç–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å—Ç–∏–ª—é. –û–Ω–∏ —Å–∫–∞–∂—É—Ç: ¬´–¢–µ–±–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—è–º–±–¥—É¬ª. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ –Ω–µ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ, –Ω–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º —É–¥–∞—Å—Ç—Å—è –∏—Ö –æ–±–º–∞–Ω—É—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ \nfunctools.wraps()\n:\n\r\n\n\r\n\nfrom functools import wraps\n\n@wraps(lambda parser:_)\ndef one_or_more(parser):\n    @wraps(lambda inp:_)\n    def parse(inp):\n        ...\n    return parse\n\r\n–ü–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ª—è–º–±–¥—ã, –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –Ω–µ –ø–æ—Ç—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ –µ—ë –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.\n\r\n\n\r\n\n–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ:\n –∏–ª–∏ –∂–µ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å \none_or_more()\n, –Ω–µ –ø–æ–ª—å–∑—É—è—Å—å –Ω–∏—á–µ–º, –∫—Ä–æ–º–µ –∫–∞–∫ –ª—è–º–±–¥–æ–π –∏ —Ä–µ–∫—É—Ä—Å–∏–µ–π.\n\r\n\n\r\n\n‚ñç –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å\n\r\n–ò–Ω–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ —Å–ø–∞—Ä—Å–∏—Ç—å –æ–¥–Ω–æ –ø–æ—Å–ª–µ –¥—Ä—É–≥–æ–≥–æ. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:\n\r\n\n\r\n\ndef seq(*parsers):\n    def parse(inp):\n        result = [ ]\n        for p in parsers:\n            if not (m:=p(inp)):\n                return False\n            value, inp = m\n            result.append(value)\n        return (result, inp)\n    return parse\n\r\n\nseq()\n –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä—Å–µ—Ä–æ–≤. –ó–∞—Ç–µ–º –æ–Ω–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –≤—ã—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ –ø–æ—Ä—è–¥–∫—É, –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º. –î–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Å–µ –ø–∞—Ä—Å–µ—Ä—ã –¥–æ–ª–∂–Ω—ã —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ—é –∑–∞–¥–∞—á—É. –í–æ—Ç –ø—Ä–∏–º–µ—Ä:\n\r\n\n\r\n\n>>> seq(letter, digit, letter)('a4x')\n(['a', '4', 'x'], '')\n>>> seq(letter, digit, letter)('abc')\nFalse\n>>> seq(letter, fmap(''.join)(one_or_more(digit)))('x12345')\n(['x', '12345'], '')\n>>> \n\r\n–ù–∞–ø–∏—Å–∞–≤ —Å–ø–æ—Å–æ–± –∑–∞–¥–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ –ø–æ–ª–µ–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω–æ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –ª–µ–≤—É—é –∏–ª–∏ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å –ø–∞—Ä—ã.\n\r\n\n\r\n\nleft = lambda p1, p2: fmap(lambda p: p[0])(seq(p1, p2))\nright = lambda p1, p2: fmap(lambda p: p[1])(seq(p1, p2))\n\r\n–í–æ—Ç –ø—Ä–∏–º–µ—Ä:\n\r\n\n\r\n\n>>> left(letter, digit)('a4')\n('a', '')\n>>> right(letter, digit)('a4')\n('4', '')\n>>>\n\r\n\n–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ:\n –Ω–∞–ø–∏—à–∏—Ç–µ –≤–µ—Ä—Å–∏—é \nseq()\n —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª—è–º–±–¥—ã.\n\r\n\n\r\n\n‚ñç –í—ã–±–æ—Ä\n\r\n–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –≤—Å–µ –ø–∞—Ä—Å–µ—Ä—ã —Å–æ–≤–ø–∞–¥–∞–ª–∏. –ö–∞–∫–æ–π –±—É–¥–µ—Ç –æ–±—Ä–∞—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è? –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã —Å–æ–≤–ø–∞–¥–∞–ª —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤. –î–∞–≤–∞–π—Ç–µ –Ω–∞–∑–æ–≤—ë–º —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é \neither()\n:\n\r\n\n\r\n\neither = lambda p1, p2: (lambda inp: p1(inp) or p2(inp))\n\r\n–í–æ—Ç –ø—Ä–∏–º–µ—Ä:\n\r\n\n\r\n\n>>> alnum = either(letter, digit)\n>>> alnum('4a')\n('4', 'a')\n>>> alnum('a4')\n('a', '4')\n>>> alnum('$4')\nFalse\n>>>\n\r\n\neither()\n –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏, –Ω–∞–∫–æ–Ω–µ—Ü, –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è \nnothing\n. –ù–∞–ø—Ä–∏–º–µ—Ä:\n\r\n\n\r\n\nmaybe = lambda parser: either(parser, nothing)\n\r\n\n>>> maybe(digit)('456')\n('4', '56')\n>>> maybe(digit)('abc')\n(None, 'abc')\n>>>\n\r\n–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ \nzero_or_more()\n:\n\r\n\n\r\n\nzero_or_more = lambda parser: either(one_or_more(parser), seq())\n\r\n\n>>> zero_or_more(digit)('456')\n(['4','5','6'], '')\n>>> zero_or_more(digit)('abc')\n([], 'abc')\n>>>\n\r\n–ò –ø–æ—Å–ª–µ–¥–Ω–µ–µ: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å \neither()\n –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ–ª–µ–µ –º–æ—â–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ \nchoice()\n, –ø–æ–∑–≤–æ–ª—è—é—â–µ–π –≤—ã–±–∏—Ä–∞—é—Ç –º–µ–∂–¥—É –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤.\n\r\n\n\r\n\nchoice = lambda parser, *parsers: (\n           either(parser, choice(*parsers)) if parsers else parser)\n\r\n\n–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ:\n –ø–µ—Ä–µ–ø–∏—à–∏—Ç–µ \nchoice()\n —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —Ä–µ–∫—É—Ä—Å–∏—è.\n\r\n\n\r\n\n–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ:\n –∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –Ω–∞–º –Ω—É–∂–Ω–∞ \nnothing\n? –ú–æ–∂–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—Ç—å \nnothing\n –∏–∑ —á–µ–≥–æ-—Ç–æ?\n\r\n\n\r\n\n‚ñç –ü—Ä–∏–º–µ—Ä: —á–∏—Å–ª–∞\n\r\n–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∑–∞–¥–∞—á—É –ø–∞—Ä—Å–∏–Ω–≥–∞ —á–∏—Å–µ–ª. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —á–∏—Å–ª–∞ –ø–æ—Å—Ç—É–ø–∞—é—Ç –≤ –¥–≤—É—Ö –≤–∞—Ä–∏–∞—Ü–∏—è—Ö. –¶–µ–ª—ã–µ —á–∏—Å–ª–∞ –∏–º–µ—é—Ç –≤–∏–¥ \n1234\n, –∞ –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ –¥—Ä–æ–±–∏ ‚Äî \n12.34\n. –û–¥–Ω–∞–∫–æ —Å –¥–µ—Å—è—Ç–∏—á–Ω—ã–º–∏ –¥—Ä–æ–±—è–º–∏ –≤—Å—ë —á—É—Ç—å —Å–ª–æ–∂–Ω–µ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Ö –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å –∑–∞–º—ã–∫–∞—é—â–∏–º –¥–µ—Å—è—Ç–∏—á–Ω—ã–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, \n12.\n –∏–ª–∏ —Å –Ω–∞—á–∞–ª—å–Ω—ã–º –¥–µ—Å—è—Ç–∏—á–Ω—ã–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, \n.34\n. –î–æ–ø—É—Å—Ç–∏–º, –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –≤ integer —è–∑—ã–∫–∞ Python, –∞ –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ –¥—Ä–æ–±–∏ ‚Äî –≤–æ float. –ö–∞–∫ –≤—ã –±—É–¥–µ—Ç–µ –ø–∞—Ä—Å–∏—Ç—å —á–∏—Å–ª–∞? –í–æ—Ç –∫–∞–∫ —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:\n\r\n\n\r\n\ndot = char('.')\ndigit = filt(str.isdigit)(shift)\ndigits = fmap(''.join)(one_or_more(digit))\ndecdigits = fmap(''.join)(choice(\n               seq(digits, dot, digits),\n               seq(digits, dot),\n               seq(dot, digits)))\n\ninteger = fmap(int)(digits)\ndecimal = fmap(float)(decdigits)\nnumber = choice(decimal, integer)\n\r\n–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é \nnumber()\n.\n\r\n\n\r\n\n>>> number('1234')\n(1234, '')\n>>> number('12.3')\n(12.3, '')\n>>> number('.123')\n(0.123, '')\n>>> number('123.')\n(123.0, '')\n>>> number('.xyz')\nFalse\n>>>\n\r\n\n‚ñç –ü—Ä–∏–º–µ—Ä: –ø–∞—Ä—ã ¬´–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ¬ª\n\r\n–î–æ–ø—É—Å—Ç–∏–º, –≤–∞–º –Ω—É–∂–Ω–æ —Å–ø–∞—Ä—Å–∏—Ç—å –ø–∞—Ä—ã ¬´–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ¬ª –≤ –≤–∏–¥ \nname=value;\n, –≥–¥–µ \nname\n —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –±—É–∫–≤, –∞ \nvalue\n ‚Äî —ç—Ç–æ –ª—é–±–æ–µ —á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –¢–∞–∫–∂–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –≤–æ–∫—Ä—É–≥ –∫–∞–∂–¥–æ–π –∏–∑ –ø–∞—Ä –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã (–∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å). –í–æ—Ç –∫–∞–∫ —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:\n\r\n\n\r\n\nletter = filt(str.isalpha)(shift)\nletters = fmap(''.join)(one_or_more(letter))\nws = zero_or_more(filt(str.isspace)(shift))\ntoken = lambda p: right(ws, p)\neq = token(char('='))\nsemi = token(char(';'))\nname = token(letters)\nvalue = token(number)\nkeyvalue = seq(left(name, eq), left(value, semi))\n\r\n–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º:\n\r\n\n\r\n\n>>> keyvalue('xyz=123;')\n(['xyz', 123], '')\n>>> keyvalue('   pi = 3.14  ;')\n(['pi', 3.14], '')\n>>>\n\r\n–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–±–µ–ª–æ–≤ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –†–µ—à–µ–Ω–∏–µ–º —Å—Ç–∞–Ω–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Å–æ–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ \ntoken()\n –¥–ª—è –æ—Ç–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–±–µ–ª–∞.\n\r\n\n\r\n\n‚ñç –ü—Ä–∏–º–µ—Ä: –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è\n\r\n–î–æ–ø—É—Å—Ç–∏–º, –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Å–µ—Ä–∞, —á—Ç–æ–±—ã –æ–Ω –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞–ª –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –≤ –ø–∞—Ä—ã ¬´–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ¬ª, –∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã–µ –∫–∞–∫ \nkey1=value1; key2=value2; key3=value3;\n –≤ —Å–ª–æ–≤–∞—Ä—å Python —Å —Ç–µ–º–∏ –∂–µ –∫–ª—é—á–∞–º–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:\n\r\n\n\r\n\nkeyvalues = fmap(dict)(zero_or_more(keyvalue))\n\r\n–ü—Ä–∏–º–µ—Ä:\n\r\n\n\r\n\n>>> keyvalues('x=2; y=3.4; z=.789;')\n({'x': 2, 'y': 3.4, 'z': 0.789}, '')\n>>> keyvalues('')\n({}, '')\n>>>\n\r\n\n‚ñç –ü—Ä–∏–º–µ—Ä: –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–ª—é—á–µ–π —Å–ª–æ–≤–∞—Ä—è\n\r\n–î–æ–ø—É—Å—Ç–∏–º, –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø–∞—Ä—Å–µ—Ä, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π —Ç–æ–ª—å–∫–æ —Å–ª–æ–≤–∞—Ä–∏ —Å –∫–ª—é—á–∞–º–∏ \nx\n –∏ \ny\n. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å \nfilt()\n:\n\r\n\n\r\n\nxydict = filt(lambda d: d.keys() == {'x', 'y'})(keyvalues)\n\r\n–ü—Ä–∏–º–µ—Ä:\n\r\n\n\r\n\n>>> xydict('x=4;y=5;')\n({'x': 4, 'y': 5}, '')\n>>> xydict('y=5;x=4;')\n({'y': 5, 'x': 4}, '')\n>>> xydict('x=4;y=5;z=6;')\nFalse\n>>>\n\r\n–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –º–æ–∂–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º —Å–æ—á–µ—Ç–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏. –†–∞–Ω—å—à–µ —Ñ—É–Ω–∫—Ü–∏—è \nfilt()\n –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, –∞ —Ç–µ–ø–µ—Ä—å –æ–Ω–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Å–ª–æ–≤–∞—Ä—è–º.\n\r\n\n\r\n\n‚ñç –û–±—Å—É–∂–¥–µ–Ω–∏–µ: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è\n\r\n–í–∞–∂–Ω–µ–π—à–µ–µ —Å–≤–æ–π—Å—Ç–≤–æ, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ –≤—Å–µ–º—É —Ä–∞–±–æ—Ç–∞—Ç—å ‚Äî —ç—Ç–æ –≤–Ω–∏–º–∞–Ω–∏–µ –∫ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏. –í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞ –≤ —Å–≤–æ–µ–π –æ—Å–Ω–æ–≤–µ:\n\r\n\n\r\n\ndef parser(inp):\n    ...\n    if success:\n        return (value, remaining)\n    else:\n        return False\n\r\n–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–∞ —ç—Ç–æ–º —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–µ. –í—Å—ë –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞–ø–æ–¥–æ–±–∏–µ \nfilt()\n, \nfmap()\n, \nzero_or_more()\n, \nseq()\n –∏ \nchoice()\n —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–µ –ø–∞—Ä—Å–µ—Ä—ã, –∏–º–µ—é—â–∏–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ü–æ—ç—Ç–æ–º—É –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º –∏ –≤–µ–∑–¥–µ. –í–æ–∑–º–æ–∂–Ω–æ, –æ—Å–Ω–æ–≤–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–æ–±–ª–µ–º –º–æ–∂–µ—Ç –±—ã—Ç—å \nfmap()\n. –¢–∞–∫ –∫–∞–∫ –æ–Ω–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é –∫ –ø–æ–¥–≤–µ—Ä–≥–∞—é—â–µ–º—É—Å—è –ø–∞—Ä—Å–∏–Ω–≥—É –∑–Ω–∞—á–µ–Ω–∏—é, –æ—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π.\n\r\n\n\r\n\n‚ñç –û–±—Å—É–∂–¥–µ–Ω–∏–µ: –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π\n\r\n–ó–∞–¥—É–º–∞–µ–º—Å—è –Ω–∞ –º–∏–Ω—É—Ç—É –Ω–∞–¥ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–æ–π \nfilt()\n. –ö–æ–≥–¥–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ \nfilt()\n, —Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –¥—É–º–∞–ª–∏, —á—Ç–æ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ–º–Ω–æ–≥–æ –∑–∞–±–∞–≤–Ω–æ. –ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:\n\r\n\n\r\n\ndigit = filt(str.isdigit)(shift)\n\r\n–ü–æ—á–µ–º—É \nshift\n –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–Ω–∞—Ä—É–∂–∏? –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Ä–∞–∑–≤–µ —ç—Ç–æ –Ω–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏? –†–∞–∑–≤–µ –º—ã –Ω–µ –º–æ–∂–µ–º —Å–ø—Ä—è—Ç–∞—Ç—å –µ—ë –≤–æ—Ç —Ç–∞–∫:\n\r\n\n\r\n\nfilt = lambda predicate: (\n         lambda inp: (m:=shift(inp)) and predicate(m[0]) and m)\n\ndigit = filt(str.isdigit)\n\r\n–î–∞, —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –æ–¥–Ω–∞–∫–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –µ—ë –≤–Ω—É—Ç—Ä—å –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å \nfilt()\n –¥–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤. –Ø –ø—Ä–µ–¥–ø–æ—á—Ç—É \nfilt()\n, –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∞—Å–Ω–æ –≥–∏–±–∫–∞. –ò—Å—Ö–æ–¥–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–µ–¥–∏–∫–∞—Ç –∫ \n–õ–Æ–ë–û–ú–£\n –ø–∞—Ä—Å–µ—Ä—É, –¥–∞–∂–µ –∫ —Å–ª–æ–∂–Ω—ã–º, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö. –ò —ç—Ç–æ –∑–¥–æ—Ä–æ–≤–æ. –≠—Ç–æ–≥–æ –Ω–µ–ª—å–∑—è –±—ã–ª–æ –±—ã —Å–¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –±—ã –≤—ã–±–æ—Ä –ø–∞—Ä—Å–µ—Ä–∞ –Ω–∞—Ö–æ–¥–∏–ª—Å—è –≤–Ω—É—Ç—Ä–∏.\n\r\n\n\r\n–ï—â—ë –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å –ø–æ \nfilt()\n (–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å –Ω–µ–π —Ñ—É–Ω–∫—Ü–∏—è–º) –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –µ—ë —Å—Ç—Ä–∞–Ω–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É –≤—ã–∑–æ–≤–∞. –ü–æ—á–µ–º—É –≤—Ö–æ–¥–Ω–æ–π –ø—Ä–µ–¥–∏–∫–∞—Ç –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤—ã–∑–æ–≤–∞–º–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏? –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—á–µ–º—É –Ω–µ —Å–¥–µ–ª–∞—Ç—å –≤–æ—Ç —Ç–∞–∫?\n\r\n\n\r\n\nfilt = lambda predicate, parser: (\n         lambda inp: (m:=parser(inp)) and predicate(m[0]) and m)\n\ndigit = filt(str.isdigit, shift)\n\r\n–ï—Å–ª–∏ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–ø–æ–¥–æ–±–∏–µ \nliteral\n —Å—Ç–∞–Ω–µ—Ç –Ω–µ—É–¥–æ–±–Ω–µ–µ. –†–∞–Ω–µ–µ \nliteral\n –æ–ø—Ä–µ–¥–µ–ª—è–ª–∞—Å—å, –∑–∞–≤–∏—Å—è —Ç–æ–ª—å–∫–æ –æ—Ç —á–∞—Å—Ç–∏ —Å –ø—Ä–µ–¥–∏–∫–∞—Ç–æ–º. –í–æ—Ç —Ç–∞–∫:\n\r\n\n\r\n\nliteral = lambda value: filt(lambda v: v == value)\n\r\n–≠—Ç–æ —Å–∂–∞—Ç–∞—è –∏ –∏–∑—è—â–Ω–∞—è –∑–∞–ø–∏—Å—å. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ \nfilt()\n –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç, —ç—Ç–æ —ç—Ç–æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç —Ä–∞—Å—Ç–µ–∫–∞–µ—Ç—Å—è –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∑–∞—Å—Ç–∞–≤–ª—è—è –Ω–∞—Å –ø–∏—Å–∞—Ç—å —Ç–∞–∫–æ–π –∫–æ–¥:\n\r\n\n\r\n\nliteral = lambda value, parser: filt(lambda v: v == value, parser)\n\r\n–≠—Ç–æ –Ω–µ–∫—Ä–∞—Å–∏–≤–æ. –í –∏—Å—Ö–æ–¥–Ω–æ–º —Å–ª—É—á–∞–µ –Ω–∞–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ \nfilt()\n.\n\r\n\n\r\n\n‚ñç –ú–∞–≥–∏—è\n\r\n–î–∞–≤–∞–π—Ç–µ –æ–±—Å—É–¥–∏–º —Ñ—É–Ω–∫—Ü–∏—é \nshift()\n. –í –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ –æ–Ω–∞ —Ä–∞–∑–±–∏–≤–∞–µ—Ç –≤—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –Ω–∞ –µ—ë –ø–µ—Ä–≤—ã–π —Å–∏–º–≤–æ–ª –∏ –æ—Å—Ç–∞–≤—à–∏–π—Å—è —Ç–µ–∫—Å—Ç. –í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–µ–ª –∫–æ–¥:\n\r\n\n\r\n\nshift = lambda inp: bool(inp) and (inp[0], inp[1:])\n\r\n–ê –≤–æ—Ç –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–ª:\n\r\n\n\r\n\n>>> shift('hello world')\n('h', 'ello world')\n>>>\n\r\n–≠—Ç–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ Python. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –≤–µ—Ä–æ—è—Ç–Ω–æ, —ç—Ç–æ –Ω–∞–∏—Ö—É–¥—à–∏–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ–ª—å–∫–æ –º–æ–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å. –ù–∞ –º–æ–µ–π –º–∞—à–∏–Ω–µ —Ç–µ—Å—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫–∏ —Å 100000 –ø–∞—Ä–∞–º–∏ ¬´–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ¬ª –≤ —Å–ª–æ–≤–∞—Ä—å –∑–∞–Ω—è–ª –ø–æ—á—Ç–∏ 2,5 –º–∏–Ω—É—Ç—ã! –£–∂–∞—Å!\n\r\n\n\r\n–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–∞–º—è—Ç–∏, –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–º –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ \ninp[1:]\n. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ \nshift()\n –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ—á—Ç–∏ –ø–æ–ª–Ω—É—é –∫–æ–ø–∏—é –≤—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞. –ú–æ–∂–Ω–æ –ª–∏ —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å?\n\r\n\n\r\n–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞–º–µ—Ç–∏—Ç, —á—Ç–æ –≤–æ –≤—Å—ë–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º –∫–æ–¥–µ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç—Å—è —Å–æ –≤—Ö–æ–¥–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º \ninp\n, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –µ–≥–æ –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å –Ω–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è \nshift()\n! –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –Ω–∏–∫–∞–∫–æ–π –∫–æ–¥ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è —Ç–µ–∫—Å—Ç–∞. –ü–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –ø–æ–º–µ–Ω—è—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç—Ç–∏—Ö —á–∞—Å—Ç–µ–π –Ω–∞ –Ω–µ—á—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –∏–Ω–æ–µ. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏, –º—ã, –≤–æ–∑–º–æ–∂–Ω–æ, —Å–º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ—Ä—Ç–µ–∂ \n(text, n)\n, –≥–¥–µ \nn\n ‚Äî —ç—Ç–æ integer, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–π —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é. –î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å \nshift()\n —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:\n\r\n\n\r\n\ndef shift(inp):\n    text, n = inp\n    return n < len(text) and (text[n], (text, n+1))\n\r\n–í–æ—Ç –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è:\n\r\n\n\r\n\n>>> shift(('abc', 0))     # –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ—Ä—Ç–µ–∂\n('a', ('abc', 1))\n>>> shift(('abc', 1))\n('b', ('abc', 2))\n>>> shift(('abc', 2))\n('c', ('abc' 3))\n>>> shift(('abc', 3))\nFalse\n>>>\n\r\n–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è. –ù–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∏ –Ω–∞—Ä–µ–∑–∞–Ω–∏—è. –ü–æ —Å—É—Ç–∏, Python –ø–µ—Ä–µ–¥–∞—ë—Ç —Å—Ç—Ä–æ–∫—É –∫–∞–∫ —Å—Å—ã–ª–∫—É. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω—è—é—â–µ–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —ç—Ç–æ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å.\n\r\n\n\r\n–ù–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π –∫–æ–¥ –º–µ–Ω—è—Ç—å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –í—ã –º–æ–∂–µ—Ç–µ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∏–¥–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –æ–∂–∏–¥–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.\n\r\n\n\r\n\n>>> keyvalues(('x=2; y=3.4; z=.789;', 0))    # –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –∑–¥–µ—Å—å –∫–æ—Ä—Ç–µ–∂\n({'x': 2, 'y': 3.4, 'z': 0.789}, ('x=2; y=3.4; z=.789;', 19))\n>>>\n\r\n–ß—Ç–æ–±—ã —Å–æ–∫—Ä—ã—Ç—å —á–∞—Å—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —è –º–æ–≥—É –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é \nInput()\n –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤–≤–æ–¥–∞ –≤ –º–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä:\n\r\n\n\r\n\nInput = lambda inp: (inp, 0)\n\n# –ü—Ä–∏–º–µ—Ä\nresult = keyvalues(Input('x=2; y=3.4; z=.789'))\n\r\n–Ø –Ω–∞–∑–≤–∞–ª \nInput\n —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –º–∞–Ω—ë–≤—Ä–∞. –í–æ–∑–º–æ–∂–Ω–æ, –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å —è –ø—Ä–µ–≤—Ä–∞—â—É –µ—ë –≤ –∫–ª–∞—Å—Å. –í–æ–∑–º–æ–∂–Ω–æ, —è –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∞—é —ç—Ç–æ, —á—Ç–æ–±—ã –≤—ã—Å–∫–∞–∑–∞—Ç—å —Å–≤–æ—ë ¬´—Ñ–∏¬ª PEP-8. –ö—Ç–æ –∑–Ω–∞–µ—Ç?\n\r\n\n\r\n–ö–∞–∫ –±—ã —Ç–æ –Ω–∏ –±—ã–ª–æ, –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ —Ç–µ—Ö –∂–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å 100000 –ø–∞—Ä–∞–º–∏ ¬´–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ¬ª –≤—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —É–ø–∞–ª–æ —Å 2,5 –º–∏–Ω—É—Ç—ã –¥–æ –ø—Ä–∏–º–µ—Ä–Ω–æ 2,3 —Å–µ–∫—É–Ω–¥—ã. –≠—Ç–æ –ø–æ—Ç—Ä—è—Å–∞—é—â–µ. –ú—ã —Ä–µ—à–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∏–∑–º–µ–Ω–∏–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–ø—Ä–∞–≤–∏–≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –∫–æ–¥–∞.\n\r\n\n\r\n–ü–æ—á–µ–º—É —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ? –î—É–º–∞—é, –ø–æ—Ç–æ–º—É, —á—Ç–æ –≤—Å—ë –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –Ω–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–µ –Ω–∞ –ø—Ä—è–º—ã—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è—Ö —Å –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∞ –Ω–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–≤–ª–∏—è–ª–æ –Ω–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é —á–∞—Å—Ç–µ–π.\n\r\n\n\r\n\n‚ñç –ï—â—ë –Ω–µ–º–Ω–æ–≥–æ –º–∞–≥–∏–∏\n\r\n–•–æ—Ç—è –º—ã —Å–∏–ª—å–Ω–æ –ø–æ–≤—ã—Å–∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –≤—Å—ë —Ä–∞–≤–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–Ω–æ–≥–æ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏. –í–æ–∑–º–æ–∂–Ω–æ, –±—É–¥–µ—Ç –ª–æ–≥–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç \nSLY\n –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–∞–∫–æ–≥–æ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞:\n\r\n\n\r\n\nfrom sly import Lexer\n\nclass KVLexer(Lexer):\n    tokens = { EQ, SEMI, NAME, INTEGER, FLOAT }\n    ignore = ' \\t\\n'\n    FLOAT = r'(\\d+\\.\\d+)|(\\d+\\.)|(\\.\\d+)'\n    INTEGER = r'\\d+'\n    NAME = r'[a-zA-Z]+'    \n    EQ = r'='\n    SEMI = r';'\n\r\n–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç —Ç–æ–∫–µ–Ω—ã, –Ω–µ —Å–∏–º–≤–æ–ª—ã. –ù–∞–ø—Ä–∏–º–µ—Ä:\n\r\n\n\r\n\n>>> lexer = KVLexer()\n>>> list(lexer.tokenize(\"x=2;\"))\n[Token(type='NAME', value='x', lineno=1, index=0, end=1),\n Token(type='EQ', value='=', lineno=1, index=1, end=2),\n Token(type='INTEGER', value='2', lineno=1, index=2, end=3),\n Token(type='SEMI', value=';', lineno=1, index=3, end=4)]\n>>>\n\r\n–ú–æ–∂–µ–º –ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å —Ç–∞–∫–∏–º —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä–æ–º? –ö–æ–Ω–µ—á–Ω–æ! –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Ä–∞–±–æ—Ç—É —Å —Å–∏–º–≤–æ–ª–∞–º–∏ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤, –Ω–æ –≤–æ –≤—Å—ë–º –æ—Å—Ç–∞–≤–∏–≤ –ø–∞—Ä—Å–µ—Ä –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º. –í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä:\n\r\n\n\r\n\nexpect = lambda ty:\\\n           fmap(lambda tok: tok.value)(filt(lambda tok: tok.type == ty)(shift))\nname = expect('NAME')\ninteger = fmap(int)(expect('INTEGER'))\ndecimal = fmap(float)(expect('FLOAT'))\nvalue = choice(decimal, integer)\nkeyvalue = seq(left(name, expect('EQ')), left(value, expect('SEMI')))\nkeyvalues = fmap(dict)(zero_or_more(keyvalue))\n\nInput = lambda inp: (list(KVLexer().tokenize(inp)), 0)\n\r\n–î–∞–≤–∞–π—Ç–µ —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç:\n\r\n\n\r\n\n>>> r = keyvalues(Input('x=2; y=3.4; z=.789;'))\n>>> r[0]\n{'x': 2, 'y': 3.4, 'z': 0.789}\n>>>\n\r\n–ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ –º–æ–∏—Ö –±–æ–ª—å—à–∏—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —ç—Ç–∞ –≤–µ—Ä—Å–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–∫–æ–ª–æ 0,9 —Å–µ–∫—É–Ω–¥—ã, —á—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –≤ 2,5 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —Ä–∞–Ω—å—à–µ.\n\r\n\n\r\n\n‚ñç –ë—É–º!\n\r\n–Ø –∑–∞–¥—É–º–∞–ª—Å—è –æ –±–µ—Å—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —á–∞—Å–∞—Ö, –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö –º–Ω–æ–π –Ω–∞ –º–∏–∫—Ä–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä—Å–µ—Ä–∞ LALR(1) –≤ –º–æ–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –Ω–∞–ø–æ–¥–æ–±–∏–µ \nPLY\n –∏ \nSLY\n. –°–µ—Ä—å—ë–∑–Ω–æ, —è –ø–æ—Ç—Ä–∞—Ç–∏–ª \n–∫—É—á—É\n –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –∫–æ–¥–∞, –ø—ã—Ç–∞—è—Å—å —É–±—Ä–∞—Ç—å –≤—Å—ë, —á—Ç–æ –º–µ—à–∞–ª–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ü–æ—ç—Ç–æ–º—É —ç—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É–∂–µ –¥–∞–≤–Ω–æ —è–≤–ª—è—é—Ç—Å—è —Å–∞–º—ã–º–∏ –±—ã—Å—Ç—Ä—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ –ø–∞—Ä—Å–µ—Ä–æ–≤ –Ω–∞ —á–∏—Å—Ç–æ–º Python. –ö–∞–∫ –º–æ—è –Ω–æ–≤–∞—è –º–µ—Ç–æ–¥–∏–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –Ω–∏–º–∏?\n\r\n\n\r\n–ß—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ, —è –∑–∞–¥–∞–ª —Å—Ö–æ–∂–∏–π –ø–∞—Ä—Å–µ—Ä –ø–∞—Ä ¬´–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ¬ª –≤ SLY:\n\r\n\n\r\n\nfrom sly import Parser\n\nclass KVParser(Parser):\n    tokens = KVLexer.tokens\n\n    @_('{ keyvalue }')\n    def keyvalues(self, p):\n        return dict(p.keyvalue)\n\n    @_('NAME EQ value SEMI')\n    def keyvalue(self, p):\n        return (p.NAME, p.value)\n\n    @_('INTEGER')\n    def value(self, p):\n        return int(p.INTEGER)\n\n    @_('FLOAT')\n    def value(self, p):\n        return float(p.FLOAT)\n\r\n–í–æ—Ç –∫–∞–∫ –µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–∞—à–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞:\n\r\n\n\r\n\n>>> lexer = KVLexer()\n>>> parser = KVParser()\n>>> tokens = lexer.tokenize('x=2; y=3.4; z=.789;')\n>>> parser.parse(tokens)\n{'x': 2, 'y': 3.4, 'z': 0.789}\n>>>\n\r\n–ê —Ç–µ–ø–µ—Ä—å —è –ø–æ–ø—Ä–æ–±—É—é –µ–≥–æ –Ω–∞ –º–æ–∏—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å 100000 –ø–∞—Ä ¬´–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ¬ª. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–Ω—è–ª–æ 2,3 —Å–µ–∫—É–Ω–¥—ã. –≠—Ç–æ –≤ —Ç—Ä–∏ —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–µ—Å—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Ç–æ—Ç –∂–µ –ø–æ—Ç–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤! –û–Ω –¥–∞–∂–µ –Ω–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –∏—Å—Ö–æ–¥–Ω–∞—è ¬´–º–∞–≥–∏—á–µ—Å–∫–∞—è¬ª –≤–µ—Ä—Å–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–ª–∞ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏. –ö–∞–∫ —Ç–∞–∫–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å?\n\r\n\n\r\n–¢–∞–∫–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —è –Ω–µ –æ–∂–∏–¥–∞–ª. –ü–∞—Ä—Å–µ—Ä LALR(1) —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–∏—Å–∫–æ–º –ø–æ —Ç–∞–±–ª–∏—Ü–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–æ–º. –í –Ω—ë–º –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–∏—Å–∫ —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –∏ –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª—É–±–æ–∫–∏–π —Å—Ç–µ–∫ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π.\n\r\n\n\r\n–í –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –Ω–∞–¥–µ–∂–¥—ã —è —Ä–µ—à–∏–ª –∑–∞–Ω–æ–≤–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–µ—Å—å –ø–∞—Ä—Å–µ—Ä –ø—Ä–∏ –ø–æ–º–æ—â–∏ PLY, –∏–º–µ—é—â–µ–≥–æ –±–æ–ª–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é. –û–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ –∑–∞ 1,2 —Å–µ–∫—É–Ω–¥—ã. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, –æ–Ω —Ç–æ–∂–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç.\n\r\n\n\r\n–î–æ–ª–∂–µ–Ω —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –º–æ—è —Ü–µ–ª—å –Ω–µ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ø–æ–¥—Ä–æ–±–Ω–æ–º –∞–Ω–∞–ª–∏–∑–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —É –Ω–æ–≤–æ–π –º–µ—Ç–æ–¥–∏–∫–∏ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã. –ì–ª–∞–≤–Ω—ã–π –≤—ã–≤–æ–¥ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∞ –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª.\n\r\n\n\r\n\n‚ñç –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∏—Ç–µ—Ä–∞—Ü–∏—è\n\r\n–í Python –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —á—ë—Ç–∫–æ. –õ–æ–≥–∏—á–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç—å, –ø–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä? –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å \nshift()\n —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º?\n\r\n\n\r\n\nshift = lambda inp: (x:=next(inp, False)) and (x, inp)\n\r\n–ü–æ—Ö–æ–∂–µ, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å:\n\r\n\n\r\n\n>>> inp = iter('abc')\n>>> shift(inp)\n('a', <str_iterator object at 0x10983e140>)\n>>> shift(inp)\n('b', <str_iterator object at 0x10983e140>)\n>>> shift(inp)\n('c', <str_iterator object at 0x10983e140>)\n>>> shift(inp)\nFalse\n>>>\n\r\n–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω–∞—à–µ–π –º–µ—Ç–æ–¥–∏–∫–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–∏—Å–∫ —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö \neither()\n, \nmaybe()\n –∏ \nchoice()\n. –ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ \neither()\n –ø–∞—Ä—Å–∏–Ω–≥ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ, –∞ –ø–æ—Ç–æ–º –≤–Ω–µ–∑–∞–ø–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –Ω–µ—É–¥–∞—á–Ω–æ. –ö–æ–≥–¥–∞ —Ç–∞–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –≤—Å—ë –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞–∑–∞–¥ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥—Ä—É–≥–∞—è –≤–µ—Ç–≤—å –ø–∞—Ä—Å–∏–Ω–≥–∞.\n\r\n\n\r\n–î–ª—è –æ—Ç–∫–∞—Ç–∞ –Ω–∞–∑–∞–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ Python –º–µ—Ö–∞–Ω–∏–∑–º—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –•–æ—Ç—è –∏–Ω–æ–≥–¥–∞ –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å –º–∞–≥–∏—é –∏–∑ \nitertools\n, —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª–æ–∂–Ω—ã–º. –•—É–∂–µ —Ç–æ–≥–æ, —á—Ç–æ–±—ã —ç—Ç–æ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–æ—Å–∏—Ç—å —Ç–æ–Ω–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–æ –≤—Å–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –ü–æ–∫–∞ —è –æ—Å—Ç–∞–≤–ª—é —ç—Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è.\n\r\n\n\r\n\n‚ñç –ü–æ–ª–Ω—ã–π –∫–æ–¥\n\r\n–í–æ—Ç –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞, –æ–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –≤ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ. –Ø —Ä–µ—à–∏–ª, —á—Ç–æ –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –ø—Ä–æ—Å—Ç–æ —É–≤–∏–¥–µ—Ç—å –µ–≥–æ —Ü–µ–ª–∏–∫–æ–º.\n\r\n\n\r\n\n# -- –§—Ä–µ–π–º–≤–æ—Ä–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞\n\ndef shift(inp):\n    text, n = inp\n    return n < len(text) and (text[n], (text, n+1))\n\nnothing = lambda inp: (None, inp)\n\nfilt = lambda predicate: (\n         lambda parser:\n           lambda inp: (m:=parser(inp)) and predicate(m[0]) and m)\n\nliteral = lambda value: filt(lambda v: v==value)\nchar = lambda value: literal(value)(shift)\n\nfmap = lambda func: (\n         lambda parser:\n           lambda inp: (m:=parser(inp)) and (func(m[0]), m[1]))\n\neither = lambda p1, p2: (lambda inp: p1(inp) or p2(inp))\nmaybe  = lambda parser: either(parser, nothing)\nchoice = lambda parser, *parsers: either(parser, choice(*parsers)) if parsers else parser\n\ndef seq(*parsers):\n    def parse(inp):\n        result = [ ]\n        for p in parsers:\n            if not (m:=p(inp)):\n                return False\n            value, inp = m\n            result.append(value)\n        return (result, inp)\n    return parse\n\nleft = lambda p1, p2: fmap(lambda p: p[0])(seq(p1, p2))\nright = lambda p1, p2: fmap(lambda p: p[1])(seq(p1, p2))\n\ndef one_or_more(parser):\n    def parse(inp):\n        result = [ ]\n        while (m:=parser(inp)):\n            value, inp = m\n            result.append(value)\n        return bool(result) and (result, inp)\n    return parse\n\nzero_or_more = lambda parser: either(one_or_more(parser), seq())\n\nInput = lambda inp: (inp, 0)\n\n# -- –ü—Ä–∏–º–µ—Ä: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ \"key1=value1; key2=value2; ...\" –≤ —Å–ª–æ–≤–∞—Ä—å\n\n# —á–∏—Å–ª–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏—è\ndot = char('.')\ndigit = filt(str.isdigit)(shift)\ndigits = fmap(''.join)(one_or_more(digit))\ndecdigits = fmap(''.join)(choice(\n               seq(digits, dot, digits),\n               seq(digits, dot),\n               seq(dot, digits)))\n\ninteger = fmap(int)(digits)\ndecimal = fmap(float)(decdigits)\nnumber = choice(decimal, integer)\n\n# –∏–º–µ–Ω–∞\nletter = filt(str.isalpha)(shift)\nletters = fmap(''.join)(one_or_more(letter))\n\n# –ü—Ä–æ–±–µ–ª\nws = zero_or_more(filt(str.isspace)(shift))\ntoken = lambda p: right(ws, p)\n\n# –¢–æ–∫–µ–Ω—ã (—Å —É–¥–∞–ª—ë–Ω–Ω—ã–º –ø—Ä–æ–±–µ–ª–æ–º)\neq = token(char('='))\nsemi = token(char(';'))\nname = token(letters)\nvalue = token(number)\n\n# –û–¥–Ω–∞ –ø–∞—Ä–∞ key=value;\nkeyvalue = seq(left(name, eq), left(value, semi))\n\n# –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä \"–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ\"\nkeyvalues = fmap(dict)(zero_or_more(keyvalue))\n\n# –ü—Ä–∏–º–µ—Ä\nresult, remaining = keyvalues(Input(\"x=2; y=3.4; z=.789;\"))\nprint(result)\n\r\n\n‚ñç –ü–æ—Ö–æ–∂–∏–µ —Ä–∞–±–æ—Ç—ã\n\r\n–ï—Å–ª–∏ –≤–∞—Å –ø–æ—Ç—Ä—è—Å —ç—Ç–æ—Ç –ø–æ—Å—Ç, —Ç–æ –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –∏–∑—É—á–∏—Ç—å \n–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã –ø–∞—Ä—Å–µ—Ä–æ–≤\n. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–æ–≤ ‚Äî –Ω–µ —Å–∞–º–∞—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–∞—è –≤–µ—â—å –≤ Python, –Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–µ–æ–±—ã—á–Ω–æ–π —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç–∏.\n\r\n\n\r\n–í –º–∏—Ä–µ Python –µ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –Ω–∞ —Å—Ö–æ–∂–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏—è—Ö. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–∑ –Ω–∏—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–∑–ª–∏—à–µ—Å—Ç–≤–∞, –Ω–æ –∏—Ö —Å—Ç–æ–∏—Ç –∏–∑—É—á–∏—Ç—å:\n\r\n\n\r\n\n\r\n\nPyParsing\n\r\n\nparsy\n\r\n\nreparsec\n\r\n\nparsita\n\r\n\n\r\n\n‚ñç –†–∞–∑–º—ã—à–ª–µ–Ω–∏—è\n\r\n–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–≤–∞–¥—Ü–∞—Ç—å –ª–µ—Ç —è –º–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–∞–ª —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º –Ω–∞ Python. –í —Ç–æ–º —á–∏—Å–ª–µ —è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞–∫–µ—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø–∞—Ä—Å–µ—Ä–æ–≤ LALR(1) –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞–ª –∫—É—Ä—Å –ø–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞–º, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ–±—ã—á–Ω–æ –¥–∞—é —Å—Ç—É–¥–µ–Ω—Ç–∞–º –∑–∞–¥–∞–Ω–∏–µ –Ω–∞–ø–∏—Å–∞—Ç—å –ø–∞—Ä—Å–µ—Ä —Å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–º —Å–ø—É—Å–∫–æ–º. –•–æ—Ç—è —è —Ä–∞–Ω—å—à–µ —Å–ª—ã—à–∞–ª —Å–æ—á–µ—Ç–∞–Ω–∏–µ —Å–ª–æ–≤ ¬´–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä –ø–∞—Ä—Å–µ—Ä–æ–≤¬ª, –≤–ø–µ—Ä–≤—ã–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º–∏ —Ç–æ–ª—å–∫–æ –Ω–µ–¥–∞–≤–Ω–æ.\n\r\n\n\r\n–í —ç—Ç–æ–º —è–Ω–≤–∞—Ä–µ —è —Ä–µ—à–∏–ª, —á—Ç–æ –ø–æ–ø—Ä–æ–±—É—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ö–æ–±–±–∏-–ø—Ä–æ–µ–∫—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –∫—É—Ä—Å –ø–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞–º –Ω–∞ Haskell. –†–∞–Ω–µ–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–≤ –Ω–∞ Haskell, —è –±—ã–ª –≤—ã–Ω—É–∂–¥–µ–Ω –ø–µ—Ä–µ—Å—Ç—Ä–æ–∏—Ç—å —á–∞—Å—Ç—å —Å–≤–æ–µ–≥–æ –º–æ–∑–≥–∞. –Ø –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç—É —Å –∫–Ω–∏–≥–∏ ¬´Programming in Haskell¬ª –ì—Ä—ç–º–∞ –•–∞—Ç—Ç–æ–Ω–∞. –ö–∞–∫ –æ–∫–∞–∑–∞–ª–æ—Å—å, –ì—Ä—ç–º –æ–±–ª–∞–¥–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–ø—ã—Ç–æ–º –≤ –º–æ–Ω–∞–¥–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∞—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤ (—Å–º., –Ω–∞–ø—Ä–∏–º–µ—Ä, \n—ç—Ç—É —Å—Ç–∞—Ç—å—é\n) –∏ –º–Ω–æ–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –µ–≥–æ –∫–Ω–∏–≥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç—É —Ç–µ—Ö–Ω–∏–∫—É.\n\r\n\n\r\n–ú–Ω–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–≤–æ–¥–∏–ª–æ—Å—å –ø–∏—Å–∞—Ç—å –ø–∞—Ä—Å–µ—Ä —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º. –ü–æ—ç—Ç–æ–º—É –ø–æ –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏ –≤ –º–æ—ë–º –ø–æ—Å—Ç–µ –ø—Ä–∏–≤–µ–¥—ë–Ω ¬´—Ä–µ–º–∏–∫—Å¬ª —ç—Ç–∏—Ö –∏–¥–µ–π –Ω–∞ Python. –Ø —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∏–¥–∏–æ–º—ã Python –∏ –¥–µ–ª–∞–ª –≤—Å—ë –Ω–µ–º–Ω–æ–≥–æ –∏–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º. –û–¥–Ω–∞–∫–æ –∫–æ–¥ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–æ–ø–ª–æ—â–∞–µ—Ç –æ–±—â—É—é –±–æ–ª—å—à—É—é –∏–¥–µ—é. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —è –ø–∏—Å–∞–ª –∫–æ–¥ –Ω–∞ Python –≤ ¬´—ç–∫–≤–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ¬ª, –æ—Ç—Ä–∞–∂–∞—é—â–µ–º —É–ø–æ—Ä –Ω–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π, –∞ –Ω–µ –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π.\n\r\n\n\r\n–ú–µ–Ω—è –ø–æ—Ä–∞–∑–∏–ª –º–∏–Ω–∏–º–∞–ª–∏–∑–º –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞. –ó–¥–µ—Å—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∏–∫–∞–∫–æ–≥–æ —Å–ª–æ–∂–Ω–æ–≥–æ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –¥–∞–∂–µ –∫–ª–∞—Å—Å–æ–≤. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ –∫–æ–¥ —É –≤–∞—Å –ø—Ä—è–º–æ –ø–µ—Ä–µ–¥ –≥–ª–∞–∑–∞–º–∏. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π –æ—á–µ–Ω—å –∫–æ–º–ø–∞–∫—Ç–Ω–æ. –£–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ —Ç–æ, –∫–∞–∫ –æ–Ω–∏ —Å–æ—á–µ—Ç–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.\n\r\n\n\r\n–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∏–Ω–æ–≥–¥–∞ –ª—é–¥–∏ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –º–µ–Ω—è: ¬´–ö–∞–∫ –º–Ω–µ —É–ª—É—á—à–∏—Ç—å —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ Python?¬ª. –ö –∏—Ö —É–¥–∏–≤–ª–µ–Ω–∏—é, —è —á–∞—Å—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞—é —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ –∏–ª–∏ –∑–∞ —Ä–∞–º–∫–∞–º–∏ –∏—Ö —Å—Ñ–µ—Ä—ã –æ–ø—ã—Ç–∞. –Ø –¥—É–º–∞—é, —á—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –≤—ã–∏–≥—Ä—ã—à –æ—Ç —ç—Ç–æ–≥–æ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ —á–∞—Å—Ç–æ –≤—ã –≤–∏–¥–∏—Ç–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –∏–Ω–æ–π —Å–ø–æ—Å–æ–± –º—ã—à–ª–µ–Ω–∏—è –æ –∑–∞–¥–∞—á–∞—Ö, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø—Ä–∏–≤–Ω–µ—Å—Ç–∏ –≤ —Å–≤–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã.\n\r\n\n\r\n\n‚ñç –í –∑–∞–∫–ª—é—á–µ–Ω–∏–µ: –±—É–¥—É –ª–∏ —è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ?\n\r\n–ö–∞–∫ —É–∂–µ –≥–æ–≤–æ—Ä–∏–ª–æ—Å—å, —è –∏–∑—É—á–∏–ª —ç—Ç—É —Ç–µ—Ö–Ω–∏–∫—É –≤ –≤–µ—Ä—Å–∏–∏ –¥–ª—è Haskell. –û–¥–Ω–∞–∫–æ –ø–æ–∑–∂–µ —è –ø—Ä–∏–º–µ–Ω–∏–ª –µ—ë –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ Python –≤ –º–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ –∫—É—Ä—Å–∞ –ø–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞–º. –ü–æ–ª—É—á–∏–≤—à–∏–π—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–∞—Ä—Å–µ—Ä –±—ã–ª –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–¥–≤–æ–µ –º–µ–Ω—å—à–µ –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –≤—Ä—É—á–Ω—É—é –ø–∞—Ä—Å–µ—Ä–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ —Å–ø—É—Å–∫–∞ –∏ –≤–∫–ª—é—á–∞–ª –≤ —Å–µ–±—è –º–µ–Ω—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ–ª—É—á–∏–≤—à–∏–π—Å—è –∫–æ–¥ –Ω–∞–ø—Ä—è–º—É—é –æ—Ç—Ä–∞–∂–∞–ª –≥—Ä–∞–º–º–∞—Ç–∏–∫—É —è–∑—ã–∫–∞, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –ø—Ä–∏ –ø–æ–º–æ—â–∏ PEG. –ò, –Ω–∞–∫–æ–Ω–µ—Ü, –æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ö–æ—Ä–æ—à–∏—Ö —Å–≤–æ–π—Å—Ç–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö. –í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, –æ–Ω–∞ –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –º–Ω–µ –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ.\n\r\n\n\r\n–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–∏—Ç –æ—Ç–ª–æ–∂–∏—Ç—å –¥–ª—è –¥—Ä—É–≥–æ–π —Å—Ç–∞—Ç—å–∏. –û–¥–Ω–∞–∫–æ –≤ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–¥–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ —è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–≥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Ç–µ—Ö–Ω–∏–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–∞ —á–µ–≥–æ-—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ.\n\r\n\n\r\n\nTelegram-–∫–∞–Ω–∞–ª —Å —Ä–æ–∑—ã–≥—Ä—ã—à–∞–º–∏ –ø—Ä–∏–∑–æ–≤, –Ω–æ–≤–æ—Å—Ç—è–º–∏ IT –∏ –ø–æ—Å—Ç–∞–º–∏ –æ —Ä–µ—Ç—Ä–æ–∏–≥—Ä–∞—Ö üïπÔ∏è\n \n ",
    "tags": [
        "ruvds_–ø–µ—Ä–µ–≤–æ–¥",
        "regex",
        "regexp",
        "–ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö",
        "–ø–∞—Ä—Å–µ—Ä—ã",
        "–∫–æ–º–ø–æ–∑–∏—Ü–∏—è"
    ]
}