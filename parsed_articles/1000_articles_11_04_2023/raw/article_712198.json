{
    "article_id": "712198",
    "article_name": "Использование PostgreSQL Pager с MariaDB Xpand",
    "content": "Узнайте, как использовать пейджер pspg с базами данных MariaDB для визуализации и эффективного взаимодействия с данными при выполнении задач DevOps.\nЯ не являюсь противником GUI. На самом деле, я написал \nтри книги\n о разработке графического веб-интерфейса с помощью Java. Однако мне также нравится интерфейс командной строки (CLI), особенно текстовые пользовательские интерфейсы. \nПосле \nгода\n изучения \nMariaDB\n и мира DevOps я \nоткрыл для себя и поэкспериментировал\n со многими текстовыми инструментами CLI, о существовании которых я даже не подозревал. Эти инструменты особенно полезны при подключении к удаленным серверам без графического интерфейса.\nОдним из специальных инструментов CLI, который я часто использую, является \nSQL-клиент\n \nmariadb\n (или \nmysq\n в мире MySQL) — программа CLI, используемая для подключения к базам данных, совместимым с MariaDB. С ее помощью вы можете отправлять SQL-запросы и другие команды на сервер базы данных.\nSQL-клиент MariaDB на \nоснове \nCLI \nSQL-клиент \nmariadb\n имеет множество \nпараметров конфигурации\n, одним из которых является возможность установки \nтерминального пейджера\n. Если вы знакомы с Linux, вы наверняка слышали или использовали пейджеры \nmore\n и \nless\n. Вы можете установить пейджер через переменную окружения \nPAGER\n и \nmariadb\n будете автоматически использовать его. Или вы можете установить пейджер только для текущего сеанса с помощью приглашения \nmariadb\n. Например, чтобы использовать пейджер \nless\n, выполните следующую команду после подключения к базе данных:\npager less\nВ следующий раз, когда вы запустите \nSQL\n-запрос, вы сможете перемещаться по набору результатов с помощью клавиш со стрелками на клавиатуре.\nУстановка\n \nпейджера с помощью\n SQL-клиента\n \nmariadb\nПейджер \nless\n является полезным, но не лучшим для наборов результатов SQL, которые отображаются в виде таблиц. Существует инструмент с открытым исходным кодом \npspg\n (см. документацию и исходный код на \nGitHub\n), изначально разработанный для \nPostgreSQL\n, но позже добавивший поддержку нескольких других баз данных, включая MariaDB. Поскольку SQL-клиент \nmariadb\n может подключаться к базам данных \nMariaDB Xpand\n, я попробовал его, и он отлично сработал. Продолжайте читать, чтобы узнать, как это можно попробовать.\nСамый простой способ запустить базу данных Xpand — создать службу на \nSkySQL\n (это бесплатно). Однако вы также можете запустить локальный экземпляр с помощью \nDocker\n. Вот фрагмент кода, который вам нужен:\ndocker run --name xpand \\\n  -d \\\n  -p 3306:3306 \\\n  --ulimit memlock=-1 \\\n  mariadb/xpand-single\nБазы данных интереснее, когда в них есть данные. Простая, но интересная демонстрационная база данных доступна на \nэтом веб‑сайте\n. В Linux‑подобных операционных системах выполните следующие команды (измените IP‑адрес в последней команде, если ваша база данных Xpand запущена в другом месте):\nsudo apt install curl -y\ncurl https://www.mariadbtutorial.com/wp-content/uploads/2019/10/nation.zip --output nation.zip\nunzip nation.zip\nmariadb -h 127.0.0.1 -u xpand < nation.sql\nrm nation.zip nation.sql\nНе забудьте установить \npspg\n:\napt install pspg -y\nПодключитесь к базе данных с помощью SQL-клиента \nmariadb\n с настраиваемым и более классным приглашением, в котором отображается «Xpand»:\nmariadb -h 127.0.0.1 -u xpand --prompt=\"Xpand [\\d]> \" nation\nЯ узнал этот совет от своего коллеги Патрика Боссмана (менеджер по продуктам в \nMariaDB\n) во время \nвебинара по MariaDB Xpand + Docker\n. Рекомендую посмотреть его, если хотите узнать больше.\nУстановите пейджер \npspg\n для текущего сеанса:\npager pspg -s 14 -X --force-uniborder --quit-if-one-screen\nПриятной особенностью \npspg\n является то, что он показывает затейливый текстовый пользовательский интерфейс только тогда, когда это имеет смысл (\n--quit-if-one-screen\n). \nТак что, если ваш запрос возвращает только несколько строк, которые помещаются на экране, он просто покажет их прямо на экране, как обычно. Например, попробуйте выполнить следующий запрос:\nselect * from continents;\nЗдесь нет ничего нового.\nПейджер pspg не активируется, если показано только несколько строк\nОднако попробуйте сделать следующее:\nselect * from countries;\nУдобный для навигации текстовый интерфейс позволяет более эффективно исследовать данные.\nВы можете искать строку, упорядочивать, экспортировать в CSV, замораживать столбцы, помечать строки и даже использовать мышь для взаимодействия с инструментом, а также многое другое.\nНекоторые пункты меню в \npspg\n  \nНадеюсь, что этот инструмент поможет вам в следующий раз, когда вам придется взаимодействовать с базой данных через SSH и командную строку. Более подробную информацию о том, как установить \npspg\n в вашей операционной системе, параметрах конфигурации и документации вы можете найти в \nрепозитории GitHub\n для проекта. \nЕсли вы хотите узнать больше о распределенном SQL и базе данных \nMariaDB Xpand\n, посмотрите это \nкороткое видео\n, взгляните на это \n \nтехническое описание\n и изучите некоторые записи в \nблоге\n и \nдокументацию\n.\n \n ",
    "tags": [
        "mariadb",
        "postgresql",
        "cli",
        "pager"
    ]
}