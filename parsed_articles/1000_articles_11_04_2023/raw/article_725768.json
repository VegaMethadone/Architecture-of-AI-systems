{
    "article_id": "725768",
    "article_name": "Как и зачем отключать TLS 1.0 и TLS 1.1 в Windows Server",
    "content": "\r\nВвиду недостаточного уровня безопасности, обеспечиваемого устаревшими протоколами TLS 1.0 и TLS 1.1, их рекомендуется отключать и использовать более новые версии TLS 1.2 и TLS 1.3. В статье мы кратко проговорим отличия старых и новых реализаций этого протокола, а также разберём три способа отключения TLS 1.0 и TLS 1.1: через реестр, команды PowerShell или командную строку.\n\r\n\n\r\nРастущая активность кибератак вынуждает системных администраторов реализовывать всё более безопасные протоколы связи с целью защиты ресурсов и сетей. Наиболее же важную роль в этом процессе играет TLS. TLS – это протокол безопасности транспортного уровня, используемый для шифрования коммуникаций между клиентами и серверами. Последними версиями этого протокола являются \nTLS 1.2\n и \nTLS 1.3\n, которые предлагают множество преимуществ относительно предыдущих. \n\r\n\n\r\nСегодня чаще всего используется версия 1.2, но 1.3 тоже набирает популярность благодаря своей эффективности и высокой скорости работы. Как системному администратору для повышения безопасности подотчётной инфраструктуры вам следует \nзадействовать в Windows Server именно TLS 1.2 или TLS 1.3,\n но одного этого будет недостаточно. Также необходимо отключить TLS 1.0 и TLS 1.1, поскольку на сегодня их уровень защищённости уже недостаточен.\n\r\n\n\r\nПрежде чем переходить к способам отключения TLS 1.0 и TLS 1.1 в Windows Server, мы разберём особенности этих версий и уточним причины для их отключения.\n\r\n\n\r\n\nСодержание\n\r\n\n\r\n\nНемного об особенностях TLS 1.0 и TLS 1.1\n\r\n\nПочему нужно отключать TLS 1.0 и TLS 1.1 в Windows Server?\n\r\n\nУязвимости TLS 1.0 и TLS 1.1\n\r\n\nКакая есть альтернатива TLS 1.0 и TLS 1.1?\n\r\n\nКак отключить TLS 1.0 и TLS 1.1 в Windows Server?\n\r\n\n\r\n\nСпособ 1: отключение вручную через реестр\n\r\n\nСпособ 2: отключение с помощью команд PowerShell\n\r\n\nСпособ 3: отключение через командную строку\n\r\n\n\r\n\n\r\n\n\r\n\nНемного об особенностях TLS 1.0 и TLS 1.1\n\r\nTLS – это криптографический протокол, обеспечивающий безопасность передачи данных через интернет. \n\r\n\n\r\nВерсия TLS 1.0 была выпущена в 1999 году, а TLS 1.1 вышла в качестве её обновления в 2006. Сегодня обе этих версии являются устаревшими и уже не обеспечивают должный уровень безопасности.\n\r\n\n\r\n\nПочему следует отключать TLS 1.0 и TLS 1.1 в Windows Server?\n\r\nДля отключения TLS 1.0 и TLS 1.1 есть несколько причин:\n\r\n\n\r\n\n\r\n\nЭти версии больше не считаются безопасными ввиду своей уязвимости к различным атакам, например, POODLE.\n\r\n\nОтключение TLS 1.0 и TLS 1.1 на сервере вынудит клиентов использовать более безопасную версию TLS 1.2.\n\r\n\nНекоторые правительственные агентства, например, Агентство национальной безопасности (NSA), рекомендуют отключать TLS 1.0 и TLS 1.1.\n\r\n\nMicrosoft прекратили предоставлять обновления безопасности для Windows Server, где используется TLS 1.0 или TLS 1.1.\n\r\n\nМногие ведущие поставщики ПО, включая Google, Microsoft, Mozilla и Apple, остановили поддержку этих версий.\n\r\n\n\r\n\nУязвимости TLS 1.0 и TLS 1.1\n\r\nВ TLS 1.0 и TLS 1.1 есть целый ряд известных уязвимостей, которые могут быть эксплуатированы хакерами. К ним относятся:\n\r\n\n\r\n\n\r\n\nPOODLE\n (Padding Oracle On Downgraded Legacy Encryption),\n\r\n\nBEAST\n (Browser Exploit Against SSL/TLS),\n\r\n\nCRIME\n (Compression Ratio Info-leak Made Easy),\n\r\n\nFREAK\n (Factoring Attack on RSA-EXPORT Keys),\n\r\n\nLOGJAM\n (Diffie-Hellman Key Exchange Weakness).\n\r\n\n\r\nЭти уязвимости позволяют выполнять атаки по типу «человек посередине», расшифровывать чувствительную информацию и перехватывать сеансы пользователей. Отключая на своём сервере TLS 1.0 и TLS 1.1, вы можете защитить себя от этих атак.\n\r\n\n\r\n\nКакая есть альтернатива для TLS 1.0 и TLS 1.1?\n\r\nПоследней версией протокола является TLS 1.3. Она была выпущена в 2018 году и включает ряд доработок безопасности. Мы рекомендуем использовать эту версию вместо устаревших TLS 1.0 и TLS 1.1.\n\r\n\n\r\nЧто касается TLS 1.2, то она превосходит TLS 1.1 поддержкой эллиптической криптографии (ECC) и наличием новых криптографических наборов, которые обеспечивают более высокий уровень безопасности. TLS 1.3, в свою очередь, превосходит TLS 1.2 тем, что упрощает процесс рукопожатия и делает его более устойчивым к атакам «человек посередине». Кроме того, в этой версии задействуются новые криптографические наборы, обеспечивающие ещё более высокий уровень безопасности. \n\r\n\n\r\nИ TLS 1.2, и TLS 1.3 являются обратно совместимыми с TLS 1.0 и TLS 1.1. Это означает, что клиент, использующий TLS 1.2, может взаимодействовать с сервером, использующим TLS 1.1 и наоборот. Но при этом сами TLS 1.2 и TLS 1.3 между собой несовместимы.\n\r\n\n\r\nКак уже было сказано, последняя версия протокола постепенно набирает популярность. Многие ведущие браузеры, включая Chrome, Firefox и Edge, уже её поддерживают. Кроме того, основные провайдеры интернет-услуг, такие как Cloudflare и Akamai, тоже начали поддерживать TLS 1.3 на своих серверах. \n\r\n\n\r\nЕсли вас интересует более подробное сравнение реализаций этого протокола для разных серверов и клиентов, рекомендую заглянуть на \nэту страницу\n.\n\r\n\n\r\nА ниже я приведу серию статей, посвящённых особенностям TLS 1.2 и TLS 1.3:\n\r\n\n\r\n\n\r\n\nWhat Is SSL/TLS? How SSL, TLS 1.2, And TLS 1.3 Differ From Each Other?\n\r\n\nDecoding TLS v1.2 protocol Handshake with Wireshark\n\r\n\nDecoding TLS 1.3 Protocol Handshake With Wireshark\n\r\n\nHow to Enable TLS 1.3 in Standard Web Browsers?\n\r\n\nHow to Enable TLS 1.3 on Popular Web Servers?\n\r\n\nHow to Enable TLS 1.2 and TLS 1.3 on Windows Server?\n\r\n\nHow to Disable TLS 1.0 and TLS 1.1 on Your Apache Server?\n\r\n\nHow to Disable TLS 1.0 and TLS 1.1 on Your Nginx Server?\n\r\n\n\r\n\nКак отключить TLS 1.0 и TLS 1.1 в Windows Server?\n\r\nДалее мы рассмотрим 3 способа отключения TLS 1.0 и TLS 1.1 в Windows Server. Вы можете выбрать наиболее подходящий в зависимости от ваших технических навыков и навыков автоматизации.\n\r\n\n\r\n\n\r\n\nОтключение вручную через реестр.\n\r\n\nОтключение с помощью команд PowerShell.\n\r\n\nОтключение через командную строку.\n\r\n\n\r\n\nПримечание\n: в Microsoft открыто заявили, что больше не поддерживают TLS 1.0 и TLS 1.1 в операционных системах Windows и патчи для этих версий не предоставляют. Можете ознакомиться с \nэтой таблицей\n, где отражена поддержка TLS в различных ОС Windows.\n\r\n\n\r\n\n▍ Способ 1: ручное отключение TLS 1.0 и TLS 1.1 через реестр\n\r\nПотребуется 15 минут.\n\r\n\n\r\n1. Запуск утилиты regedit.\n\r\n\n\r\nОткройте окно \nRun\n, введите \nregedit\n и кликните \nOK\n.\n\r\n\n\r\n\n\r\n2. Создание нового раздела.\n\r\n\n\r\nВ редакторе реестра перейдите по пути:\n\r\n\n\r\n\nComputer\\HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols.\n\r\nСоздайте новый раздел, кликнув правой кнопкой по \nProtocols\n –> \nNew\n –> \nKey\n.\n\r\n\n\r\n\n\r\n3. Именование раздела реестра TLS 1.0.\n\r\n\n\r\nНазовите созданный раздел TLS 1.0.\n\r\n\n\r\n\n\r\n4. Создание в TLS 1.0 раздела реестра Client.\n\r\n\n\r\nВ дополнение к шагу выше создайте в \nTLS 1.0\n раздел \nClient\n, как показано на скриншоте.\n\r\n\n\r\n\n\r\n5. Создание нового параметра DWORD (32-bit) Value в Client.\n\r\n\n\r\nСоздайте новый параметр через правый клик по \nClient\n –> \nNew\n –> \nDWORD (32-bit) Value\n.\n\r\n\n\r\n\n\r\n6. Именование параметра DWORD (32-bit) Value как Enabled.\n\r\n\n\r\nПрисвойте параметру DWORD (32-bit) Value имя \nEnabled\n, установив для него шестнадцатеричное значение \n0\n.\n\r\n\n\r\n\n\r\n7. Создание в TLS 1.0 параметра DisabledByDefault.\n\r\n\n\r\nАналогичным образом создайте параметр \nDisabledByDefault\n с шестнадцатеричным значением \n1\n.\n\r\n\n\r\n\n\r\n8. Создание раздела Server и соответствующих параметров.\n\r\n\n\r\nПо аналогии с шагами выше создайте в \nProtocols\n раздел \nServer\n, а также параметры реестра \nDWORD (32-bit) Value\n и \nEnabled\n, как показано ниже.\n\r\n\n\r\n\n\r\n9. Отключение TLS 1.1 в Windows Server.\n\r\n\n\r\nДля отключения TLS 1.1 создайте в \nProtocols\n раздел \nTLS 1.1\n, а в нём разделы и параметры, приведённые ниже:\n\r\n\n\r\n\n> HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Client\\Enabled с шестнадцатеричным значением 0\n> HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Client\\DisabledByDefault с шестнадцатеричным значением 1\n> HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Server\\Enabled с шестнадцатеричным значением 0\n> HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Server\\DisabledByDefault с шестнадцатеричным значением 1\n\r\n\n\r\n\n▍ Способ 2: отключение TLS 1.0 и TLS 1.1 с помощью команд PowerShell\n\r\nОписанная ниже простая процедура позволит отключить TLS 1.0 и TLS 1.1 командами Powershell.\n\r\n\n\r\n1. Откройте Powershell от имени администратора.\n\r\n\n\r\n\n\r\n2. Выполните следующие команды для создания записей реестра.\n\r\n\n\r\n\n- New-Item 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Server' -Force\n- New-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Server' –PropertyType 'DWORD' -Name 'Enabled' -Value '0' \n- New-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Server' –PropertyType 'DWORD' -Name 'DisabledByDefault' -Value '1' \n\n- New-Item 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Client' -Force\n- New-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Client' -PropertyType 'DWORD' -Name 'Enabled' -Value '0'\n- New-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Client' –PropertyType 'DWORD' -Name 'DisabledByDefault' -Value '1' \n\n\n- New-Item 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Server' -Force\n- New-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Server' –PropertyType 'DWORD' -Name 'Enabled' -Value '0' \n- New-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Server' –PropertyType 'DWORD' -Name 'DisabledByDefault' -Value '1' \n\n- New-Item 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Client' -Force\n- New-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Client' -PropertyType 'DWORD' -Name 'Enabled' -Value '0'\n- New-ItemProperty -Path 'HKLM:\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Client' –PropertyType 'DWORD' -Name 'DisabledByDefault' -Value '1'\n\r\nДо выполнения команд вы увидите, что в \nProtocols\n никаких параметров нет.\n\r\n\n\r\n\n\r\nПосле их выполнения будут созданы два раздела: \nTLS 1.0\n и \nTLS 1.1\n. Под каждым протоколом присутствуют разделы \nClient\n и \nServer\n, внутри которых есть два параметра: \nDisableByDefault\n и \nEnabled\n.\n\r\n\n\r\n\n\r\n\n▍ Способ 3: отключение TLS 1.0 и TLS 1.1 в Windows Server через командную строку\n\r\n1. Откройте командную строку от имени администратора.\n\r\n\n\r\n\n\r\n2. Выполните следующие команды для создания записей реестра.\n\r\n\n\r\n\nreg add \"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Server\" /v Enabled /t REG_DWORD /d 0 /f \nreg add \"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Server\" /v DisabledByDefault /t REG_DWORD /d 1 /f\n\nreg add \"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Client\" /v Enabled /t REG_DWORD /d 0 /f reg add \"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Client\" /v DisabledByDefault /t REG_DWORD /d 1 /f\n\nreg add \"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Server\" /v Enabled /t REG_DWORD /d 0 /f reg add \"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Server\" /v DisabledByDefault /t REG_DWORD /d 1 /f\n\nreg add \"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Client\" /v Enabled /t REG_DWORD /d 0 /f reg add \"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Client\" /v DisabledByDefault /t REG_DWORD /d 1 /f\n\r\nНадеюсь, эта статья помогла вам разобраться, как отключать TLS 1.0 и TLS 1.1 в Windows Server.\n\r\n\n\r\n\nTelegram-канал с розыгрышами призов, новостями IT и постами о ретроиграх 🕹️\n \n ",
    "tags": [
        "ruvds_перевод",
        "windows server",
        "tls",
        "администрирование",
        "безопасность систем",
        "уязвимости"
    ]
}