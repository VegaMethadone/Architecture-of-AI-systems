{
    "article_id": "728120",
    "article_name": "GNS3 как открытая замена Packet Tracer в процессе учебной деятельности",
    "content": "В статье будет рассматриваться версия использования GNS3 внутри виртуальной машины VMware Workstation 16, используется дистрибутив Ubuntu c LXQt\nСсылка\n на установочный скрипт автора статьи. \nМожете выполнить его с помощью\ncurl -O\n \nchmod +x ./gns3-install.sh\n./gns3-install.sh. \nСегодня самыми распространенными курсами для начинающего системного администратора являются курсы академии Cisco. Они позволяют ознакомиться с популярными протоколами и понять базовые концепции защиты, настройки и построения различных сетей.\nПри прохождении курса, в конце почти каждой главы встречаются задания, выполненные в виде практических работ в \nCisco Packet Tracer\n, и для новичка Packet Tracer довольно удобен, среди его \nплюсов\n:\nинтуитивно понятный интерфейс\nнизкие требования к железу\nвозможность пользоваться функциями перемотки времени\nрежим симуляции, в котором можно наглядно посмотреть путь каждого пакета и также проверить его содержимое.\nОднако при глубоком изучении современных сетевых технологий c Packet Tracer возникают некоторые \nсложности\n, среди которых:\nподдержка только Cisco устройств\nбаги с оборудованием на комплексных схемах, особенно при настройке STP у коммутаторов (часто приходится просто копировать схему, вставляя её рядом, и тогда она чудесным образом начинает работать)\nнеполная командная среда, т.е. практически ничего, что не входит в рамки CCNA, на нём собрать не получится. Например, создание сценариев для автоматизации EEM недоступно, не все функции расширенных ACL доступны\nнет совместимости со старыми версиями. К примеру, версия 8.1.1 не совместима с 8.2.0, при этом я могу взять и открыть файл проекта на новой версии, нажать CTRL+C, зайти в старую версию и нажать CTRL+V, и тогда все заработает\nпроприетарность. Файлы проекта представляют собой бинарный файл, соответственно, быстро отредактировать топологию или конфигурацию устройств через notepad не выйдет\nнеудобные горячие клавиши, которые нельзя изменить, например, не работает копирование – вставка текста с помощью CTRL+C, V, приходится использовать комбинации CTRL+INSERT, SHIFT+INSERT\nв настоящее время в последних версиях нельзя войти в программу без блокировки соединения с интернетом, так как сайт Cisco из России в текущий момент не доступен.\nНо существует такой инструмент, как \nGNS3\n (GNU Network Simulator), который лишён подобных недостатков. Главные его особенности:\nподдержка устройств любых вендоров, включая Cisco\nподдержка Docker контейнеров\nкаждое устройство полностью эмулируется, что даёт возможность управлять им, как настоящим\nподдержка браузерного Web-клиента\nвозможность коллективно работать над одним проектом в режиме реального времени\nвозможность «выпустить» виртуальные устройства в реальную сеть.\nУ него также присутствуют незначительные недостатки, среди которых:\nбольшая нагрузка на процессор, так как по факту каждое устройство запускается на своей виртуальной машине\nдовольно медленная эмуляция L2 коммутаторов Cisco, из-за особенности их архитектуры\nнет встроенных образов оборудования, но их можно скачать с сайта производителя, на что в клиенте есть ссылка на скачивание образа, если производитель её оставил\nПример для MikroTik CHR\nплохая поддержка Windows, но GNS3-VM почти полностью решает эту проблему. \nGNS3-VM\nСам из себя GNS3-VM представляет образ для гипервизора, который можно скачать с \nофициального сайта\n, разработчики рекомендуют использовать VMware, так как там, по их словам, лучше реализована работа VM внутри другой VM, но есть также образы под Virtual Box и Hyper-V.\nЕсли будете пробовать скачать клиент для Windows с официального сайта, нужна будет регистрация, но это обходится путём скачивания .exe файла напрямую с их \ngit репозитория разработчиков\n.\nПриступим к практике\nУ нас в МЦК-КТИТС подготовка к экзамену проводится сначала в Packet Tracer – собирается часть схемы.\nЗадание для экзамена\nС Packet Tracer здесь возникает проблема – PVST в связке с EtherChannel работают плохо (через раз), но по заданию необходимо их настроить. \nДля подготовки задания в GNS3 студентам понадобятся только образы маршрутизаторов, которые можно достать с сайта или напрямую с устройства Cisco, или где-то в интернете.\nСхема в Packet Tracer\nАналогичная схема в GNS3\nТакже стоит уточнить, что, если вы работаете внутри виртуальной машины, то вам необходимо включить в её настройках Intel VT-x или AMD-V виртуализацию, чтобы машины внутри GNS работали.\n \nА для поддержки L2 коммутаторов в настройках qemu (гипервизора внутри GNS) необходимо добавить флаг \n–\n  \nmachine pc-q35-4.2 \nДобавление опции внутри настройки устройств\n  \nGNS также поддерживает создание VPCS.\nVPCS (Virtual PC Simulator) – это аналог ПК из Packet Tracer, с его помощью можно создавать легковесные виртуальные ПК, поддерживающие протоколы DHCP, ICMP. \nКомандная оболочка VPCS\nТакже у каждого элемента топологии в директории проекта присутствуют конфигурационные файлы, что даёт возможность настроить проект без его открытия.\nФайл для настройки VPCS\nК консоли каждого устройства по умолчанию можно подключиться через терминал, с помощью протокола Telnet, можно сделать это, кликнув по устройству два раза.\nВ GUI GNS3 также пишется IP адрес и порт подключения, если хотите подключиться из уже открытого терминала.\nВсе устройства, к которым можно подключиться\nСама настройка сетевых устройств никак не отличается от аналогичной в Packet Tracer.\nНастройка устройств в GNS3\nСледующее задание состоит в том, что с помощью стендов с гипервизором VMware ESXi студент подключается к заранее восстановленному из снапшота стенду, и начинает настраивать виртуальное оборудование. У студентов возникают сложности, так как не всегда хватает свободных стендов, и многие обязаны ждать пока стенд не освободится. А также собрать стенд с ESXi в домашних условиях в большинстве случаев не предоставляется возможным.\nКонечно, можно собрать все в том же VMware Workstation на рабочих машинах в аудитории, но возникают проблемы с настройкой сетевой топологии (нет графической схемы), образами ОС маршрутизаторов, децентрализованности управления снапшотами. Кроме того, неаккуратный студент может затереть снапшот, лежащий в открытом виде, а настраивать заново или восстанавливать его из бекапа довольно долго.\nРяд этих проблем решает GNS3, с помощью которого студент сам может быстро накидать схему – и дома, и в аудитории. Для этого нужна лишь одна виртуальная машина с GNS3-VM и браузер или система под управлением Linux с GNS3-server и GNS3-gui.\nСхема 2-ого задания (ОС устройств может меняться)\nСобственно задание. \nСостоит оно из четырех частей:\nВиртуальные машины и коммутация\nСетевая связность\nИнфраструктурные службы\nИнфраструктура веб-приложения.\nПодобную схему в Packet Tracer собрать, очевидно, не выйдет. Попробуем собрать её в GNS3.\nСкачиваем\n шаблоны нужных устройств.\nЗагружаем шаблон в GNS, скачиваем образ ОС.\nВыбор образа для шаблона\nНастройки машины\nДля поддержки графики необходимо выбрать VNC или SPICE в настройках консоли. Также должны быть установлены пакеты: virt-viewer для SPICE или gvncviewer для VNC.\nWindows Server 2012 R2 в virt-viewer через SPICE\nДля упрощения мы можем запустить Web сервера (WEB-L и WEB-R) в docker контейнерах с nginx.\nВторая схема в GNS3\nОсобых проблем в установке и настройке не возникает. Если что-то происходит, у GNS огромное сообщество, и многие вопросы уже \nзаданы\n на официальном форуме.\nАвтор статьи:\nД. Ермилов \nстудент, специальность «Сетевое и системное администрирование» ГАПОУ «МЦК-КТИТС».\n \n ",
    "tags": [
        "системное администрирование",
        "cisco",
        "windows",
        "сетевые технологии*"
    ]
}