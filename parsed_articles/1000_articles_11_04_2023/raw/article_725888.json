{
    "article_id": "725888",
    "article_name": "NudeCrawler: Голый ползун по женщинам на телеграфе",
    "content": "Nudecrawler\n — паук для поиска голых женщин в \ntelegra.ph\n. \nКак программист, я стремлюсь все автоматизировать. Как мужчина, я склонен к Cherchez la femme. Кроме того, как человек, живущий в сети уже больше, чем существует pornhub, я всяких сисек и порно повидал столько, что уже не всегда уверен, интересно ли мне это.\n— Вы что, за меня и порно смотреть будете!?\n— Ага!\nNudeCrawler — вершина client‑side технологий для любителя девушек: он не только сам за вас ищет порно, а еще и даже сам за вас его смотрит, чтобы вам не пришлось! Впрочем, он ведет лог, что и где посмотрел и как ему понравилось, так что, можно «подсматривать за роботом, как он подсматривает за не‑очень‑публично выложенной картинкой, где фотограф подсматривает как девушка переодевается». (В общем, это секс в квадрате, кубе и гипер‑кубе).\nКонечный результат работы программы выглядит примерно вот так (на всякий случай я убрал цифры, чтобы специально (слава Богу и Во Славу Сатаны, тут это одно и то же) испортить ссылку — но теперь вы легко и сами сможете найти):\nINTERESTING (16 video) https://telegra.ph/Alina-XX-XX-XX\n  Nude: 129 non-nude: 11\n  Total video: 16\nINTERESTING (30 video) https://telegra.ph/Alisa-XX-XX-XX\n  Nude: 52 non-nude: 11\n  Total video: 30\nНеэффективное интригующее предостережение\nНеважно, какого вы пола, неважно сколько вам лет, какая у вас ориентация, насколько широки ваши сексуальные горизонты и какие извращения вам наиболее интересны — все равно, с NudeCrawler вы найдете много того, что вам не понравится.\nПоверьте мне, я повидал некоторое дерьмо. Буквально.\nНапример, однажды NudeCrawler мне принес \nвот эту страничку\n (Критерием интересности было либо сколько‑то NSFW картинок, либо любое видео.)  Предупреждаю: на видео яркие цвета, вспышки, если у вас эпилепсия - оно того не стоит. Да и в любом случае, оно того не стоит.\nЧем интересен telegra.ph и что там можно найти?\nНе зря В. И. Ленин призывал захватывать телеграф в первую очередь.\nТелеграф позволяет размещать контент (и имеет свой хостинг картинок и коротких видео) анонимно без модерации. К тому же — очень легко. Контент не запаролен, открыт всем, поэтому какие‑то совсем уж конфиденциальные вещи там вряд ли кто‑то хранит. Но с другой стороны, в прежнюю эпоху (до появления nudecrawler'а), найти какую‑то интересную страничку там невозможно. Песчинка надежно спрятана в куче песка. Но вот с появлением nudecrawler находить интересное стало проще.\nЧто я (без особых намерений, просто тестируя nudecrawler) находил в telegra.ph:\nОбнаженные фото, комиксы, фотосеты и «сливы» (любительские и с OnlyFans / Patreon). И в усеченном виде (вроде «вступайте в наш платный канал чтобы увидеть слив полностью») и в достаточно полном (более 100 картинок. Рекорд за 3 дня — 163 картинки в одной находке).\nКоллекции разных «мрачных» видео (драки, [роскомнадзор] в метро под поезд, итд)\nОписание нескольких мошеннических схем, прямо готовые гайды, бери да пользуйся. И советы, и ссылки, где они необходимы. Кстати, некоторые из них мне понравились, были довольно остроумными. Я о них раньше не знал (Про звонки из «службы безопасности сбербанка» и из «следственного управления» я уже лет 10 как в курсе).\nОгромные списки из десятков ссылок на разные редиректоры и хостинги «сомнительной репутации» вроде mega.nz. На части ссылок — фотки‑видео модели Amouranth, часть удалены, а часть «за грубое нарушение условий использования сервиса».\nЛичные письма (кто‑то вот так общается, наверное, пишет «незапечатанное» письмо в телеграфе и высылает ссылку. Честно: перестал читать, когда понял, что читаю). Не надо так делать, телеграф — не подходит для всего личного. \nПросто галереи в жанре «вот я гуляю по парку», «вот я сделал ремонт на даче»\nОбъявления о продаже‑аренде недвижимости и автотранспорта\nВоенные и патриотические статьи и фото (черновики может?) разных сторон и на разных языках.\nОгромное количество страниц формата «порноролик — порнорассказ — второй порноролик». Похоже, кто‑то скриптом их создал. Причем в рассказе на гомо‑ тематику (я не вчитывался! честно!) порно‑ролики не в тему рассказа, а нормальные, с общечеловеческими ценностями, где несколько европейских афро‑американцев без явного уважения наслаждаются одной белой женщиной.\nНу и паролей к разным ресурсам там тоже достаточно. Многие гуглятся по запросу вроде: \nsite:telegra.ph password\n. Конечно же, так тоже не надо делать.\nНе храните пароли в Telegra.ph! Rentry.co гораздо удобнее - сразу видно количество просмотров\nУстановка\npip3 install nudecrawler\n(лучше в virtualenv) или же, прямо из репозитория (кто не рискует, тот не пьет антибиотики):\npip3 install git+https://github.com/yaroslaff/nudecrawler\nВместе с ним поставится встроенный (и медленный) детектор nudepy. Для «поиграться», и чтобы не тащить за собой кучу зависимостей — вполне нормально, но если вам нужно будет использовать другие, то лучше использовать их через docker или скачать требуемые пакеты для использования NudeNet (подробнее — на \nстранице проекта\n)\nКстати, если фильтрация не нужна вообще, можно использовать просто флажок \n-a\n.\nКак пользоваться?\nНачнем с самого быстрого (а то не терпится ведь!):\nnudecrawler -a Сиськи\nINTERESTING (ALL) https://telegra.ph/Siski-XX-XX\n  Total images: 8\n  Total video: 1\n\nINTERESTING (ALL) https://telegra.ph/Siski-XX-XX\n  Total images: 4\n\nINTERESTING (ALL) https://telegra.ph/Siski-XX-XX\n  Total images: 0\n\nМы указали \n-a\n, то есть, nudecrawler вообще не фильтровал и показывал все найденные страницы. (даже без картинок).\nДавайте поищем красивых людей в надежде на что‑то прекрасное\nnudecrawler Маша Наташа \"Анатолий Евгеньевич\"\nТеперь он будет работать медленнее, потому что каждую картинку будет прогонять через встроенный Nudepy фильтр. Кроме того, используются параметры по умолчанию — на странице должно быть 5+ картинок (иначе — сразу отбрасывается), далее, чтобы страница засчиталась как интересная и выдалась в ней должны быть хотя бы 1 NSFW, либо же любое видео. Это можно подкрутить чере параметры \n--nude\n, \n--total\n и \n--video\n. А еще можно добавить \n-v\n чтобы видеть, как он работает. По‑умолчанию ищутся страницы за даты за последние 30 дней (но годы при этом могут быть любыми, так уж устроен телеграф). Это можно подкрутить через \n-d\n.\nЕсли хотим искать по множеству слов, то используем вордлист через \n-w file\n. Вордлист может состоять как из слов, так и из «базовых URL». Базовый URL — это урл без даты и номера, например https://telegra.ph/secret — по этому адресу нет странички, но когда добавим к нему дату и порядковый индекс — какие‑то найдутся. \nИз репозитория можно скачать wordlist.txt на 3000 английских слов, или же urls.txt 11 200 базовых URLов телеграфа — это уже отфильтрованные URL (через \nbulk‑http‑check\n), по каждому из них на telegra.ph есть страницы (а вот, например, на слово «абажурами», страниц не было, поэтому оно в urls.txt не попало). \nКак nudecrawler находит незасвеченные странички?\nАдрес страницы в телеграфе зависит от заголовка и для страницы с заголовком \"Саша Грей\" он будет иметь вид, например:\nhttps://telegra.ph/sasha-grey-01-02-123\n01 - \"сегодняшний\" месяц, когда создается страница. 02 - день месяца (число). И если https://telegra.ph/sasha-grey-01-02 уже существует, то телеграф добавляет еще \"счетчик\" 2 если и это занято, то 3, итд.\nЕсли ползуну указано искать \"Саша Грей\", он проверяет все сегодняшние странички с этим заголовком, затем вчерашние и так на \n-d\n дней назад.\nЕсли вдруг, страница с индексом 100 будет, а 101 нет - ползун все равно попробует 102 и далее, пока не будет \"дырка\" в \n-f\n страниц подряд. (исходно 0, но можно повысить)\nПоэтому, спрятать женщину от ползуна можно двумя способами:\nИспользовать очень необычный заголовок (как пароль, чтобы он не мог быть угадан по вордлисту)\nСоздать большую \"дырку\" в счетчиках, например, если ползун будет запущен с \n-f 10\n, а дырка будет в 20 страниц, которых нет (например с 100 по 120), то 121 он уже не будет пробовать.\nПодключаем детекторы!\nЯ затрудняюсь ответить, какой детектор точнее, аккуратнее, потому что сами границы понятия «голости» довольно нечеткие (на той же тестовой странице разные детекторы находили от 10 до 20 NSFW картинок ), но вот по скорости, nudepy точно медленнее других в 6 раз.\nДетекторы обычно работают через tensorflow / keras, тащут за собой огромную кучу зависимостей, поэтому я советую использовать их через docker контейнеры. Например:\nsudo docker run --rm --name nsfw-api -d -p 3000:3000 ghcr.io/arnidan/nsfw-api:latest\nТеперь можно сказать nudecrawler'у: \n--detect nsfwapi\n и он будет обращаться к нему. Все будет работать быстрее. Про другие варианты, чтобы не перегружать статью — на страничке проекта. Этот способ — вполне хороший.\nУ этих детекторов есть утечки памяти (у adult‑image‑detector — тоже и еще сильнее). При очень долгой работе он просто сожрет всю доступную память и упадет. Чтобы такого не случилось:\n--stop 200 --refresh PATH/TO/refresh-nsfw-api.sh\nТеперь, через каждые 200 картинок мы перезапускаем контейнер (но можно и через гораздо больше, главное, чтобы хоть иногда).\nНе только для поиска голых женщин в телеграфе!\nВо-первых, не только в телеграфе:\nnudecrawler --detect nsfwapi --url1 https://oboobs.ru\n....\nINTERESTING (17 nudes) https://oboobs.ru\n  Nude: 17 non-nude: 1\n\nОказывается, на известном хабровчанам \noboobs.ru\n тоже есть сиськи! Можете взять список всех.com доменов, например, прогнать каждый через nudecrawler и вот у вас готовая база «взрослых» сайтов, которую можно использовать в родительских фильтрах.\nВо‑вторых, можно подключать любые свои детекторы. На самом деле детектор — это простой скрипт, любая программа на диске, которой передается либо имя скачанного файла, либо его URL. Подключается либо через \n--detect-image PATH\n либо \n--detect-url PATH\n. Можете хоть \n/bin/true\n использовать в качестве такого «озабоченного» детектора, который во всем видит неприличность.\nНапример, \nAWS Rekognition\n умеет обнаруживать оружие на фото. Подключите его и можете найти странички, где есть фото оружия. Или просто можете искать собственные фотки в сети.\nА если запустить с ключом \n-a\n и поиск по слову \"Пароли\", вы удивитесь, как много людей хранят пароли в открытых страничках в телеграфе... В том числе от достаточно важных ресурсов, таких как хостинги. (Тут я должен сказать, что пользоваться чужими паролями незаконно и неэтично)\nПожелания?\nБуду рад любым отзывам и пожеланиям. Может быть советам по интересным детекторам и другим идеям, какие фишки стоит добавить, как лучше отфильтровывать скучные странички (Вроде миллиона тех страничек, где два ролика и рассказ между ними).\nДополнения\nНовая версия\nВыложил новую версию (последняя сейчас: \n0.2.3\n). Основная особенность - внутренний кэш. Самое долгое время занимает фильтрация картинок, а уникальных картинок в телеграфе на самом деле не так уж и много, он забит повторениями. Кэшируется и по URL и по SHA1 сумме. Стастистика кэша за ночь очень впечатляет:\n    \"cache\": {\n        \"urls\": 4704,\n        \"sums\": 4704,\n        \"hit_url\": 79504,\n        \"hit_sum\": 284,\n        \"miss_url\": 4988,\n        \"miss_sum\": 4704\n    }\nМенее 5к картинок в кэше (о каждой - только сумма и урл), и при этом почти 80 000 попаданий! Новая версия \nгораздо\n быстрее. Да, на каждую из миллиона повторых страниц все равно уйдет какое-то время, но гораздо меньше. Кстати, еще интересные цифры из статистики моего ползуна:\n\"found_interesting_pages\": 10361,\n\"found_nude_images\": 157375,\n\"gap_max\": 4,\n\"processed_images\": 89860,\nЕще последняя версия умеет быстро проматывать повторные страницы (иногда их - несколько тысяч. Даже с кэшем их долго обрабатывать, обновитесь хотя бы до 0.2.3).\nЕще одна новая версия (0.3.8) с поддержкой docker и evalidate \nВышла еще новая версия. Главное - теперь есть docker контейнер! Все просто:\nmkdir /tmp/run\nsudo docker run --rm -v /tmp/run:/work yaroslaff/nudecrawler nudecrawler -a Eva \"Sasha Grey\" \"Belle Delphine\" Amouranth\nЕще - теперь более гибкая фильтрация благодаря \nevalidate\n, вместо игры с несколькими параметрами, теперь можно просто задать выражение на пайтоне, например: \n--expr (total_images>10 or total_video>3) and new_nude_images>2\n ну или просто \n--expr True\nДругие мои проекты и где справедливость? :)\nЯ \nписал про showcert\n (\nshowcert\n repo) - Гораздо более простой и удобный инструмент для админа чем openssl, и в большинстве случаев, может заменить его. (После showcert я вообще перестал openssl пользоваться, он уделывает OpenSSL как пивная открывалка в открывании пива уделывает мультитул с 30 лезвиями, включая пассатижи и молоток). За все время, showcert получил 22 звезды на github (и то, мне кажется, больше звезд со stackoverflow, чем с хабра).\nЯ \nписал про okerr\n (\nдважды\n) (\nokerr\n repo). Большой по трудоемкости проект, сделанный практически \"в одного\". Большинство мониторингов делаются большими командами для своих больших целей, okerr - мониторинг (как self-hosted, так и полностью бесплатный(!) сервис) для небольших проектов (от одного сайта. у нас окерр следит за парой десятков серверов). С возможностью внешних проверок из разных стран, с оповещениями через Телеграмм и на почту, с УНИКАЛЬНОЙ возможностью failover (когда у вас вылетает один сервер, но сайт по прежнему живой - все запросы обслуживаются другим), с очень легкой клиентской частью (и можно даже без нее) и с очень простым дописыванием своих проверок (Если вы знаете, что \"systemctl status nginx\" возвращает не ноль если nginx лежит - то вы уже можете добавить эту проверку).  Мониторинг, с проверками доменов на истечение, страничек на коды и контент, сертификатов на валидность и опасность скорого протухания, IP адресов на наличие в антиспам базах, логов на аномальный рост, бэкапов на свежесть и соответствие ожидаемому размеру....  В общем, у нас после перехода на окерр вообще количество внезапных проблем раз в 20 уменьшилось - все или предотвращаем или узнаем сразу же. Две звезды на гитхабе. Две. Ну я понимаю, окерр - это больше сервис (сервер ставить тяжело). Но все равно.\nЯ \nписал про evalidate\n (\nevalidate\n repo). Безопасный eval() для Питона. Проблема, которая часто считается условно-невозможной, для которой почти нет безопасного решения, а даже \nпопулярные гайды\n советуют решение, в котором есть уязвимость(!). А \nevalidate\n решает ее! Еще \nasteval\n решает отчасти похожую задачу, но гораздо медленнее (1.2 секунды в бенчмарке против 0.017 секунд). 3 звезды.\nЯ \nписал про hashget\n (\nhashget\n repo). Дедупликатор, который иногда позволяет ужать архивы на 99.5% (причем, в довольно типичных ситуациях). 3 звездочки.\nНо стоило мне один раз написать про поиск сисек.... До публикации, у ползуна было 4 звезды (я вообще нигде не упоминал, просто магия сисек приводила к нему людей). Не прошло и суток, \nсейчас у ползуна 45 звезд\n! Спасибо, всем кто форкнул и лайкнул! :-) Это очень мотивирует и хочется дорабатывать новые фишечки в него.\n \n ",
    "tags": [
        "nsfw",
        "nude",
        "поиск",
        "telegra.ph",
        "сиськи",
        "onlyfans",
        "слив",
        "приватность",
        "конфиденциальность",
        "распознавание изображений"
    ]
}