{
    "article_id": "720510",
    "article_name": "–≠—Ñ–µ–º–µ—Ä–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ Kubernetes",
    "content": "\r\n\n\r\n\n–ü—Ä–µ–¥–∏—Å–ª–æ–≤–∏–µ\n\r\n–° –≤–µ—Ä—Å–∏–∏ Kubernetes 1.16 –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ —ç—Ñ–µ–º–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (Ephemeral Containers). –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ä–∞–º–∫–∞—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö Pod'–æ–≤, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –∏ –æ—Ç–ª–∞–¥–∫–µ –ø—Ä–æ–±–ª–µ–º, –∞ —Ç–∞–∫–∂–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á –≤ —Ä–∞–º–∫–∞—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è.\n\r\n\n\r\n–≠—Ñ–µ–º–µ—Ä–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ Pod'–∞—Ö, –∞ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ä—è–¥–æ–º —Å –Ω–∏–º–∏ –≤ —Ä–∞–º–∫–∞—Ö —Ç–æ–≥–æ –∂–µ —Å–µ—Ç–µ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏ —Å —Ç–µ–º–∏ –∂–µ —Ç–æ—á–∫–∞–º–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ñ–µ–º–µ—Ä–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–æ–≥—É—Ç –ª–µ–≥–∫–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º Pod'–∞, —Ç–∞–∫–∏–º –∫–∞–∫ —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–ª–∏ —Å–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.\n\r\n\n\r\n\n–ù—É–∂–Ω—ã –ª–∏ –≤–æ–æ–±—â–µ —ç—Ñ–µ–º–µ—Ä–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã\n\r\n–ö–∞–∫ –¥–µ–±–∞–∂–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Kubernetes?\n\r\n\n\r\n–ó–∞–ø–µ–∫–∞—Ç—å –≤ –±–æ–µ–≤–æ–π –æ–±—Ä–∞–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —É—Ç–∏–ª–∏—Ç –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —Ä–∞–∑—Ä–æ—Å—à–µ–º—É—Å—è –æ–±—Ä–∞–∑—É —Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ –∞—Ç–∞–∫. –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –Ω–∞–±–æ—Ä –≤ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å–ª–∏—à–∫–æ–º –Ω–µ—É–¥–æ–±–Ω–æ –∏ –Ω–µ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ (–∫–∞–∫ –º–∏–Ω–∏–º—É–º, –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω \ntar\n). –ù–æ –¥–∞–∂–µ –µ—Å–ª–∏ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω—É–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, \nkubectl exec\n –≤—Ä—è–¥ –ª–∏ –ø–æ–º–æ–∂–µ—Ç, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞—Å—Ç—Ä—è–ª –≤ —Ü–∏–∫–ª–µ –ø–∞–¥–µ–Ω–∏–π (CrashLoopBackOff). \n\r\n\n\r\n–ö–∞–∫–∏–µ –µ—â–µ —É –Ω–∞—Å –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–µ–Ω—è—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–æ–≤?\n\r\n\n\r\n–ú–æ–∂–Ω–æ, –∫–æ–Ω–µ—á–Ω–æ, –¥–µ–±–∞–∂–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é —Å Kubernetes –Ω–æ–¥—ã, –Ω–æ SSH –¥–æ—Å—Ç—É–ø –Ω–µ –≤—Å–µ–≥–¥–∞ –≤ –Ω–∞–ª–∏—á–∏–∏. –í–æ–∑–º–æ–∂–Ω–æ, –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ —Ç–∞–∫ —É–∂ –∏ –º–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤‚Ä¶\n\r\n\n\r\n–ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –º—ã –Ω–µ–º–Ω–æ–≥–æ –Ω–µ –æ—Å–ª–∞–±–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫ –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–∞!\n\r\n\n\r\n–ê —á—Ç–æ –µ—Å–ª–∏ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ, –Ω–µ–º–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤ —Å–≤–æ–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∫ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º—É –ø–æ–¥—É –±–µ–∑ –µ–≥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏? –ü–æ–¥—ã —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –≥—Ä—É–ø–ø—ã –ø–æ–ª—É–≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –∏ –∏–∑–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É –Ω–∏–º–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –ø–æ–¥–∞ —Å–ª–∞–±–∞—è. –ò —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã –ø—Ä–æ–Ω–∏–∫–∞—Ç—å –≤ –¥—Ä—É–≥–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —Å–Ω–∏–º–∞—Ç—å —Å –Ω–∏—Ö –¥–∞–Ω–Ω—ã–µ, –≤ —Ç–æ–º —á–∏—Å–ª–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ.\n\r\n\n\r\n–ò —Ç–∞–∫ —Ä–æ–¥–∏–ª–∞—Å—å –∏–¥–µ—è –≠—Ñ–µ–º–µ—Ä–Ω–æ–≥–æ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚Äî ¬´–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø–æ–¥–µ, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å —Ü–µ–ª—å—é –ø–æ–∏—Å–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω —Å–±–æ–µ–≤¬ª.\n\r\n\n\r\n\n\n                        \n–•–º, –∞ —Ä–∞–∑–≤–µ –¥–æ–ø—É—Å–∫–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–¥–∞ –Ω–∞–ª–µ—Ç—É –Ω–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ Kubernetes? ü§î\n\n                        \n–ß—Ç–æ –≤–∞—Å –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —ç—Ñ–µ–º–µ—Ä–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ —Å —Ü–µ–ª—å—é –≤–∑–ª–æ–º–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –±–æ–µ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π? –ü–æ–º–∏–º–æ –∑–¥—Ä–∞–≤–æ–≥–æ —Å–º—ã—Å–ª–∞, —Å–ª–µ–¥—É—é—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:\n\r\n\n\r\n ‚Äî –£ –Ω–∏—Ö –Ω–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π –Ω–∞ –≤—ã–¥–µ–ª—è–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –Ω–∞ –∑–∞–ø—É—Å–∫ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ.\n\r\n ‚Äî –û–Ω–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ —Ä–µ—Å—É—Ä—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –ø–æ–¥—É.\n\r\n ‚Äî –ò—Ö –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å, –∏ –¥–ª—è –Ω–∏—Ö –Ω–µ–ª—å–∑—è –æ—Ç–∫—Ä—ã—Ç—å —Å–ª—É—à–∞—é—â–∏–π –ø–æ—Ä—Ç.\n\r\n ‚Äî –î–ª—è –Ω–∏—Ö –Ω–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∏–∫–∞–∫–∏—Ö liveness/readiness –ø—Ä–æ–±.\n\r\n\n\r\n–ß–∏—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏, –∏—Ö –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã—Ö –∑–∞–¥–∞—á, –Ω–æ –æ–Ω–∏ –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –Ω–∞ –¥–æ–ª–≥–æ—Å—Ä–æ–∫.\n\n                    \n \n\r\n–° —Ç–µ–æ—Ä–∏–µ–π —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å, –ø–µ—Ä–µ–π–¥–µ–º –∫ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏.\n\r\n\n\r\n\n–í–µ–ª–∏–∫–∏–π –∏ –º–æ–≥—É—á–∏–π kubectl debug\n\r\nKubernetes –¥–æ–±–∞–≤–∏–ª –ø–æ–¥–¥–µ—Ä–∂–∫—É —ç—Ñ–µ–º–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –≤–∫–ª—é—á–∏–≤ –≤ Pod spec –Ω–æ–≤—ã–π –∞—Ç—Ä–∏–±—É—Ç (–∫–∞–∫–æ–π –±—ã –≤—ã –¥—É–º–∞–ª–∏?) ¬´ephemeralContainers¬ª. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ —Ç–∏–ø–∞ Container –∏ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –¥–ª—è —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–æ–¥–∞.\n\r\n\n\r\n\n\n                        \n–ß—É—Ç—å –±–æ–ª—å—à–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–æ–Ω–∫–æ—Å—Ç–µ–π API —ç—Ñ–µ–º–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ üí°\n\n                        \n–°–ø–∏—Å–æ–∫ ephemeralContainers –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ PATCH –Ω–∞ –ø—É—Ç—å /pods/NAME/ephemeralcontainers. –≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ \n*–ø–æ—Å–ª–µ*\n —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∞.\n\r\n\n\r\n–ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥ —Å –Ω–µ–ø—É—Å—Ç—ã–º —Å–ø–∏—Å–∫–æ–º —ç—Ñ–µ–º–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ: \n\r\n\n\r\n\nThe Pod is invalid: spec.ephemeralContainers: Forbidden: cannot be set on create.\n\r\n\n\r\n–õ—é–±–æ–ø—ã—Ç–Ω–æ, —á—Ç–æ —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å –ø–æ–º–æ—â—å—é \nkubectl edit\n, –ø–æ–ª—É—á–∏–º –æ—à–∏–±–∫—É:\n\r\n\n\r\n\nPod is invalid: spec: Forbidden: pod updates may not change fields other than `spec.containers[*].image`, `spec.initContainers[*].image`, `spec.activeDeadlineSeconds`, `spec.tolerations` (only additions to existing tolerations) or `spec.terminationGracePeriodSeconds` (allow it to be set to 1 if it was previously negative)\nA container spec added to the ephemeralContainers list cannot be modified and remains in the list even after the corresponding container terminates.\n\r\n\n\n                    \n \n\r\n–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å–ø–∏—Å–æ–∫ ephemeralContainers –∑–∞–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø–æ–¥–µ. –û–±—ä–µ–∫—Ç EphemeralContainer —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, —Ä–æ–≤–Ω–æ –∫–∞–∫ –∏ —Å –æ–±—ã—á–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏, —Å —ç—Ñ–µ–º–µ—Ä–Ω—ã–º–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É \nkubectl attach -it\n, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∂–µ–ª–∞–µ–º—ã–π –¥–æ—Å—Ç—É–ø –∫ shell'—É.\n\r\n\n\r\n–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤—É —Ä—è–¥–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é API —ç—Ñ–µ–º–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ–º–∞–Ω–¥–µ \nkubectl debug\n, –∫–æ—Ç–æ—Ä–∞—è —Å–∫—Ä—ã–≤–∞–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é —ç—Ñ–µ–º–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø–æ–¥ –Ω–∞–±–æ—Ä–æ–º –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è. –ü–æ–ø—Ä–æ–±—É–µ–º —ç—Ç–æ –≤ –¥–µ–π—Å—Ç–≤–∏–∏!\n\r\n\n\r\n\n\n                        \n–ü–æ–¥–Ω–∏–º–∞–µ–º –ø–µ—Å–æ—á–Ω–∏—Ü—É üõ†Ô∏è\n\n                        \n–ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è Kubernetes –≤–µ—Ä—Å–∏–∏ 1.23 –∏ –≤—ã—à–µ.\n\r\n\n\r\n–î–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —É–Ω–∏—á—Ç–æ–∂–∞–µ–º—ã–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã. –ù–∏–∂–µ –ø—Ä–∏–≤–æ–∂—É Vagrantfile –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–¥–Ω—è—Ç–∏—è –º–∞—à–∏–Ω—ã —Å Debian –∏ Docker –Ω–∞ –±–æ—Ä—Ç—É:\n\r\n\nVagrant.configure(\"2\") do |config|\n  config.vm.box = \"debian/bullseye64\"\n\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.cpus = 4\n    vb.memory = \"4096\"\n  end\n\n  config.vm.provision \"shell\", inline: <<-SHELL\n    apt-get update\n    apt-get install -y curl git cmake vim\n  SHELL\n\n  config.vm.provision \"docker\"\nend\n\n\r\n\n\r\n–ü–æ–ª–æ–∂–∏—Ç–µ —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É –∏ –∏–∑ –Ω–µ–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã \nvagrant up && vagrant ssh\n.\n\r\n\n\r\n–ö–∞–∫ —Ç–æ–ª—å–∫–æ –º–∞—à–∏–Ω–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è \narkade\n –¥–ª—è –ø–æ–¥–Ω—è—Ç–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞:\n\r\n\n\r\n\n$ curl -sLS https://get.arkade.dev | sudo sh\n$ arkade get kind kubectl\n$ kind create cluster\n\n\r\n\n\n                    \n \n\r\n\n–ü–µ—Ä–≤–∞—è –∏ –Ω–µ—É–¥–∞—á–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è kubectl debug\n\r\n–í –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–¥–æ–ø—ã—Ç–Ω–æ–≥–æ, –≤–æ–∑—å–º–µ–º Deployment —Å distroless –æ–±—Ä–∞–∑–∞–º–∏ Python –∏ Node.JS:\n\r\n\n$ kubectl apply -f - <<EOF\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: slim\nspec:\n  selector:\n    matchLabels:\n      app: slim\n  template:\n    metadata:\n      labels:\n        app: slim\n    spec:\n      containers:\n      - name: app\n        image: gcr.io/distroless/python3-debian11\n        command:\n        - python\n        - -m\n        - http.server\n        - '8080'\n      - name: sidecar\n        image: gcr.io/distroless/nodejs-debian11\n        command:\n        - /nodejs/bin/node\n        - -e\n        - 'setTimeout(() => console.log(\"done\"), 999999)'\nEOF\n\n# –°–æ—Ö—Ä–∞–Ω–∏–º –∏–º—è –ø–æ–¥–∞ –Ω–∞ –±—É–¥—É—â–µ–µ:\n$ POD_NAME=$(kubectl get pods -l app=slim -o jsonpath='{.items[0].metadata.name}')\n\n\r\n–ö–æ–≥–¥–∞ –ø–æ–¥–æ–±–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞—á–∏–Ω–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –æ—Ç \nkubectl exec\n –ø–æ–ª—å–∑—ã –Ω–µ—Ç, –∏–±–æ distroless –æ–±—Ä–∞–∑—ã –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –≤ —Å–µ–±–µ –Ω–∏–∫–∞–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥:\n\r\n\n\r\n\n# app container - no `bash`\n$ kubectl exec -it -c app ${POD_NAME} -- bash\nerror: exec: \"bash\": executable file not found in $PATH: unknown\n\n# ...and very limited `sh` (actually, it's aliased `dash`)\n$ kubectl exec -it -c app ${POD_NAME} -- sh\n$# ls\nsh: 1: ls: not found\n\n# sidecar container - no shell at all\n$ kubectl exec -it -c sidecar ${POD_NAME} -- bash\nerror: exec: \"bash\": executable file not found in $PATH: unknown\n\n$ kubectl exec -it -c sidecar ${POD_NAME} -- sh\nerror: exec: \"sh\": executable file not found in $PATH: unknown\n\n\r\n–ü–æ–ø—Ä–æ–±—É–µ–º –ø—Ä–∏–∑–≤–∞—Ç—å –Ω–∞ –ø–æ–º–æ—â—å —ç—Ñ–µ–º–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:\n\r\n\n\r\n\n$ kubectl debug -it --attach=false -c debugger --image=busybox ${POD_NAME}\n\n\r\n\n\r\n–ú—ã –¥–æ–±–∞–≤–∏–º –≤ –Ω–∞—à –ø–æ–¥ –Ω–æ–≤—ã–π —ç—Ñ–µ–º–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º debugger –Ω–∞ –æ–±—Ä–∞–∑–µ busybox:latest, –Ω–µ –∑–∞–±—ã–≤ –ø—Ä–æ –∫–ª—é—á–∏ interactive (-i) –∏ PTY-controller (-t) –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –µ–≥–æ shell'—É.\n\r\n\n\r\n–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–∞:\n\r\n\n\r\n\n$ kubectl get pod ${POD_NAME} \\\n  -o jsonpath='{.spec.ephemeralContainers}' \\\n  | python3 -m json.tool\n[\n    {\n        \"image\": \"busybox\",\n        \"imagePullPolicy\": \"Always\",\n        \"name\": \"debugger\",\n        \"resources\": {},\n        \"stdin\": true,\n        \"terminationMessagePath\": \"/dev/termination-log\",\n        \"terminationMessagePolicy\": \"File\",\n        \"tty\": true\n    }\n]\n\n\r\n\n\r\n–∏ —Å—Ç–∞—Ç—É—Å:\n\r\n\n\r\n\n$ kubectl get pod ${POD_NAME} \\\n  -o jsonpath='{.status.ephemeralContainerStatuses}' \\\n  | python3 -m json.tool\n[\n    {\n        \"containerID\": \"containerd://049d76...\",\n        \"image\": \"docker.io/library/busybox:latest\",\n        \"imageID\": \"docker.io/library/busybox@sha256:ebadf8...\",\n        \"lastState\": {},\n        \"name\": \"debugger\",\n        \"ready\": false,\n        \"restartCount\": 0,\n        \"state\": {\nüëâ          \"running\": {\n                \"startedAt\": \"2022-05-29T13:41:04Z\"\n            }\n        }\n    }\n]\n\n\r\n\n\r\n–ü–æ–ø—Ä–æ–±—É–µ–º –∫ –Ω–µ–º—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è:\n\r\n\n\r\n\n$ kubectl attach -it -c debugger ${POD_NAME}\n# Trying to access the `app` container (a python webserver).\n$# wget -O - localhost:8080\nConnecting to localhost:8080 (127.0.0.1:8080)\nwriting to stdout\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">\n<html>\n...\n</html>\n\n\r\n\n\r\n–í—Ä–æ–¥–µ –±—ã —Å—Ä–∞–±–æ—Ç–∞–ª–æ, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∫–∞:\n\r\n\n\r\n\n$# ps auxf\nPID   USER     TIME  COMMAND\n    1 root      0:00 sh\n   14 root      0:00 ps auxf\n\n\r\n–ö–æ–º–∞–Ω–¥–∞ \nps\n –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ debugger –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã‚Ä¶ –¢–æ –µ—Å—Ç—å, –∫–æ–º–∞–Ω–¥–∞ \nkubectl debug\n –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª–∞ –º–Ω–µ –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ç–µ–≤–æ–º—É –Ω–µ–π–º—Å–ø–µ–π—Å—É –∏, –≤–æ–∑–º–æ–∂–Ω–æ, ipc, –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏–ª–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫ —Ç–æ–π –∂–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π cgroup, –∫–∞–∫ –∏ –¥—Ä—É–≥–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–¥–∞, –Ω–æ –Ω–∞ —ç—Ç–æ–º –≤—Å—ë. –ú–∞–ª–æ–≤–∞—Ç–æ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è ü§î\n\r\n\n\r\n\n\r\n\n\r\n–í–æ –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –ø–æ–¥–æ–º, –º–Ω–µ –±—ã —Ö–æ—Ç–µ–ª–æ—Å—å –≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤—Å–µ—Ö –µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –∞ —Ç–∞–∫–∂–µ –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏—Ö —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –¢–∞–∫ –º–æ–∂–µ—Ç –ª–∏ —ç—Ñ–µ–º–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—ã—Ç—å —á—É—Ç—å –±–æ–ª–µ–µ ¬´–ø—Ä–æ–Ω–∏–∫–∞—é—â–∏–º¬ª?\n\r\n\n\r\n\n–ò—Å–ø–æ–ª—å–∑—É–µ–º kubectl debug —Å –æ–±—â–∏–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º –∏–º–µ–Ω pid\n\r\n–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —á—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è \n—Å—Ä–∞–∑—É –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É\n–∏ –¥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ: –≤–∫–ª—é—á–µ–Ω–∏–µ –æ–±—â–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω pid –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø–æ–¥–∞. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –≤—ã—Å—Ç–∞–≤–∏–≤ —Å–≤–æ–π—Å—Ç–≤–æ shareProcessNamespace –≤ —à–∞–±–ª–æ–Ω–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–∞ –≤ true:\n\r\n\n\r\n\n$ kubectl patch deployment slim --patch '\nspec:\n  template:\n    spec:\n      shareProcessNamespace: true'\n\n\r\n\n\r\n–ü–æ—Å–º–æ—Ç—Ä–∏–º –≤–Ω—É—Ç—Ä—å —ç—Ñ–µ–º–µ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è:\n\r\n\n$ kubectl debug -it -c debugger --image=busybox \\\n  $(kubectl get pods -l app=slim -o jsonpath='{.items[0].metadata.name}')\n$# # ps auxf\nPID   USER     TIME  COMMAND\n    1 65535     0:00 /pause\n    7 root      0:00 python -m http.server 8080\n   19 root      0:00 /nodejs/bin/node -e setTimeout(() => console.log(\"done\"), 999999)\n   37 root      0:00 sh\n   49 root      0:00 ps auxf\n\n\r\n\n\r\n–£–∂–µ –≥–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ! –ú—ã –ø–æ–¥—Ö–æ–¥–∏–º –±–ª–∏–∂–µ –∫ –ø—Ä–æ—Ü–µ—Å—Å—É –æ—Ç–ª–∞–¥–∫–∏, –∫–æ–≥–¥–∞ –Ω–∞–º –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.\n\r\n\n\r\n\n\r\n\n\r\n–ù–æ –≤–æ—Ç —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –≤—Å–µ –µ—â—ë –Ω–µ –≤—Å—ë –≥–ª–∞–¥–∫–æ, –º—ã –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤–∏–¥–µ—Ç—å —Ñ–∞–π–ª—ã —Ç–æ–ª—å–∫–æ —ç—Ñ–µ–º–µ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ –Ω–µ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –¥—Ä—É–≥–æ–≥–æ. –ò —ç—Ç–æ –ª–æ–≥–∏—á–Ω–æ ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ –ø–æ–¥–µ –æ–±—ã—á–Ω–æ –∏–º–µ—é—Ç –æ–±—â–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ net, ipc –∏ uts, –º–æ–≥—É—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å pid, –Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ç–∞–Ω—É—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ mnt. –§–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –º—ã –±—ã –ø–æ–ª—É—á–∏–ª–∏ —Ö–∞–æ—Å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏.\n\r\n\n\r\n–ù–æ –≤—Å–µ-—Ç–∞–∫–∏ –¥–ª—è –¥–µ–±–∞–≥–∞ –º–Ω–µ –±—ã —Ö–æ—Ç–µ–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–∞–∫–æ–π –¥–æ—Å—Ç—É–ø‚Ä¶ \n\r\n\n\r\n–ß—Ç–æ –∂, –µ—Å—Ç—å –æ–¥–∏–Ω –ø—Ä–∏–µ–º—á–∏–∫:\n\r\n\n\r\n\n# –í–Ω—É—Ç—Ä–∏ —ç—Ñ–µ–º–µ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:\n$# ls /proc/$(pgrep python)/root/usr/bin\nc_rehash   getconf    iconv      locale     openssl    python     python3.9  zdump\ncatchsegv  getent     ldd        localedef  pldd       python3    tzselect\n\n$# ls /proc/$(pgrep node)/root/nodejs\nCHANGELOG.md  LICENSE       README.md     bin           include       share\n\n\r\n\n\r\n–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –∑–Ω–∞—è PID –≥–ª–∞–≤–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å, –º–æ–∂–Ω–æ –ø–æ–ø–∞—Å—Ç—å –≤ –µ–≥–æ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ –ø—É—Ç—å /proc//root –¥–µ–±–∞–∂–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞!\n\r\n\n\r\n–ù–∞—Å—Ç–æ—è—â–∞—è –º–∞–≥–∏—è! ü™Ñ‚ú®\n\r\n\n\r\n–ù–æ –∑–∞ –º–∞–≥–∏—é –Ω—É–∂–Ω–æ –ø–ª–∞—Ç–∏—Ç—å —Å–≤–æ—é —Ü–µ–Ω—É‚Ä¶ –°–º–µ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è shareProcessNamespace —Å—Ç–æ–∏–ª–æ –Ω–∞–º —Ä–æ–ª–ª-–∞—É—Ç–∞ –ø–æ–¥–∞!\n\r\n\n\r\n\n$ kubectl get replicasets -l app=slim\nNAME              DESIRED   CURRENT   READY   AGE\nslim-6d8c6578bc   1         1         1       119s\nslim-79487d6484   0         0         0       7m57s\n\n\r\n\n\r\n–ö–∞–∫ –∏ –¥—Ä—É–≥–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥–∞, –∏–∑–º–µ–Ω–µ–Ω–∏–µ shareProcessNamespace –≤–µ–¥–µ—Ç –∫ –µ–≥–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—é. –ê –µ–≥–æ —Å–º–µ–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —à–∞–±–ª–æ–Ω–∞ Deployment –≤—ã–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–æ–ª–ª-–∞—É—Ç, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –¥–æ—Ä–æ–≥–æ–π —Ü–µ–Ω–æ–π –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ –±—ã –º—ã –ø–æ—Å—á–∏—Ç–∞–ª–∏ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π —Å–µ—Å—Å–∏–µ–π. –ù–æ –¥–∞–∂–µ –µ—Å–ª–∏ –≤–∞–º –ø–æ–∫–∞–∂–µ—Ç—Å—è —ç—Ç–æ –ø—Ä–∏–µ–º–ª–µ–º—ã–º, –Ω–∞ –º–æ–π –≤–∑–≥–ª—è–¥, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Å–≤–æ–¥–∏—Ç –Ω–∞ –Ω–µ—Ç –≤–µ—Å—å —Å–º—ã—Å–ª —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —ç—Ñ–µ–º–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ ‚Äî —Å–∞–º–∞ –∏—Ö —Å—É—Ç—å –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∏—Ö –∫ –ø–æ–¥—É –±–µ–∑–±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ, –Ω–µ –≤—ã–∑—ã–≤–∞—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –≤ —Ä–∞–±–æ—Ç–µ.\n\r\n\n\r\n–ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –≤—Å–µ –≤–∞—à–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º shareProcessNamespace –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—á—Ç–æ –≤–æ–æ–±—â–µ-—Ç–æ –Ω–µ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è –∏–¥–µ—è, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Å–µ—Ä—å–µ–∑–Ω–æ –ø–æ–Ω–∏–∂–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏), –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—É—á—à–µ.\n\r\n\n\r\n\n–ò—Å–ø–æ–ª—å–∑—É–µ–º kubectl debug —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞\n\r\n–ï—Å–ª–∏ –æ–±—â–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ pid –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–µ –±—ã–ª–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ, —Ç–æ —É –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –Ω–µ–π–º—Å–ø–µ–π—Å pid, –∏, –∫–∞–∫ –º—ã –≤—ã—è—Å–Ω–∏–ª–∏, —ç—Ñ–µ–º–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —Å–º–æ–∂–µ—Ç –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.\n\r\n\n\r\n–û–¥–Ω–∞–∫–æ, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏, —É –Ω–∞—Å –æ—Å—Ç–∞–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –æ–±—â–∏–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º pid —Å –æ—Ç–¥–µ–ª—å–Ω–æ –≤–∑—è—Ç—ã–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º!\n\r\n\n\r\n–ü—Ä–æ —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–æ–∂–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ–µ –ø–æ—á–∏—Ç–∞—Ç—å –∑–¥–µ—Å—å: \n–ü—Ä–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –ø–æ–¥—ã\n\r\n\n\r\n\n–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è Kubernetes CRI\n —è–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –æ–± —ç—Ç–æ–º —É–ø–æ–º–∏–Ω–∞–µ—Ç (—ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –≤ —Ü–µ–ª–æ–º –æ—á–µ–Ω—å –∑–∞–Ω—è—Ç–Ω–æ–µ —á—Ç–∏–≤–æ, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é):\n\r\n\n\r\n\n// NamespaceOption provides options for Linux namespaces.\ntype NamespaceOption struct {\n  // Network namespace for this container/sandbox.\n  // Note: There is currently no way to set CONTAINER scoped network in the Kubernetes API.\n  // Namespaces currently set by the kubelet: POD, NODE\n  Network NamespaceMode `protobuf:\"varint,1,opt,name=network,proto3,enum=runtime.v1.NamespaceMode\" json:\"network,omitempty\"`\n  // PID namespace for this container/sandbox.\n  // Note: The CRI default is POD, but the v1.PodSpec default is CONTAINER.\n  // The kubelet's runtime manager will set this to CONTAINER explicitly for v1 pods.\n  // Namespaces currently set by the kubelet: POD, CONTAINER, NODE, TARGET\n  Pid NamespaceMode `protobuf:\"varint,2,opt,name=pid,proto3,enum=runtime.v1.NamespaceMode\" json:\"pid,omitempty\"`\n  // IPC namespace for this container/sandbox.\n  // Note: There is currently no way to set CONTAINER scoped IPC in the Kubernetes API.\n  // Namespaces currently set by the kubelet: POD, NODE\n  Ipc NamespaceMode `protobuf:\"varint,3,opt,name=ipc,proto3,enum=runtime.v1.NamespaceMode\" json:\"ipc,omitempty\"`\n  // Target Container ID for NamespaceMode of TARGET. This container must have been\n  // previously created in the same pod. It is not possible to specify different targets\n  // for each namespace.\n  TargetId             string   `protobuf:\"bytes,4,opt,name=target_id,json=targetId,proto3\" json:\"target_id,omitempty\"`\n}\n\n\r\n\n\r\n–ò –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –±–æ–ª–µ–µ –ø—Ä–∏—Å—Ç–∞–ª—å–Ω–æ –≤–∑–≥–ª—è–Ω—É–≤ –Ω–∞ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥—ã \nkubectl debug\n, –º—ã —É–≤–∏–¥–∏–º —Ñ–ª–∞–≥ \n--target\n, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —è —É–ø—É—Å—Ç–∏–ª:\n\r\n\n\r\n\n# –û–±–Ω–æ–≤–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é POD_NAME:\n$ POD_NAME=$(kubectl get pods -l app=slim -o jsonpath='{.items[0].metadata.name}')\n\n$ kubectl debug -it -c debugger --target=app --image=busybox ${POD_NAME}\n\n\r\n\n\r\n–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É ¬´app¬ª. –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–µ –≤–∏–¥–Ω—ã, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤–∞—à–µ–≥–æ container runtime.\n\r\n\n\r\n\n$# ps auxf\nPID   USER     TIME  COMMAND\n    1 root      0:00 python -m http.server 8080\n   13 root      0:00 sh\n   25 root      0:00 ps auxf\n\n\r\n\n\r\n–°–≤—è–∑–∫–∞ containerd + runc —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç üòä\n\r\n\n\r\n\n\r\n\n\r\n\n–ò—Å–ø–æ–ª—å–∑—É–µ–º kubectl debug —Å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ–¥–∞\n\r\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å \nkubectl debug\n —Å –æ–ø—Ü–∏–µ–π \n--target\n –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –ø–æ–¥–∞ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ —Å—Ç–∞–Ω–µ—Ç –º–æ–∏–º –ª—é–±–∏–º—ã–º —Å–ø–æ—Å–æ–±–æ–º, –Ω–æ –µ—Å—Ç—å –µ—â—ë –æ–¥–∏–Ω —Ä–µ–∂–∏–º, –ø—Ä–æ –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å.\n\r\n\n\r\n–í –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö, –ª—É—á—à–µ–π –∏–¥–µ–µ–π –±—É–¥–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ –∫–æ–ø–∏—é –Ω–∞—à–µ–≥–æ –ø–æ–¥–∞. –î–ª—è —ç—Ç–æ–π —Ü–µ–ª–∏ —Ç–æ–∂–µ –µ—Å—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ñ–ª–∞–≥ \n--copy-to <new-name>\n. –ù–æ–≤—ã–π –ø–æ–¥ –Ω–µ –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å –∏—Å—Ö–æ–¥–Ω–æ–º—É Deployment (–∏–ª–∏ StatefulSet/DaemonSet/Job), –∞ —Ç–∞–∫–∂–µ Service –Ω–µ –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –µ–≥–æ –ø—Ä–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤. –≠—Ç–æ –±—É–¥–µ—Ç ¬´—Ç–∏—Ö–∞—è¬ª –∫–æ–ø–∏—è –Ω–∞—à–µ–≥–æ –ø–æ–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.\n\r\n\n\r\n–ê —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∫–æ–ø–∏—è, –º—ã –º–æ–∂–µ–º –Ω–∞ –Ω–µ–π —Å–ø–æ–∫–æ–π–Ω–æ –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –∞—Ç—Ä–∏–±—É—Ç shareProcessNamespace, –Ω–µ –≤–ª–∏—è—è –Ω–∞ –±–æ–µ–≤–æ–π –ø–æ–¥. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ –µ—â—ë –æ–¥–Ω–æ–≥–æ —Ñ–ª–∞–≥–∞ \n--share-processes\n:\n\r\n\n\r\n\n$ kubectl debug -it -c debugger --image=busybox \\\n  --copy-to test-pod \\\n  --share-processes \\\n  ${POD_NAME}\n\n# All processes are here!\n$# ps auxf\nPID   USER     TIME  COMMAND\n    1 65535     0:00 /pause\n    7 root      0:00 python -m http.server 8080\n   19 root      0:00 /nodejs/bin/node -e setTimeout(() => console.log(\"done\"), 999999)\n   37 root      0:00 sh\n   49 root      0:00 ps auxf\n\n\r\n\n\r\n–í–æ—Ç —á—Ç–æ –º—ã —É–≤–∏–¥–∏–º –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã:\n\r\n\n\r\n\n$ kubectl get all\nNAME                        READY   STATUS    RESTARTS   AGE\npod/slim-79487d6484-h4rss   2/2     Running   0          63s\npod/test-pod                3/3     Running   0          20s\n\nNAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE\nservice/kubernetes   ClusterIP   10.96.0.1    <none>        443/TCP   11d\n\nNAME                   READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/slim   1/1     1            1           64s\n\nNAME                              DESIRED   CURRENT   READY   AGE\nreplicaset.apps/slim-79487d6484   1         1         1       64s\n\n\r\n\n\r\n\n–í –∫–∞—á–µ—Å—Ç–≤–µ –±–æ–Ω—É—Å–∞: —ç—Ñ–µ–º–µ—Ä–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –±–µ–∑ kubectl debug\n\r\n–ú–Ω–µ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —ç—Ñ–µ–º–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–µ–∑ kubectl, –ø–æ—ç—Ç–æ–º—É –ø–æ–¥–µ–ª—é—Å—å –∑–¥–µ—Å—å —Å–≤–æ–∏–º –æ–ø—ã—Ç–æ–º.\n\r\n\n\r\n\n\n                        \nüí° –ó–∞—á–µ–º –º–Ω–µ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ–µ–º–µ—Ä–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–µ —á–µ—Ä–µ–∑ kubectl debug?\n\n                        \n–ü–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞–º –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —á—É—Ç—å –±–æ–ª–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏. –ö –ø—Ä–∏–º–µ—Ä—É, —Å kubectl debug –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å —ç—Ñ–µ–º–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º —Ç–æ–º–æ–º (volume mount), –∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ API —ç—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–º–æ.\n\r\n\n\r\n\n\n                    \n\r\n–ß–µ—Ä–µ–∑ \nkubectl debug -v 8\n —è –≤—ã—è—Å–Ω–∏–ª, —á—Ç–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ API, —ç—Ñ–µ–º–µ—Ä–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫ –ø–æ–¥—É —á–µ—Ä–µ–∑ PATCH –Ω–∞ –∏—Ö –ø–æ–¥—Ä–µ—Å—É—Ä—Å /ephemeralcontainers. \n–í —Å—Ç–∞—Ç—å–µ 2019 –≥–æ–¥–∞\n —è –Ω–∞—à–µ–ª —Å–æ–≤–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É:\n\r\n\n\r\n\nkubectl replace --raw /api/v1/namespaces/<ns>/pods/<name>/ephemeralcontainers\n\n\r\n–Ω–æ —ç—Ç–æ –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Kubernetes –≤–µ—Ä—Å–∏–∏ 1.23 –∏ –≤—ã—à–µ. \n\r\n\n\r\n–í —Ü–µ–ª–æ–º, —è –Ω–µ –Ω–∞—à–µ–ª –Ω–∏ –æ–¥–Ω–æ–π kubectl –∫–æ–º–∞–Ω–¥—ã, –∫—Ä–æ–º–µ debug, –∫–æ—Ç–æ—Ä–∞—è –±—ã –ø–æ–∑–≤–æ–ª–∏–ª–∞ —Å–æ–∑–¥–∞—Ç—å —ç—Ñ–µ–º–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –ù–æ –≤–æ—Ç –ø—Ä–∏–º–µ—Ä —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —á–∏—Å—Ç—ã–º Kubernetes API:\n\r\n\n\r\n\n$ kubectl proxy\n\n$ POD_NAME=$(kubectl get pods -l app=slim -o jsonpath='{.items[0].metadata.name}')\n\n$ curl localhost:8001/api/v1/namespaces/default/pods/${POD_NAME}/ephemeralcontainers \\\n  -XPATCH \\\n  -H 'Content-Type: application/strategic-merge-patch+json' \\\n  -d '\n{\n    \"spec\":\n    {\n        \"ephemeralContainers\":\n        [\n            {\n                \"name\": \"debugger\",\n                \"command\": [\"sh\"],\n                \"image\": \"busybox\",\n                \"targetContainerName\": \"app\",\n                \"stdin\": true,\n                \"tty\": true,\n                \"volumeMounts\": [{\n                    \"mountPath\": \"/var/run/secrets/kubernetes.io/serviceaccount\",\n                    \"name\": \"kube-api-access-qnhvv\",\n                    \"readOnly\": true\n                }]\n            }\n        ]\n    }\n}'\n\n\r\n\n\r\n\n–ó–∞–∫–ª—é—á–µ–Ω–∏–µ\n\r\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—è–∂–µ–ª—ã–µ –æ–±—Ä–∞–∑—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Kubernetes —ç—Ç–æ –Ω–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (–≤—Å–µ –º—ã –≤—Å—Ç—Ä–µ—á–∞–ª–∏ —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ CI/CD, –∫–æ—Ç–æ—Ä—ã–µ –¥–ª—è—Ç—Å—è –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ) –∏ –Ω–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ (—á–µ–º –±–æ–ª—å—à–µ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –≤ –æ–±—Ä–∞–∑, —Ç–µ–º –≤—ã—à–µ —à–∞–Ω—Å—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–ø—Ä–∏—è—Ç–Ω—É—é —É—è–∑–≤–∏–º–æ—Å—Ç—å). –ü–æ—ç—Ç–æ–º—É –ø–æ–¥–∫–ª—é—á–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ ‚Äî —ç—Ç–æ –∫—Ä–∞–π–Ω–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –∏ —ç—Ñ–µ–º–µ—Ä–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ Kubernetes –Ω–∞–∫–æ–Ω–µ—Ü –¥–∞–ª–∏ –Ω–∞–º —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å.\n\r\n\n\r\n–ú–Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ –æ—á–µ–Ω—å –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É kubectl debug –ø–æ—Å–ª–µ –µ–µ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Ä–∞–Ω—å—à–µ –µ–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—ã–ª–∏ –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã). –ù–æ –∑–¥–µ—Å—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –∏ Kubernetes –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ. –ò–Ω–∞—á–µ –º–æ–∂–Ω–æ –Ω–∞—Ç–∫–Ω—É—Ç—å—Å—è –Ω–∞ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤, –∞ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∂–∏–≤—ã—Ö –ø–æ–¥–æ–≤.\n\r\n\n\r\n–ù–∞–¥–µ—é—Å—å, –¥–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è –ø–æ–º–æ–≥–ª–∞ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è debug-—Ç–µ—Ö–Ω–∏–∫–∞–º–∏ –∏ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤ –±—É–¥—É—â–µ–º. –£—Å–ø–µ—Ö–æ–≤!\n\r\n\n\r\n\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã\n\r\n\nKubernetes Documentation ‚Äî Ephemeral Containers.\n\r\n\nKubernetes Documentation ‚Äî Debugging with an ephemeral debug container.\n\r\n\nGoogle Open Source Blog ‚Äî Introducing Ephemeral Containers\n\r\n\nEphemeral Containers ‚Äî the future of Kubernetes workload debugging ‚Äî an early take (2019)\n\r\n\nUsing Kubernetes Ephemeral Containers for Troubleshooting\n\r\n\n\r\n\n–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –∫ –ø—Ä–æ—á—Ç–µ–Ω–∏—é\n\r\n\nContainers vs. Pods ‚Äî Taking a Deeper Look\n\r\n\nHow To Call Kubernetes API using Simple HTTP Client\n\r\n\nLinux PTY ‚Äî How docker attach and docker exec Commands Work Inside\n\r\n\n\r\n\n \n ",
    "tags": [
        "timeweb_—Å—Ç–∞—Ç—å–∏_–ø–µ—Ä–µ–≤–æ–¥",
        "kubernetes",
        "–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã",
        "API",
        "PATCH",
        "pid",
        "CI/CD",
        "kubectl",
        "Service",
        "Deployment"
    ]
}