{
    "article_id": "727788",
    "article_name": "Swift async/await. –ß–µ–º –æ–Ω –ª—É—á—à–µ GCD?",
    "content": "–ü—Ä–æ–º–ø—Ç: –ò–∫–æ–Ω–∫–∞ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è swift –Ω–∞ —á–µ—Ä–Ω–æ–º —Ñ–æ–Ω–µ\n–ü—Ä–æ—à–ª–æ —É–∂–µ –±–æ–ª—å—à–µ –≥–æ–¥–∞ —Å –º–æ–º–µ–Ω—Ç–∞ –≤—ã–ø—É—Å–∫–∞ async/await. –ú–Ω–æ–≥–∏–µ –∫—Ä—É–ø–Ω—ã–µ –∏ –Ω–µ –æ—á–µ–Ω—å –ø—Ä–æ–µ–∫—Ç—ã —É–∂–µ —É—Å–ø–µ–ª–∏ –ø–æ–¥–Ω—è—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–æ iOS 13, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–∫—Ä—ã–ª–∞—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —è–∑—ã–∫–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–º –∫–æ–¥–æ–º. –ù–æ –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –Ω–∞—á–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –∏/–∏–ª–∏ –ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤—É—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é –≤ –≥–æ–ª–æ–≤–µ –Ω–µ–≤–æ–ª—å–Ω–æ –≤—Å–ø–ª—ã–≤–∞–µ—Ç –≤–æ–ø—Ä–æ—Å: \"–ê –∑–∞—á–µ–º? –ß–µ–º —ç—Ç–æ –ª—É—á—à–µ —Ç–æ–≥–æ –∂–µ GCD?\". –í —ç—Ç–æ–π –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–µ –∏–∑ —Å–µ—Ä–∏–∏ –ø–æ async/await –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –≤–º–µ—Å—Ç–µ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å.\n–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ\n–ß—Ç–æ —Ç–∞–∫–æ–µ swift async/await\n–ö—Ç–æ —Ç–∞–∫–∞—è —ç—Ç–∞ –≤–∞—à–∞ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å\n–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ async/await\n–ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ async/await\n–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã\n–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã\n–ò—Ç–æ–≥–∏\n–ß—Ç–æ —Ç–∞–∫–æ–µ swift async/await\nSwift async/await - —ç—Ç–æ –Ω–æ–≤–∞—è —Ñ–∏—á–∞ —è–∑—ã–∫–∞, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –≤ swift 5.5. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ. –ß–µ–º —ç—Ç–æ –ª—É—á—à–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–º –∫–æ–¥–æ–º - —Ä–∞–∑–±–µ—Ä–µ–º—Å—è –≤ —ç—Ç–æ–π —á–∞—Å—Ç–∏.\n–ö—Ç–æ —Ç–∞–∫–∞—è —ç—Ç–∞ –≤–∞—à–∞ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å\n–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø–æ–≥—Ä—É–∑–∏—Ç—Å—è –≤ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–º –∫–æ–¥–æ–º –æ—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ –Ω–∞–ø–æ–º–Ω—é —á—Ç–æ –≤–æ–æ–±—â–µ —Ç–∞–∫–æ–µ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å.\n–í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –º—ã –ø–∏—à–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥. \nStatements\n –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É—é—Ç –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–∞–∫ –∂–µ –∫–∞–∫ –º—ã –∏—Ö –∏ –Ω–∞–ø–∏—Å–∞–ª–∏ –≤ –∫–æ–¥–µ, \n–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º\n. \n–ù–∞–ø—Ä–∏–º–µ—Ä –∫–æ–¥:\nfunc printCucumbers() {\n  for _ in 0..<100 {\n    print(\"ü•í\")\n  }\n}\n\nprintCucumbers()\n\nfor _ in 0..<100 {\n  print(\"üçÖ\")\n}\n–í—ã–≤–µ–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å —Å–ª–µ–¥—É—é—â–µ–µ:\nü•í\nü•í\n... –µ—â–µ 98 –æ–≥—É—Ä—Ü–æ–≤ ...\nüçÖ\nüçÖ\n... –µ—â–µ 98 –ø–æ–º–∏–¥–æ—Ä–æ–≤ ...\n–ù–∞—à –∫–æ–¥ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –Ω–∞ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ –æ–¥–Ω–æ–≥–æ —è–¥—Ä–∞. –í—ã–ø–æ–ª–Ω–∏–ª—Å—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ —Ç–æ–º—É –∫–∞–∫ –º—ã —ç—Ç–æ—Ç –∫–æ–¥ –∏ –ø—Ä–æ—á–∏—Ç–∞–ª–∏. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑. –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ —Å–ª–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç—è–∂–µ–ª—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ (—Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π/–≤–∏–¥–µ–æ), —Ç–∞–∫ –∫–∞–∫ —Ç—è–∂–µ–ª–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫, –∏ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –≤—ã–Ω—É–∂–¥–µ–Ω—ã –∂–¥–∞—Ç—å –µ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è. –í —Å–ª—É—á–∞–µ –º–æ–±–∏–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –µ—Å–ª–∏ –±—ã –º—ã —Ä–∞–±–æ—Ç–∞–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —Ç–æ —É –Ω–∞—Å –±—ã –≤–µ—á–Ω–æ —Ñ—Ä–∏–∑–∏–ª –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —á—Ç–æ –Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞.\n–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å - —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ –∫–æ–¥—É –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–¥—Ä–∞—Ö, —Ç–∞–∫ –∏ —Å–∏–º—É–ª—è—Ü–∏–µ–π —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ –æ–¥–Ω–æ–º —è–¥—Ä–µ. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –Ω–∞–º –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —Ç–∫ –º—ã –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏—Ö –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö.\n–ù–µ–º–Ω–æ–≥–æ –≤–∏–¥–æ–∏–∑–º–µ–Ω—é –ø—Ä–∏–º–µ—Ä:\nfunc printCucumbers() {\n  DispatchQueue.global().async {\n    for _ in 0..<100 {\n      print(\"ü•í\")\n    }\n  }\n}\n\nprintCucumbers()\n\nfor _ in 0..<100 {\n  print(\"üçÖ\")\n}\n–ü—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –º—ã —É–≤–∏–¥–∏–º –≤ –∫–æ–Ω—Å–æ–ª–∏:\nüçÖ\nüçÖ\nüçÖ\nü•í\nüçÖ\nüçÖ\nü•í\nü•í\n... –ë–µ—Å–ø–æ—Ä—è–¥–æ—á–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–≥—É—Ä—Ü–æ–≤ –∏ –ø–æ–º–∏–¥–æ—Ä–æ–≤ ...\n–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è \nprintCucumbers()\n –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –ø–æ—Ç–æ–∫–µ. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –º—ã —Ç–µ–ø–µ—Ä—å \n–Ω–µ\n –≤–∏–¥–∏–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ 100 –æ–≥—É—Ä—Ü–æ–≤ –∏ –ø–æ–º–∏–¥–æ—Ä–æ–≤. –û–Ω–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –±–µ—Å–ø–æ—Ä—è–¥–æ—á–Ω–æ (–Ω–∞—á–∏–Ω–∞—è —Å –ø–æ–º–∏–¥–æ—Ä–æ–≤), —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º —á—Ç–æ —Ü–∏–∫–ª—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è \n–≤ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö. \n–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å —Ç—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—è —Ç–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫.\n–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ async/await\nAsync/await –ø–æ—è–≤–∏–ª—Å—è –≤ swift 5.5. –î–æ —ç—Ç–æ–≥–æ –∏ –ø–æ —Å–µ–π –¥–µ–Ω—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–¥–∞ –≤ –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Grand Central Dispatch (GCD), Operation –∏ Thread –∫–∞–∫ –æ–±–µ—Ä—Ç–∫–∏ –Ω–∞–¥ pthread (–∫–æ—Ç–æ—Ä—ã–º —Ç–æ–∂–µ –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é).\n–†–∞–±–æ—Ç–∞ —Å Thread –∏ pthread —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–∞, –≤–µ–¥—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Ç–æ–∫–∞–º–∏ –∏ —Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –∑–∞–¥–∞—á –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ —ç—Ç–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö. –ò –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ–ø—É—Å—Ç–∏—Ç—å –æ—à–∏–±–∫—É –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç. –° operation —É–∂–µ –ª–µ–≥—á–µ, —Ç–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –æ—á–µ—Ä–µ–¥–∏ –∏–∑ –∫–æ—Ä–æ–±–∫–∏, –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Ç–æ–∫–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é. –ù–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å \n–æ–ø–µ—Ä–∞—Ü–∏–π\n –∑–∞—á–∞—Å—Ç—É—é –∏–∑–±—ã—Ç–æ—á–Ω–∞. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ —á–∞—â–µ –≤—Å–µ–≥–æ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç GCD, —Ç–∫ —ç—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–∑ –≤—Å–µ–≥–æ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ. –ù–æ –∏ –æ–Ω –Ω–µ –ª–∏—à–µ–Ω –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤.\n–ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ async/await \n–í—Å–µ –Ω–∏–∂–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å –≤–Ω–µ–¥—Ä–∏–≤ async/await. –†–∞–∑–¥–µ–ª—é –∏—Ö –Ω–∞ 2 –ø–æ–¥–≥—Ä—É–ø–ø—ã:\n–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ - –ø—Ä–æ–±–ª–µ–º—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —è–∑—ã–∫–∞. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ª—é–¥–µ–π –ø—Ä–∏–≤—ã–∫–ª–æ —á–∏—Ç–∞—Ç—å —Ç–µ–∫—Å—Ç —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, —á—Ç–µ–Ω–∏–µ –∫–æ–¥–∞ - –Ω–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. –ß–∏—Ç–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–æ—â–µ, —á–µ–º –≤–Ω–∏–∫–∞—Ç—å –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞ –∑–∞–º—ã–∫–∞–Ω–∏–π –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ\n–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ - –ø—Ä–æ–±–ª–µ–º—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ–∫—É—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é \n–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã\n1) Pyramid of doom\n–†–∞–±–æ—Ç–∞—è —Å GCD –≤ swift –º—ã –æ–ø–µ—Ä–∏—Ä—É–µ–º –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏. –ö –ø—Ä–∏–º–µ—Ä—É –º—ã –ø–µ—Ä–µ–¥–∞–µ–º \ncompletionHandler\n –∑–∞–º—ã–∫–∞–Ω–∏–µ –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–± –æ–Ω–æ –≤—ã–∑–≤–∞–ª–æ—Å—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä –º—ã —Ö–æ—Ç–∏–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ —Å–µ—Ç–∏:\nfunc loadImage(\n  from url: URL, \n  completionHandler: @escaping (UIImage) -> Void\n) {\n  // ...\n}\n\nloadImage(from: URL) { image in\n  self.imageView.image = image\n}\n–ù–æ —á–∞—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∫–∞–∫-—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ò –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–∫ –∂–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º –ø–æ—Ç–æ–∫–µ (–Ω–µ –±–ª–æ–∫–∏—Ä—É—è –ø–æ—Ç–æ–∫ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏), —Ç–æ –∏–∑ —ç—Ç–æ–≥–æ –≤—ã—Ä–æ–∂–¥–∞–µ—Ç—Å—è \npyramid of doom\n. –î–æ–ø–æ–ª–Ω—é –ø—Ä–∏–º–µ—Ä:\nfunc loadImage(\n  from url: URL, \n  completionHandler: @escaping (UIImage) -> Void\n) {\n  // ...\n}\n\nfunc applyBlurFilter(\n  to image: UIImage, \n  completionHandler: @escaping (UIImage) -> Void\n) {\n  // ...\n}\n\nfunc cacheToDisk(\n  _ image: UIImage, \n  completionHandler: @escaping () -> Void\n) {\n  // ...\n}\n\nfunc loadAndProcessImage(\n  from url: URL, \n  completionHandler: @escaping (UIImage) -> Void\n) {\n  loadImage(from: url) { image in\n    applyBlurFilter(to: image) { blurredImage in\n      completionHandler(blurredImage)\n      cacheToDisk(image) {\n        print(\"Image cached\")\n      }\n    }\n  }\n}\n\n–¢–µ–ø–µ—Ä—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ —Ç–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ —Å–µ—Ç–∏, –Ω–∞ –Ω–µ–≥–æ –≤ –¥–æ–±–∞–≤–æ–∫ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä –∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫. –í—Å–µ —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–æ—Ç–æ–∫ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏, –ø–æ—ç—Ç–æ–º—É —É –Ω–∞—Å –æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä–∞—è –∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è \npyramid of doom\n. –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∑–¥–µ—Å—å - —ç—Ç–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è —Ç–∞–∫–æ–≥–æ –∫–æ–¥–∞. –ù–æ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å —á—Ç–æ —ç—Ç–æ –µ—â–µ –Ω–µ —Å–∞–º—ã–π –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä.\n2) –ù–µ—É–¥–æ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫\n–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–π –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä –ª–∏—à–µ–Ω –æ–¥–Ω–æ–≥–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ - –≤ –Ω–µ–º –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫. –î–æ—Ä–∞–±–æ—Ç–∞—é —ç—Ç–æ —É–ø—É—â–µ–Ω–∏–µ:\nfunc loadImage(\n  from url: URL, \n  completionHandler: @escaping (Result<UIImage, Error>) -> Void\n) {\n  // ...\n}\n\nfunc applyBlurFilter(\n  to image: UIImage, \n  completionHandler: @escaping (Result<UIImage, Error>) -> Void\n) {\n  // ...\n}\n\nfunc cacheToDisk(\n  _ image: UIImage, \n  completionHandler: @escaping (Result<Void, Error>) -> Void\n) {\n  // ...\n}\n\nfunc loadAndProcessImage(\n  from url: URL,\n  completionHandler: @escaping (Result<UIImage, Error>) -> Void\n) {\n  loadImage(from: url) { result in\n    switch result {\n    case .success(let image):\n      applyBlurFilter(to: image) { result in\n        switch result {\n        case .success(let blurredImage):\n          completionHandler(.success(blurredImage))\n          cacheToDisk(blurredImage) { result in\n            switch result {\n            case .success:\n              print(\"Image cached\")\n              completionHandler(.success(blurredImage))\n            case .failure(let failure):\n              completionHandler(.failure(failure))\n            }\n          }\n        case .failure(let failure):\n          completionHandler(.failure(failure))\n        }\n      }\n    case .failure(let failure):\n      completionHandler(.failure(failure))\n    }\n  }\n}\n–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ –Ω–∞—à–µ–π —Ü–µ–ø–æ—á–∫–∏ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–¥—É–ª–∞ –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ –µ—â–µ —Å–∏–ª—å–Ω–µ–π —É—Å—É–≥—É–±–∏–ª–æ –ø—Ä–æ–±–ª–µ–º—É \npyramid of doom\n. –í–Ω–∏–∫–Ω—É—Ç—å –≤ –¥–∞–Ω–Ω—ã–π –∫–æ–¥ –±–µ–∑ –º–æ–Ω–æ–∫–ª—è —É–∂–µ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ \nResult\n –º—ã —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ –ø–∏—à–µ–º —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–æ–¥. –ë—ã–ª–æ –±—ã —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ \ndo/try/catch\n, –∫ —Ç–æ–º—É –∂–µ swift –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –ø–∏—Å–∞—Ç—å throwing –∑–∞–º—ã–∫–∞–Ω–∏—è, –Ω–æ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –¥–æ –µ–≥–æ –≤—ã–∑–æ–≤–∞. –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ completionHandler'–æ–≤ –º—ã –Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å \ndo/try/catch\n. –í —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∂–µ —Ñ—É–Ω–∫—Ü–∏—è—Ö —É –Ω–∞—Å –Ω–µ—Ç —Ç–∞–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω–æ–π —è–∑—ã–∫–æ–≤–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –≤–µ—Å—å–º–∞ —É–¥–æ–±–Ω–æ.\n3) –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —Å–æ–≤–µ—Ä—à–∞—Ç—å –æ—à–∏–±–∫–∏ —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏\n–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø—Ä–∏—Å—Ç–∞–ª—å–Ω–æ —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–µ–º —á—Ç–æ–± –∑–∞—è–≤–ª–µ–Ω–Ω—ã–µ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å. –ï—Å–ª–∏ –≤ —Ç–µ–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ \nfunc getBool() -> Bool\n –Ω–µ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–Ω—ã–π \nBool\n - –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è. –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç \nreturn\n –¥–≤–∞–∂–¥—ã - –ø—Ä–æ–±–ª–µ–º–Ω–∞—è —Å—Ç—Ä–æ—á–∫–∞ –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—Å—è. –í —Å–ª—É—á–∞–µ —Å completionHandler'–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω —Å–ª–µ–¥–∏—Ç—å –∑–∞ –≤—ã–∑–æ–≤–æ–º –∑–∞–º—ã–∫–∞–Ω–∏–π, –∏ –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –º–æ–≥—É—Ç –≤—Å–ø–ª—ã—Ç—å –æ—à–∏–±–∫–∏.\n–î–∞–≤–∞–π—Ç–µ –≤–µ—Ä–Ω–µ–º—Å—è –∫ –Ω–∞—à–µ–º—É –ø—Ä–∏–º–µ—Ä—É. –í –Ω–µ–º –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –¥–æ–ø—É—â–µ–Ω–∞ –æ—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ–µ –Ω–∞–π—Ç–∏.\nfunc loadAndProcessImage(\n  from url: URL,\n  completionHandler: @escaping (Result<UIImage, Error>) -> Void\n) {\n  loadImage(from: url) { result in\n    switch result {\n    case .success(let image):\n      applyBlurFilter(to: image) { result in\n        switch result {\n        case .success(let blurredImage):\n          completionHandler(.success(blurredImage))\n          cacheToDisk(blurredImage) { result in\n            switch result {\n            case .success:\n              print(\"Image cached\")\n              completionHandler(.success(blurredImage))\n            case .failure(let failure):\n              completionHandler(.failure(failure))\n            }\n          }\n        case .failure(let failure):\n          completionHandler(.failure(failure))\n        }\n      }\n    case .failure(let failure):\n      completionHandler(.failure(failure))\n    }\n  }\n}\n–í–æ–∑–≤—Ä–∞—â–∞—è—Å—å –∫ –ø—Ä–æ–±–ª–µ–º–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏, –¥—É–º–∞—é –≤—ã –ø—Ä–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏ —á—Ç–æ –∏—Å–∫–∞—Ç—å –Ω–µ–¥–æ—á–µ—Ç—ã –≤ —Ç–∞–∫–æ–º –∫–æ–¥–µ –µ—â–µ —Å–ª–æ–∂–Ω–µ–µ —á–µ–º –ø—Ä–æ—Å—Ç–æ –µ–≥–æ —á–∏—Ç–∞—Ç—å.\n–¢–µ–ø–µ—Ä—å –æ–± –æ—à–∏–±–∫–µ. –í –∑–∞–º—ã–∫–∞–Ω–∏–∏ —É —Ñ—É–Ω–∫—Ü–∏–∏ \napplyBlurFilter(to: image)\n –ø—Ä–∏ \ncase .success(let blurredImage)\n –º—ã –≤—ã–∑—ã–≤–∞–µ–º \ncompletionHandler(.success(blurredImage))\n. –ù–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã –ø—ã—Ç–∞–µ–º—Å—è –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à–µ –∑–∞–±–ª—é—Ä–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ \ncacheToDisk(blurredImage)\n, –∏ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤–Ω—É—Ç—Ä–∏ –∑–∞–º—ã–∫–∞–Ω–∏—è –º—ã —Å–Ω–æ–≤–∞ –≤—ã–∑—ã–≤–∞–µ–º \ncompletionHandler\n. –ï—Å–ª–∏ –±—ã —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∫–∞–∫–æ–π-–ª–∏–±–æ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ç–æ —Ç–∞–º –±—ã —è–≤–Ω–æ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –ø–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∫–æ–º–ø–ª–∏—à–µ–Ω–∞. –û—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Å–Ω–∞—á–∞–ª–∞ –º—ã –≤—ã–∑–≤–∞–ª–∏ –µ–≥–æ —Å \n.success\n, –∞ –ø–æ—Ç–æ–º —Å \n.failure\n. \n–î–ª—è —Ä–µ—à–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞–º –Ω—É–∂–Ω–æ —É–±—Ä–∞—Ç—å –≤—ã–∑–æ–≤ \ncompletionHandler\n –∏–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ \napplyBlurFilter\n, –∏–ª–∏ –µ—Å–ª–∏ –º—ã –Ω–µ —Ö–æ—Ç–∏–º –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —á—Ç–æ–± –≤–µ—Ä–Ω—É—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ - –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –æ–±–∞ –≤—ã–∑–æ–≤–∞ \ncompletionHandler\n –∏–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ \ncacheToDisk\n.\n–ü—Ä–∏–º–µ—Ä –Ω–∞ async/await\n–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, —Ç–æ–ª—å–∫–æ –Ω–∞–ø–∏—Å–∞–Ω–Ω—É—é —Å –ø–æ–º–æ—â—å—é async/await, —á—Ç–æ–± –Ω–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø—Ä–∏–º–µ—Ä–æ–º —É–≤–∏–¥–µ—Ç—å –Ω–∞—Å–∫–æ–ª—å–∫–æ –≤—Å–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª—É—á—à–µ.\n–ü–æ–∫–∞ –Ω–µ –±—É–¥–µ–º –∞–∫—Ü–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ–º –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ–± —ç—Ç–æ–º –ø–æ–≥–æ–≤–æ—Ä–∏–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —á–∞—Å—Ç—è—Ö —Å–µ—Ä–∏–∏, —Å–µ–π—á–∞—Å –∂–µ –ø—Ä–æ—Å—Ç–æ —Å—Ä–∞–≤–Ω–∏–º.\nfunc loadImage(from url: URL) async throws -> UIImage { /* ... */ }\nfunc applyBlurFilter(to image: UIImage) async throws -> UIImage { /* ... */ }\nfunc cacheToDisk(_ image: UIImage) async throws { /* ... */ }\n\nfunc loadAndProcessImage(from url: URL) async throws -> UIImage {\n  let image = try await loadImage(from: url)\n  let blurredImage = try await applyBlurFilter(to: image)\n  try await cacheToDisk(blurredImage)\n  return blurredImage\n}\n–ò –Ω–∞—à–∞ –∂–∞–±–∞ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∞—Å—å –≤ –ø—Ä–∏–Ω—Ü–µ—Å—Å—É. –†–µ–∑—é–º–∏—Ä—É–µ–º —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:\n–£–¥–æ–±–Ω–æ —á–∏—Ç–∞—Ç—å. –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ\n–£–¥–æ–±–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ—à–∏–±–∫–∞–º–∏. –ú–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ \ndo/try/catch\n –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏\n–ö–∞–∫ –∏ —Å –æ–±—ã—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ç–µ–ø–µ—Ä—å –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç —Å–ª—É—á–∞—è –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç \nreturn\n, –ª–∏–±–æ –≤—ã–∑—ã–≤–∞–µ—Ç –µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –æ–¥–Ω–æ–π –≤–µ—Ç–≤–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è. –í—Å–µ –∫–∞–∫ –∏ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ \n–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã\n1) Thread explosion\n–†–∞–±–æ—Ç–∞—è —Å GCD –º—ã \n–Ω–µ\n –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ–º —Å –ø–æ—Ç–æ–∫–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é. –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –Ω–∏–º–∏ —Å –ø–æ–º–æ—â—å—é –æ—á–µ—Ä–µ–¥–µ–π. –ï—Å–ª–∏ –ø–æ–º–µ—â–∞—Ç—å –≤ –æ—á–µ—Ä–µ–¥–∏ –º–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–æ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –∑–∞–¥–∞—á (–∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ª–æ–∫–∏, sync –∏–ª–∏ sleep), —Ç–æ GCD –Ω–µ —Ö–≤–∞—Ç–∏—Ç –ø–æ—Ç–æ–∫–æ–≤ –∏–∑ –µ–≥–æ –ø—É–ª–ª–∞, –∏ –æ–Ω –Ω–∞—á–Ω–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ. –ü—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤ —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–µ–¥–ª–µ–Ω–Ω–µ–π, —Ç–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏ (\ncontext switch\n) - —ç—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∞—è –∑–∞–¥–∞—á–∞.\n–ù–æ–≤–∞—è –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç—ã —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–∫–æ–π async/await –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—Ç –ø–æ–Ω—è—Ç–∏–π –ø–æ—Ç–æ–∫–æ–≤ –∏ –æ—á–µ—Ä–µ–¥–µ–π. –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è \nCooperative Thread Pull\n, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –≤—Å—é –ª–æ–≥–∏–∫—É –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø–æ—Ç–æ–∫–∞–º–∏ –∏ –æ—á–µ—Ä–µ–¥—è–º–∏. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –±–ª–∏–∑–∫–æ–µ –∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —è–¥–µ—Ä, —á—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º—É –æ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∫–æ–¥ –º–æ–∂–µ—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞ –∑–∞—Ä–∞–Ω–µ–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é \nawait\n), –∏ –∑–∞—Ç–µ–º –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è. –¢–æ –µ—Å—Ç—å –ø–æ—Ç–æ–∫ —Ç–µ–ø–µ—Ä—å \"–∞–∫—Ç–∏–≤–Ω–æ –æ–∂–∏–¥–∞–µ—Ç\" –≤—ã–ø–æ–ª–Ω—è—è –∫–∞–∫—É—é-—Ç–æ –¥—Ä—É–≥—É—é –ø–æ–ª–µ–∑–Ω—É—é —Ä–∞–±–æ—Ç—É.\n–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ. –ù–∞—á–Ω–µ–º —Å–æ —Å—Ç–∞—Ä–æ–≥–æ –¥–æ–±—Ä–æ–≥–æ GCD. –ó–∞–ø—É—Å—Ç–∏–º –≤–æ—Ç —Ç–∞–∫—É—é —Ä–µ—Å—É—Ä—Å–æ–∑–∞—Ç—Ä–∞—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤.\nfunc gcdThreadPullTest() {\n  for i in 1...100 {\n    DispatchQueue.global(qos: .default).async {\n      for n in 1...10000 {\n        let a = i * n\n      }\n      sleep(2)\n      for n in 1...10000 {\n        let a = i * n\n      }\n    }\n  }\n}\n–ù–∞ –º–æ–µ–π –º–∞—à–∏–Ω–µ –≤—ã—à–ª–æ \n67 –ø–æ—Ç–æ–∫–æ–≤\n.\n–í—Å–µ –ø–æ—Ç–æ–∫–∏ –Ω–µ –≤–ª–µ–∑–ª–∏ –≤ —Å–∫—Ä–∏–Ω\n–ü–µ—Ä–µ–ø–∏—à–µ–º —ç—Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ async/await —Å—Ç–∏–ª—å –∏ —É–±–µ–¥–∏–º—Å—è –≤ —Ç–æ–º —á—Ç–æ –ø–æ—Ç–æ–∫–∏ –Ω–µ –ø–ª–æ–¥—è—Ç—Å—è –∫–∞–∫ —Ö–æ–º—è—á–∫–∏:\nfunc cooperativePoolTest() async {\n  await withTaskGroup(of: Void.self) { group in\n    for i in 1...100 {\n      group.addTask {\n        for n in 1...10000 {\n          let a = i * n\n        }\n        try? await Task.sleep(nanoseconds: 2_000_000_000)\n        for n in 1...10000 {\n          let a = i * n\n        }\n      }\n    }\n  }\n}\n–û–ø—è—Ç—å –∂–µ –Ω–µ –±—É–¥–µ–º –≤–Ω–∏–∫–∞—Ç—å –≤ —Ç–æ–Ω–∫–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –≤ —ç—Ç–æ–π —á–∞—Å—Ç–∏. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á—Ç–æ —Ç—É—Ç —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —Ç–∞–∫ —ç—Ç–æ —Ç–æ —á—Ç–æ –º–µ—Ç–æ–¥ \nTask.sleep(nanoseconds: 2_000_000_000)\n –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫ –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç \nsleep\n –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞. –ù–∞ iPhone 12 pro –ø–æ–ª—É—á–∏–ª–æ—Å—å 6 –ø–æ—Ç–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é –æ–¥–Ω–æ–π concurrent cooperative queue.\niPhone 12 Pro\n–ù–∞ iPhone SE –ø–µ—Ä–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–ª–∞ 2 –ø–æ—Ç–æ–∫–∞.\niPhone SE\n–ù–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ –≤–æ–æ–±—â–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ serial –æ—á–µ—Ä–µ–¥—å —Å –æ–¥–Ω–∏–º –ø–æ—Ç–æ–∫–æ–º. \nSimulator\n–î–∞–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –Ω–∞–º, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç —Ä–∞–∑–Ω–æ–µ –∫–æ–ª-–≤–æ –ø–æ—Ç–æ–∫–æ–≤. –ò –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ —Å–∞–º–∞ —Å–ø–æ—Å–æ–±–Ω–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –±–µ–∑ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è Thread Explosion.\n2) Deadlock\n–ï—Å–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏–º–µ–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –æ—á–µ—Ä–µ–¥—è–º–∏ –Ω–∞–ø—Ä—è–º—É—é, —Ç–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –º–æ–∂–µ—Ç –≤—Å–ø–ª—ã—Ç—å –µ—â–µ –æ–¥–Ω–∞ –Ω–µ–ø—Ä–∏—è—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º deadlock (–≤–∑–∞–∏–º–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞).\n–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ:\noverride func viewDidLoad() {\n  super.viewDidLoad()\n\n  DispatchQueue.main.sync {\n    // ...\n  }\n}\n–í –¥–∞–Ω–Ω–æ–º –∫–æ–¥–µ –Ω–∞—Ö–æ–¥—è—Å—å –≤ main –ø–æ—Ç–æ–∫–µ –º—ã –ø—ã—Ç–∞–µ–º—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–∫–æ–π-—Ç–æ –±–ª–æ–∫ –∫–æ–¥–∞. Main Queue - serial (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è). Serial queue –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞—Å–∫–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ, –≤—ã–∑–æ–≤ \nsync\n –∂–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â—É—é –æ—á–µ—Ä–µ–¥—å –¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –ø–æ–∫–∞ –Ω–µ –¥–æ–∂–¥–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Ç–∞—Å–∫–∏. –ò –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é –Ω–µ –¥–æ–∂–¥–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –∏–∑-–∑–∞ —Ç–æ–≥–æ —á—Ç–æ –æ—á–µ—Ä–µ–¥—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ sync –æ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é –µ–π —Ç–∞—Å–∫—É. –¢–∞—Å–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è –ø–æ–∫–∞ –æ—á–µ—Ä–µ–¥—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞, –∞ –æ—á–µ—Ä–µ–¥—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–∫–∞ —Ç–∞—Å–∫–∞ –Ω–µ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è. –ü–æ–ª—É—á–∏–ª—Å—è –∑–∞–º–∫–Ω—É—Ç—ã–π –∫—Ä—É–≥ –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–∞–∑–æ–º–∫–Ω–µ—Ç—Å—è. –î–∞–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è main –æ—á–µ—Ä–µ–¥–∏, –Ω–æ –∏ –¥–ª—è –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏. –í–∑–∞–∏–º–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –º–æ–≥—É—Ç —Ç–∞–∫ –∂–µ 2 —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞, –µ—Å–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ—Å—É—Ä—Å—ã –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –æ–¥–Ω–æ –≤—Ä–µ–º—è –∏ –≤–º–µ—Å—Ç–µ –±—É–¥—É—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –∂–¥–∞—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.\n–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å async/await, —Ç–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è deadlock'–∞ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è, –≤–µ–¥—å –≤—Å—é —Ä–∞–±–æ—Ç—É —Å –ø–æ—Ç–æ–∫–∞–º–∏ –∏ –æ—á–µ—Ä–µ–¥—è–º–∏ —Ç–µ–ø–µ—Ä—å –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–∞.\n3) Priority inversion\n–î–∞–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –∑–∞–¥–∞—á–∞ —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –º–æ–∂–µ—Ç –æ–∂–∏–¥–∞—Ç—å –∑–∞–¥–∞—á—É —Å –±–æ–ª–µ–µ –Ω–∏–∑–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º, —á—Ç–æ –∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–≤–µ—Ä—Å–∏–µ–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤. –ò –¥–∞, –¥–∞–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —á–∞—â–µ –≤—Å–µ–≥–æ —Ç–æ–∂–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ —Ç–æ–≥–æ —á—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∞–º —Ä–∞–∑–º–µ—â–∞–µ—Ç –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥—è—Ö. –í–µ—Ä–Ω–µ–º—Å—è –∫ –æ–≥—É—Ä—Ü–∞–º –∏ –ø–æ–º–∏–¥–æ—Ä–∞–º –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä:\nfunc printCucumbers() {\n  for _ in 0..<7 {\n    print(\"ü•í\")\n  }\n}\n\nfunc printTomatos() {\n  for _ in 0..<7 {\n    print(\"üçÖ\")\n  }\n}\n\nfunc priorityInversionDemo() {\n  let userInteractiveQueue = DispatchQueue(label: \"com.demo.userInteractive\", qos: .userInteractive)\n  let userInitiatedQueue = DispatchQueue(label: \"com.demo.userInitiated\", qos: .userInitiated)\n  let backgroundQueue = DispatchQueue(label: \"com.demo.background\", qos: .background)\n\n  userInteractiveQueue.async {\n    backgroundQueue.async {\n      printCucumbers()\n    }\n\n    userInitiatedQueue.async {\n      printTomatos()\n    }\n  }\n}\n–ï—Å—Ç—å 2 —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–≤–æ–¥—è—Ç –≤ –∫–æ–Ω—Å–æ–ª—å –æ–≥—É—Ä—Ü—ã –∏ –ø–æ–º–∏–¥–æ—Ä—ã. –ò —Ç–∞–∫ –∂–µ –∏–º–µ–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é \npriorityInversionDemo()\n. –í –Ω–µ–π —Å–æ–∑–¥–∞–µ–º 3 –æ—á–µ—Ä–µ–¥–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ QoS (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏). –ù–∞–ø–æ–º–Ω—é —á—Ç–æ –∏–∑ —ç—Ç–∏—Ö —Ç—Ä–µ—Ö —Å–∞–º–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è - \nuserInteractive\n, –∞ —Å–∞–º–∞—è –º–µ–Ω–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è - \nbackground\n. –ò–∑ \nuserInteractive\n  –æ—á–µ—Ä–µ–¥–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–ø—É—Å—Ç–∏–º –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–∞—à–µ–≥–æ –æ–≥–æ—Ä–æ–¥–∞. –ü–æ–º–∏–¥–æ—Ä—ã –≤—ã–≤–æ–¥–∏–º –≤ –±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ —á–µ–º –æ–≥—É—Ä—Ü—ã. –ó–∞–ø—É—Å—Ç–∏–≤ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ —Å—Ä–µ–¥–Ω–µ–º —É–≤–∏–¥–∏–º –≤–æ—Ç —Ç–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:\nüçÖ\nüçÖ\nüçÖ\nüçÖ\nüçÖ\nü•í\nüçÖ\nüçÖ\nü•í\nü•í\nü•í\nü•í\nü•í\nü•í\n–ü–æ–º–∏–¥–æ—Ä—ã –Ω–µ –æ—Å—Ç–∞–≤–∏–ª–∏ —à–∞–Ω—Å–∞ –æ–≥—É—Ä—Ü–∞–º, —á—Ç–æ –ª–æ–≥–∏—á–Ω–æ, –≤–µ–¥—å –æ–Ω–∏ –ø—Ä–∏–Ω—Ç—è—Ç—Å—è –∏–∑ –±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏. –¢–µ–ø–µ—Ä—å –Ω–µ–º–Ω–æ–≥–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é.\nfunc printCucumbers() {\n  for _ in 0..<7 {\n    print(\"ü•í\")\n  }\n}\n\nfunc printTomatos() {\n  for _ in 0..<7 {\n    print(\"üçÖ\")\n  }\n}\n\nfunc priorityInversionDemo() {\n  let userInteractiveQueue = DispatchQueue(label: \"com.demo.userInteractive\", qos: .userInteractive)\n  let userInitiatedQueue = DispatchQueue(label: \"com.demo.userInitiated\", qos: .userInitiated)\n  let backgroundQueue = DispatchQueue(label: \"com.demo.background\", qos: .background)\n\n  userInteractiveQueue.async {\n    backgroundQueue.async {\n      printCucumbers()\n    }\n\n    userInitiatedQueue.async {\n      printTomatos()\n    }\n\n    // –ù–æ–≤—ã–π –∫–æ–¥\n    backgroundQueue.sync {\n      print(\"Cucumber boss ü•í\")\n    }\n  }\n}\n–ò –∑–∞–ø—É—Å—Ç–∏–º:\nü•í\nü•í\nü•í\nü•í\nüçÖ\nüçÖ\nü•í\nü•í\nü•í\nüçÖ\nCucumber boss ü•í\nüçÖ\nüçÖ\nüçÖ\nüçÖ\n–¢–µ–ø–µ—Ä—å –æ–≥—É—Ä—Ü—ã –≤–ø–µ—Ä–µ–¥–∏. –ù–æ –ø–æ—á–µ–º—É —Ç–∞–∫? –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –≤—ã–∑–æ–≤ \nsync\n –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ –ø–æ—Ç–æ–∫–µ –æ—á–µ—Ä–µ–¥–∏ –∏–∑ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω –±—ã–ª –≤—ã–∑–≤–∞–Ω. –ú—ã –≤—ã–∑—ã–≤–∞–µ–º –∏–∑ \nuserInteractive\n –æ—á–µ—Ä–µ–¥–∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ \nprint(\"Cucumber boss ü•í\")\n –±—É–¥–µ—Ç —Å–∞–º–æ–π –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–µ–π. –í—Å–µ –Ω–∞—à–∏ –æ—á–µ—Ä–µ–¥–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ, –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–∏–ª–∞—Å—å –≤ –æ—á–µ—Ä–µ–¥—å —Å–∞–º–æ–π –ø–æ—Å–ª–µ–¥–Ω–µ–π, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –µ–π –Ω—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å –ø–æ–∫–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ç–∞—Å–∫–∏ –∏–∑ \nbackground\n –æ—á–µ—Ä–µ–¥–∏ (—ç—Ç–æ –ø—Ä–∏–Ω—Ç –æ–≥—É—Ä—Ü–æ–≤). –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ GCD –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–¥–∞—á \nbackground\n –æ—á–µ—Ä–µ–¥–∏, –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –Ω–∞—à–∞ –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è —Ç–∞—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –∏ –≤–¥–æ–±–∞–≤–æ–∫ –∫ —ç—Ç–æ–º—É –æ–≥—É—Ä—Ü—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ –º—ã —É–≤–∏–¥–∏–º —Ä–∞–Ω—å—à–µ —Ç–æ–º–∞—Ç–æ–≤ (—Ö–æ—Ç—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É –Ω–∏—Ö –Ω–∏–∂–µ).\n–†–∞–±–æ—Ç–∞—è —Å async/await —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –æ—á–µ—Ä–µ–¥—è–º–∏ –Ω–∞–ø—Ä—è–º—É—é. –í—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º, —á—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ priority inversion. \n4) Race condition\nRace condition (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ–Ω–∫–∏) –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–¥–Ω–∏–º —Ä–µ—Å—É—Ä—Å–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä –º–∞—Å—Å–∏–≤–æ–º). –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —ç—Ç–æ–≥–æ –ø–æ–ª—É—á–∞—é—Ç—Å—è –ª–∏–±–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ª–∏–±–æ –≤–æ–æ–±—â–µ –∫—Ä—ç—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ:\nvar array: [Int] = []\nlet queue = DispatchQueue(label: \"com.demo.queue\", attributes: .concurrent)\n\nqueue.async {\n  for i in 0..<100 {\n    array.append(i)\n  }\n}\n\nqueue.async {\n  for i in 0..<100 {\n    array.append(i)\n  }\n}\n–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤, concurrent –æ—á–µ—Ä–µ–¥—å –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ–º –Ω–∞ –Ω–µ–π –¥–≤–µ –∑–∞–¥–∞—á–∏ –∫–æ—Ç–æ—Ä—ã–µ –≤ —Ü–∏–∫–ª–µ –¥–æ–±–∞–≤–ª—è—é—Ç –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —ç—Ç–æ—Ç –º–∞—Å—Å–∏–≤. –í –ø–æ–¥–∞–≤–ª—è—é—â–µ–º –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –∑–∞–ø—É—Å–∫–æ–≤ –¥–∞–Ω–Ω—ã–π –∫–æ–¥ —É–ø–∞–¥–µ—Ç, —Ç–∫ –º—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –Ω–∞—à –º–∞—Å—Å–∏–≤. \n–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∏–∫ –ø–æ –±–æ—Ä—å–±–µ —Å race condition. –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –≤–æ –≤—Ä–µ–º—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –ª–æ–∫–æ–≤, —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–∞—Å—Å–∏–≤–æ–º –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞—Ä—å–µ—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –≤ concurrent –æ—á–µ—Ä–µ–¥–∏. –ú—ã –Ω–µ –±—É–¥–µ–º –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ —ç—Ç–∏ —Å–ø–æ—Å–æ–±—ã.\n–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∫–∞–∫ –æ–±—Å—Ç–æ—è—Ç –¥–µ–ª–∞ —Å —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π –≤ swift 5.5+. –ü–æ–º–µ–Ω—è–ª–æ—Å—å –ª–∏ —á—Ç–æ-—Ç–æ c –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º async/await? –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —É—à–ª–∞, –ø–æ–º–Ω–∏—Ç—å –æ –Ω–µ–π –≤—Å–µ –µ—â–µ –Ω—É–∂–Ω–æ. –ù–æ –µ—Å—Ç—å –∏ —Ö–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å, –≤–º–µ—Å—Ç–µ —Å async/await apple –≤–Ω–µ–¥—Ä–∏–ª–∏ –Ω–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏. –≠—Ç–æ actor'—ã –∏ sendable, –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ –Ω–∏—Ö –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —á–∞—Å—Ç—è—Ö. –°–µ–π—á–∞—Å –∂–µ –≤–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ç–µ–ø–µ—Ä—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –Ω–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π —Å–º–æ–∂–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ç–µ–º —á—Ç–æ–± –æ–±—ä–µ–∫—Ç—ã –±—ã–ª–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Ç–æ–∫–æ-–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏.\n–ò—Ç–æ–≥–∏\n–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ —Ä—è–¥ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ —É—Ö–æ–¥—è—Ç –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å async/await. –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–∞—è –∏ –ø—Ä–æ—Å—Ç–∞—è –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, —É–∂–µ –¥–∞–≤–Ω–æ –æ–±–∫–∞—Ç–∞–Ω–Ω–∞—è –≤ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ù–æ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ swift –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –∏ —É–ª—É—á—à–∞–µ—Ç—Å—è. –î–∞–≤–∞–π—Ç–µ –±—ã—Ç—å –∫–∞–∫ swift. –ò —è –Ω–µ –ø—Ä–æ —Ç–æ —á—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤—Å–µ —Å –æ–ø–æ–∑–¥–∞–Ω–∏–µ–º –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç)\n–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏\nSwift evolution. Async/await proposal\nWWDC 2021. Meet async/await in swift\nWWDC 2021. Swift concurrency: Behind the scenes \nThe Swift Programming Language. Concurrency\n \n ",
    "tags": [
        "swift",
        "async/await",
        "concurrency",
        "gcd",
        "ios",
        "kandinsky art"
    ]
}