{
    "article_id": "695468",
    "article_name": "Раз и навсегда про тёмную тему или почему вам «на самом деле» нужна тёмная тема",
    "content": "Существует ли вообще указанная «проблема» и так ли на самом деле всем «нужна» тёмная тема? Сей вопрос, кажется, уже как и где только ни обсасывался, но взглянув на аргументацию большинства статей по теме захотелось разобраться ещё подробнее. Если вы нетерпеливы и просто хотите знать ответ на вопрос из заголовка — просто листайте до выводов.\nНачнём издалека, поэтому для начала выясним, что на сей счёт думают сами пользователи, чья работа подразумевает восьмичасовое просиживание глаз за монитором, то есть самая чувствительная к проблеме категория — программисты.\nНапример, по результатам \nопроса \nна сайте CSS‑Tricks: 37% участников проголосовали за светлую тему и 63% за тёмную. Я не смог найти число участников опроса, поэтому сложно оценить  репрезентативность.\nЕсть более свежее \nисследование\n от JetBrains. Там, правда, лишь упоминание, что «\n77% of respondents use dark theme for their editor or IDE\n«, но в исследование приняло участие 6000 разработчиков, что, согласитесь, уже более значимо статистически.\nНа нашем любимом Хабре я на скорую руку нашёл две статьи на эту тему, содержащие опросы с большим количеством участников, почему‑то обе за 2019-й год (видимо пик интереса к вопросу, так как в более старых статьях опросы не набирали и тысячи участников):\nВ \nперевод статьи\n от Lilly Smith \n@PatientZero \nдобавил опрос, согласно которому 52.3% процента хабраюзеров предпочитают тёмную тему, 23% предпочитают светлую, а остальные используют тёмную «если это идет сайту/приложению». То есть, по сути опять не менее 2/3 за тёмную тему. Всего проголосовали 1580 пользователей.\nВ статье «\nПочему разработчики так любят тёмную тему\n» в опросе участвовало уже 3372 хабра‑пользователя, из которых уже 72.2% выбрали тёмную тему.\nВообще статей и опросов в сети я нашёл, конечно, больше, но систематизировать это всё цели у меня особой не было (далее поймёте почему), кроме того не очень понятно как учесть гипотетическое пересечение участников для разных опросов. Поэтому сойдёмся на том, что для предварительных выводов числа участников достаточно — по имеющимся данным можно заключить, что вероятно значительная часть (~⅔) программистов по «некоей причине» предпочитает тёмную тему.\nВспоминаем как устроен глаз\nДоставляет печали, что далеко не каждый, кто умничает на эту тему в интернетах, потрудился разобраться в строении глаза. Это камень в огород некоего Andrew Braun, на которого ссылалась \n@zverolyub \nв своей статье. А именно, он заявляет буквально следующее (мой вольный перевод):\nНашей радужке не нужно широко раскрываться, чтобы получить достаточно света, что сохраняет её естественную форму. Поскольку хрусталик не деформируется из‑за более широкого зрачка, мы можем видеть вещи более четко.\nAndrew, видимо, не до конца понимает как собственно работает глаз. Для начала неплохо вспомнить, что за размер отверстия зрачка отвечают \nдве\n разные мышцы — \nдилататор \n(расширитель) и \nсфинктер \n(суживатель) зрачка. Это мышцы‑антагонисты и для поддержания постоянной формы и размера зрачка работать будут обе мышцы (погуглите «Признак Белоглазова» — как выглядят зрачки у людей после смерти, прекрасное новое знание). А вот в крайнем открытом положении сфинктер в основном просто остаётся расслабленным и напряжён лишь дилататор, то есть вовсе не факт, что крайнее положение обязательно будет более энергозатратным и будет что‑то там сильно деформировать.\nСтроение глаза в интересующей нас области\nВо-вторых, утверждение про деформацию хрусталика также не совсем верно. За деформацию хрусталика (аккомодация) отвечает отдельная мышца - \nцилиарная\n. Да, в этом месте конечно всё очень близко расположено и напряжение дилататора, вероятно тоже в некоторой степени деформирует хрусталик, но как-то сомнительно, что это имеет такой уж значительный эффект на формируемое изображение.\nПримечательно, что на иллюстрации в той статье дилататор и сфинктер вообще не отображены, зато цилиарная мышца отмечена. В Вики нашлась картинка чуть нагляднее.\n(\nя хотел чтобы текст ровно обтекал иллюстрацию слева, но не справился с новым редактором, простите\n)\nДумаю и так интуитивно понятно — если бы за деформацию хрусталика и сужение роговицы отвечала одна и та же мышца, у нас не было бы возможности фокусироваться на разных предметах не изменяя при этом яркость изображения, поэтому «искажение изображения» тут ни при чём.\nВпрочем, есть ещё одна теория, утверждающая, что при более узком зрачке больше глубина резкости (знакомый фотографам эффект закрытой диафрагмы), поэтому людям не приходится прилагать много усилий, чтобы фокусироваться на тексте. Это звучит более убедительно, хотя я всё ещё не понимаю с чего бы при длительной работе на одном и том же расстоянии от монитора и примерно с одним и тем же шрифтом приходилось бы часто перефокусироваться.\nОсновной вывод из всего этого в том, что «вероятно» существует некий уровень яркости, который оптимален для глаз.\nЦелый день смотреть на яркую лампу (коей по сути является монитор) да ещё и при окружающем ярком освещении точно не самая разумная затея. Смотреть на тёмный экран в тёмной комнате — тоже идея не из лучших. Смотреть на яркий экран в тёмной комнате — вряд ли кому‑то понравится. Ну, я думаю суть вы уловили.\nМоё личное наблюдение заключается в том, что на усталость глаз от монитора чаще жалуются те товарищи, которые зачем‑то выкручивают себе яркость на 100% и смотрят на это целую рабочую неделю.\nНе буду тут давать конкретных рекомендаций по настройке яркости, думаю это всё же индивидуально, но надеюсь все согласны, что крайних значений стоит избегать.\nАкадемическая точка зрения\nВполне закономерно, что особенно часто рассуждения на тему цветовой схемы можно встретить в среде дизайнеров интерфейсов. Дизайнерам хочется разобраться как делать лучше, поэтому они ищут аргументы и ссылаются на различные научные исследования. И как‑то так уж получается, что аргументация учёных в вопросе цветовых схем строится (в основном) на скорости и качестве восприятия информации. Я не поленился и прочёл около двух десятков различных работ на которые чаще остальных ссылаются в дискуссиях по вопросу. Ну и до кучи ещё несколько сопутствующих.\nИтак, чаще всего звучит утверждение, что чёрный текст на белом фоне (позитивная цветовая схема в терминологии учёных) быстрее и точнее воспринимается, чем соответственно белый на чёрном фоне (негативная схема).\nКак вы увидите далее, методика подобных исследований почти всегда очень похожа, но почему‑то везде есть какие‑то свои странности и нюансы. Вот несколько примеров:\nИсследователи используют различные цветовые схемы и замеряют скорость чтения текста (на известном участнику языке) в разных сочетаниях и замеряют время, а затем задают участникам вопросы по тексту — \nEffects of Background Colors on Reading Speed \n[1]. Использовалась цветная бумага, причём варианта «белое на чёрном» не было вообще. \nИсследователи пришли к ошеломляющему результату, что на красном фоне текст читать тяжелее всего!\nВ исследовании, опубликованном в журнале \nErgonomics (Piepenbrock, 2013)\n [2], испытуемых сажали в темную комнату с «\n24-inch (1920×1200 pixels) TFT display of an Apple iMac\n» и тремя настольными лампами, которые были расставлены по углам комнаты и направлены к стенам, а затем проверяли остроту зрения с помощью колец Ландольта (это такая таблица с повёрнутыми в разные стороны буквами С). Примечательно, что для позитивной цветовой схемы окружающее освещение было включено (освещённость 16 lx), а для тёмной схемы лампы выключены (0 lx), т. е. при тестировании тёмных схем \nиспытуемые сидели почти в полной темноте\n. В тех же самых условиях испытуемых просили прочесть текст и найти ошибки. \nФеноменальным образом оказалось, что тёмный экран в совершенно тёмной комнате во всех случаях видно было несколько хуже, чем светлый при нормальном освещении!\nЧаще всего в подобных исследованиях просят искать ошибки в тексте, либо, например искать определённое слово на разных цветовых схемах, как это делали в статье \nReadability Of Websites With Various Foreground/Background Color Combinations, Font Types And Word Styles \n[3]. Там тоже была достаточно забавная методика, потому что выбрали шесть прелестных цветовых комбинаций: желтый на синем, белый на синем, красный на зеленом, черный на сером, черный на белом, и зеленый на желтом (sic!). Учёные пришли к прорывному выводу, что красный на зелёном читается хуже всего. Впрочем, интересный момент тоже есть — оказывается, по сравнению с остальными схемами, классический вариант «чёрный на белом» ни в одном из случаев не показал лучший результат, а лучшим оказался почему‑то и вовсе «зелёный на жёлтом», что конечно полный треш.\nЕщё одно исследование влияния сочетаний текста и фона — \nThe Effect of Web Page Text‑Background Color Combinations on Retention and Perceived Readability, Aesthetics and Behavioral Intention \n[4]. Участникам давали читать разные тексты в разных цветовых схемах, а затем задавали вопросы по прочитанному. В этот раз авторы догадались добавить в сравнение негативную схему «белое на чёрном», правда остальные схемы почему‑то всё такие же шизовые — голубой на темно‑синем и бирюзовый на черном. Анализ данных «\nпоказал что участникам больше всего нравился вариант „голубой на тёмно‑синем“, а хуже всего читался бирюзовый на чёрном\n«. Тут, признаюсь, я даже не стал искать полный текст...\n...и ещё с пяток подобных исследований с аналогичными методами и такими же странными постановками экспериментов.\nХочется отметить статью \nText-background polarity affects performance irrespective of ambient illumination and colour contrast (Buchner & Baumgartner, 2007)\n [5], которая несколько выделяется на фоне остальных и кажется будто бы её авторы наиболее убедительны и скрупулёзны. Во-первых, хоть методика и похожа (участники также искали ошибки в тексте при разных схемах), однако тут участников было заметно больше чем у других, экспериментов несколько и оформлено всё с большой тщательностью. Во-вторых, важно что участников додумались не сажать в полную темноту для тестирования \"тёмных\" схем, а оставили небольшое фоновое освещение (5 lx, что на мой взгляд всё же маловато, ну да хоть что-то).\nКроме того, это одно из немногих исследований, где помимо частоты ошибок исследователи оценивали множество физиологических параметров (например усталость глаз, головная боль и т. п.), и даже сделали какие‑то выводы с ними связанные (в отличии от [2], где авторы не сочли результаты таких измерений значимыми). Единственное, что меня смущает у \nBuchner & Baumgartner\n [5], это исчезающе малая разница в найденных ошибках между обычными позитивной и негативной Ч\\Б схемами — разница всего 3–4 ошибки при погрешности около 2 и максимуме около 11–13. Хотя разница безусловно есть и она превышает погрешность, но сомнений добавляет тот факт, что в разных экспериментах даже для классической светлой Ч\\Б‑схемы значения различаются больше, чем на погрешность. Может быть следовало провести ещё больше экспериментов и упростить методику?\nЧто не так с этими исследованиями\nОдна из больших проблем всех эти исследований заключается в том, что значительная доля работ сделана более 20 лет назад. И я считаю, что все исследования читабельности цветовых схем на экранах, сделанные раньше начала нулевых, следует попросту игнорировать по одной простой причине — практически все они проводились на ЭЛТ мониторах. Причин, по которой инвертированная схема на ЭЛТ выглядит хуже, две:\nЭЛТ так устроен, что изображение постоянно «моргает» и в перерывах между обновлениями маленький белый текст даёт меньше света;\nНизкая контрастность мелкого белого текста, ввиду несовершенства технологии ЭЛТ. \nБолее того, если текст на ЭЛТ отображается близко к углам, к этому ещё добавляются дополнительные искажения (нижняя часть первого фото под спойлером).\nМакро-фотографии различных схем на ЭЛТ и ЖК-дисплеях\nВот так текст выглядит на ЭЛТ-мониторах\nДля современных ЖК-дисплеев разница уже не столь однозначна:\nТекст на современном ЖК-мониторе (всего лишь FullHD)\nКстати, \nBuchner & Baumgartner\n [5] даже отдельно упомянули этот момент, мол «\nмы в курсе про моргание CRT‑мониторов, в том числе и поэтому данное исследование проводилось на TFT‑дисплеях\n«. Вот только это, опять же, 2007-й год и использовали они „\nApple 17-inch TFT Studio Display“\n, который может и был хорош для своего времени, но с современными 4k AMOLED‑мониторами его даже смешно сравнивать.\nКороче говоря, даже ЖК‑мониторы двадцатилетней давности не блистали качеством отображения шрифтов (\nClearType\n, к слову, как раз для старых ЖК и придумали), поэтому все эти древние исследования сегодня уже можно считать неудовлетворительными.\nОкей. Старые исследования мы отбрасываем, это всё? Как бы не так.\nКак вы уже поняли, большая часть исследований данной темы посвящено двум вполне конкретным нюансам — влиянию яркости и контраста на качество восприятия.\nЯ не просто так выше акцентировал внимание на окружающей освещённости в экспериментах. Ещё с бородатых времён человеческой цивилизации известно, что освещённость рабочего места значительно влияет на производительность рабочего. Каждый, кто подписывал на работе инструктаж по безопасности, знает, что эти вещи вдоль и поперёк зарегламентированы всевозможными СНиПами, ГОСТами, да и вообще стандартами на любой вкус \n(попробуйте погуглить, ради интереса, сколько подобных регламентов существует на западе — я больше 20 насчитал)\n.\nА как именно влияет освещённость рабочего места? Невероятно, но хорошо освещённое рабочее место увеличивает продуктивность и уменьшает количество совершаемых ошибок!\nНапример Shafique Rahman в 2018-м году [6] в своём исследование пришёл к выводу, что хорошо (но не слишком!) освещённое рабочее место повышает производительность. А вот в исследовании \nIlluminating the Effects of Dynamic Lighting on Student Learning (Mott, et al., 2012)\n [7] выяснили, что при хорошем освещении у школьников улучшается успеваемость. У отечественных авторов тоже есть с десяток статей на эту тему, но искать полный текст тяжелее, поэтому ссылок не даю, верьте на слово.\nВ общем, судя по всему, большая часть исследований мало уделяет внимания тому факту, что светлые цветовые схемы позитивно влияют на концентрацию внимания вовсе не из‑за особенностей восприятия различных цветов на различных бэкграундах, а просто из‑за общего позитивного влияния окружающей яркости на концентрацию. На это намекает очень много моментов, практически в каждом исследовании. Справедливости ради, некоторые всё же упоминают, что «видимо общая яркость текста и фона имеет больше значения чем цветовая схема», например Cosima Piepenbrock уже через год после первого своего упомянутого здесь исследования по теме [2], делает второе [8], и третье [9] почти тем же составом соавторов. И теперь исследователи уже прямо пишут, что лучшее восприятие изображение обусловлено более чётким изображением на сетчатке, \nвследствие более высокой общей яркости и меньшего зрачка\n.\nПогодите‑ка, разве мы выбираем тёмную тему потому что нам кровь из носу необходимо видеть каждую ошибку в тексте?\nГде же исследования долговременной усталости глаз при использовании негативной или позитивной цветовой схемы на протяжении хотя бы пары недель? А вот недавно товарищи из Китая как раз именно такое и сделали: Study on the Effects of Display Color Mode and Luminance Contrast on Visual Fatigue [10]. Исследование достаточно замороченное, но нас интересуют выводы. А выводы там вот такие:\nAbout color mode, results of objective indicators indicated that using electronic screens in the dark mode leads to an increase in BR and PA with respect to the light mode. \nIt meant that objectively the dark mode resulted in less visual fatigue.\nТам же, в этом китайском исследовании весьма объёмная часть посвящена влиянию контрастности между текстом и фоном, но основная для нас мысль следующая — \nпри использовании тёмной темы глаза устают меньше\n.\nЯ, безусловно, не претендую на глубокую академичность в своих суждениях, буду только рад если вы меня дополните. Но не торопитесь делать выводы, это был лишь обзор мнений на вопрос, не более.\nБолее важную проблему, которая собственно и побудила меня написать статью, я оставил на сладкое. Итак, у меня для вас припасён ещё один важнейший аргумент, про который почему‑то все либо совершенно обходят стороной при обсуждении данной темы, либо касаются лишь вскользь. И это очень грустно.\nПочему же тёмная тема важна на самом деле\nПрактически во всех вышеупомянутых исследованиях можно встретить оговорку \"верно для людей без проблем со зрением\". Сейчас, мы кажется дожили до того момента когда до веб-дизайнеров начало, наконец-то медленно и со скрипом доходить, что их интерфейсами \nнеизбежно\n будут пользоваться ещё и люди страдающие от тех или иных проблем со зрением.\nНо, вот беда, почему-то даже самые именитые дизайнеры, хвастаясь, что уделили время доступности (\nкамень в огород Татьяныча\n) забывают об одном довольно простом недуге, который очень вероятно коснётся почти каждого из нас. Речь о катаракте, или, иначе говоря о помутнении хрусталика.\nПосмотрите например, как прекрасно для человека даже с незначительной катарактой выглядит Хабр:\nПосмотри как прекрасен мир с катарактой\nИменно так люди даже с небольшим помутнением хрусталика видят \nбуквально\n \nвсе сайты с белой темой\n. Да, да, если вы тот самый дизайнер, который два часа думал куда же поставить эту красивую кнопочку — в левый угол или в правый, знайте — если у вас до сих пор только белая тема, пользователю с катарактой скорее всего плевать куда вы в конце концов воткнёте эту кнопку и даже как она будет выглядеть.\nЕсли вы думаете, что это нечто редкое и об этом можно не беспокоиться, я вас огорчу — у меня есть занимательное исследование и на сей счёт: «\nСреди обследованных мужчин и женщин 55–84 лет распространенность катаракты составила 72,8%\n«, (Мунц, 2020) [11].\nБолее того, есть ряд заболеваний, при которых катаракта является осложнением и встречается в более раннем возрасте, так что доля тех, кто видит сайты размытыми, ещё выше.\nПочему так происходит? Ответ прост — при катаракте чаще всего (хотя и не всегда) мутнеет центр хрусталика, из‑за чего при суженном зрачке всё поле зрения оказывается мутным, однако когда на сетчатку попадает меньше света (тёмная тема), зрачок несколько расширяется и для формирования изображения начинают использоваться больше прозрачных областей хрусталика, поэтому воспринимается более чётко.\nИ поверьте, я не теоретизирую — у меня самого уже несколько лет катаракта, вследствие чего я вынужден пользоваться исключительно тёмной темой везде, где это возможно (к сожалению пока не везде).\nК слову, ещё существуют люди, страдающие фотофобией, им тёмная тема тоже облегчает пользование сайтами, хотя таких людей действительно не так много, но всё же.\nРезюме\nИтак, для любителей читать только последние абзацы, краткие выводы из всех моих растеканий по древу:\nЕсли ваш сайт\\приложение требует повышенной концентрации внимания, возможно «светлая» цветовая схема для вас будет оптимальна, если конечно не подразумевается длительного использования, в противном случае существует шанс, что накопленное утомление глаз будет перевешивать позитивные эффекты от повышения концентрации внимания вызванного общей повышенной яркостью.\nПри длительном использовании «тёмные» цветовые схемы вызывают меньше утомления глаз.\nБольшая часть пользователей вынужденных проводить за компьютером длительное время предпочитает тёмную тему независимо от того что лично вы думаете на сей счёт.\nЕсли вам не безразлично как ваш сайт видят люди с нарушениями зрения — вы \nдолжны\n предоставить пользователям возможность использовать тёмную тему независимо от того согласны ли вы с первыми двумя пунктами.\nМногие крупные сайты постепенно начали исправляться, не так давно тот же Яндекс начал добавлять тёмную тему для всех своих сервисов, за что этим ребятам большой почёт и уважение (хотя команда Маркета что‑то не торопится).\nОчень помогает и небезызвестный \nDarkReader\n, хотя он не везде работает корректно и иногда тормозит, это всё же лучше чем ничего. Кстати у Chrome есть даже встроенная возможность принудительно включить тёмную тему (\nchrome\n://flags/#enable‑force‑dark\n), но работает оно не всегда лучшим образом.\nК сожалению, многие разработчики считают, что тёмная тема это нечто из разряда примочек, которые можно реализовать когда‑нибудь по остаточному принципу. Например почти во многих крупных проектах в которых я работал, архитектура предусматривала возможность устанавливать собственную тему, для этого нужно было всего лишь добавить ещё один файл стилей и добавить одну крошечную настройку в профиль пользователя, но на это, разумеется никто не выделял времени, потому что «у бизнеса другие таски» (ну да вы наверняка и сами знаете как оно бывает).\nХочется думать, что здесь всё ещё значительное число людей, имеющих непосредственное отношение к веб‑разработке, поэтому надеюсь обратить на проблему ваше внимание. Спасибо за прочтение и не болейте!\nUpd. Вижу некоторые читатели не совсем верно меня поняли и упомянули, что я забыл про другие нарушения со зрением, например астигматизм, при котором тёмная тема читается хуже. Я ни в коем случае не забыл и я, конечно не призываю делать доступной \nтолько\n тёмную тему, нет. Дело в том, что у абсолютного большинства сайтов и приложений доступна лишь светлая тема. Речь скорее о том, что у пользователя должен быть выбор.\nСписок использованных источников\nEffects of Background Colors on Reading Speed (Yigit Aslan, 2019)\nPositive display polarity is advantageous for both younger and older adults (Piepenbrock, Mayr, Mund, Buchner, 2013)\nReadability Of Websites With Various Foreground / Background Color Combinations, Font Types And Word Styles (Hill and Scharff, 1997)\nThe Effect of Web Page Text-Background Color Combinations on Retention and Perceived Readability, Aesthetics and Behavioral Intention (Hall & Hanna, 2003)\nText – background polarity affects performance irrespective of ambient illumination and colour contrast (Buchner & Baumgartner, 2007)\nEffect of Illuminance on Human Work Performance, an assessment based on Lighting Laboratory experiment (Shafique Rahman, 2018)\nIlluminating the Effects of Dynamic Lighting on Student Learning (Mott, et al., 2012) \nSmaller pupil size and better proofreading performance withpositive than with negative polarity displays (Piepenbrock, Mayr, Buchner, 2014)\nPositive display polarity is particularly advantageous for small character sizes: implications for display design (Piepenbrock, Mayr, Buchner, 2014)\nStudy on the Effects of Display Color Mode and Luminance Contrast on Visual Fatigue (Xie, Song, Liu, et al., 2021) \nРаспространенность офтальмологических заболеваний\nв популяционной выборке старше 50 лет (Мунц, 2020)\n \n ",
    "tags": [
        "темная тема",
        "катаракта",
        "доступность",
        "интерфейсы"
    ]
}